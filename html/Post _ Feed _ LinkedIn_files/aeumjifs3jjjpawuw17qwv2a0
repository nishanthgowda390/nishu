define.alias("@glimmer/component/-private/ember-component-manager","msg-overlay/component-managers/glimmer")
define("msg-overlay/components/abi-flow",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"bqvZfYiN",block:'{"symbols":["@isAbiComplete"],"statements":[[2,"\\n"],[11,"div"],[24,0,"msg-overlay-abi text-align-center ph6"],[4,[38,5],null,[["pageKey","routeName","currentRoute"],[[30,[36,4],[[32,1],"flagship3_messaging_overlay_abi_completed.page","flagship3_messaging_overlay_abi.page"],null],[30,[36,3],[[30,[36,2],["outletState"],null],"render.name"],null],[30,[36,3],[[30,[36,2],["outletState"],null],"render"],null]]]],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-abi__illustration"],[12],[13],[2,"\\n"],[6,[37,4],[[32,1]],null,[["default","else"],[{"statements":[[2,"    "],[10,"p"],[14,0,"t-14 t-black--light t-normal"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_start_conversations","msg-overlay/components/abi-flow"],null]],[2,"\\n    "],[13],[2,"\\n    "],[8,"ember-engines@link-to-external",[[4,[38,1],["overlay.find_connections"],null]],[["@route","@class"],["mynetwork","msg-overlay-abi__cta artdeco-button mt4"]],[["default"],[{"statements":[[2,"\\n      "],[1,[30,[36,0],["i18n_find_connections","msg-overlay/components/abi-flow"],null]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"h4"],[14,0,"t-16 t-black t-bold"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_keep_in_touch","msg-overlay/components/abi-flow"],null]],[2,"\\n    "],[13],[2,"\\n    "],[10,"p"],[14,0,"t-14 t-black--light t-normal mt3 mb3"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_find_people","msg-overlay/components/abi-flow"],null]],[2,"\\n    "],[13],[2,"\\n    "],[8,"ember-engines@link-to-external",[[4,[38,1],["overlay.abi"],null]],[["@route","@class"],["mynetwork.abi","msg-overlay-abi__find-new-connections t-14"]],[["default"],[{"statements":[[2,"\\n      "],[1,[30,[36,0],["i18n_find_new_connections","msg-overlay/components/abi-flow"],null]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["t","ember-cli-pemberly-tracking@track-interaction","-get-dynamic-var","get","if","ember-cli-pemberly-tracking@track-render"]}',meta:{moduleName:"msg-overlay/components/abi-flow.hbs"}})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})
define("msg-overlay/components/active-status-onboarding",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","global-utils/utils/get-csrf-token"],function(e,t,n,s,a,o,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i,l,c,m,d,u,p,g,b,h,v,y,f,_,E,C,w,O,M
const S=Ember.HTMLBars.template({id:"rBOQE0Dz",block:'{"symbols":[],"statements":[[6,[37,3],[[32,0,["showActiveStatusOnboarding"]]],null,[["default"],[{"statements":[[2,"  "],[11,"div"],[24,0,"msg-overlay-active-status-onboarding"],[4,[38,0],["click",[32,0,["stopPropagation"]]],null],[12],[2,"\\n    "],[10,"p"],[14,0,"t-14"],[12],[2,"\\n      "],[1,[30,[36,1],["i18n_active_status","msg-overlay/components/active-status-onboarding"],null]],[2,"\\n      "],[10,"a"],[14,6,"/help/linkedin/answer/84123"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"t-black link-without-visited-state"],[12],[2,"\\n        "],[1,[30,[36,1],["i18n_learn_more","msg-overlay/components/active-status-onboarding"],null]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"display-flex justify-flex-end mt2"],[12],[2,"\\n      "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[30,[36,1],["a11y_manage_active_status","msg-overlay/components/active-status-onboarding"],null]],[4,[38,0],["click",[32,0,["manageActiveStatus"]]],null],[4,[38,2],["active_status_onboarding_manage"],null]],[["@class","@size","@type","@color"],["mr2","1","tertiary","muted"]],[["default"],[{"statements":[[2,"\\n        "],[1,[30,[36,1],["i18n_manage","msg-overlay/components/active-status-onboarding"],null]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n      "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[30,[36,1],["a11y_enable_active_status","msg-overlay/components/active-status-onboarding"],null]],[4,[38,0],["click",[32,0,["enableActiveStatus"]]],null],[4,[38,2],["active_status_onboarding_enable"],null]],[["@size"],["1"]],[["default"],[{"statements":[[2,"\\n        "],[1,[30,[36,1],["i18n_got_it","msg-overlay/components/active-status-onboarding"],null]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","t","ember-cli-pemberly-tracking@track-interaction","if"]}',meta:{moduleName:"msg-overlay/components/active-status-onboarding.hbs"}})
let k=(i=Ember.inject.service("global-services@a11y-notification"),l=Ember.inject.service("i18n"),c=Ember.inject.service("lego@resolver"),m=Ember.inject.service("lego@tracking"),d=Ember.inject.service("store"),u=Ember.inject.service("tracking"),p=Ember.inject.service("global-services@window"),g=Ember._tracked,b=Ember._action,h=Ember._action,v=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",y,this);(0,t.default)(this,"i18n",f,this);(0,t.default)(this,"legoResolver",_,this);(0,t.default)(this,"legoTracking",E,this);(0,t.default)(this,"store",C,this);(0,t.default)(this,"tracking",w,this);(0,t.default)(this,"windowService",O,this);(0,t.default)(this,"showActiveStatusOnboarding",M,this);(0,n.default)(this,"_legoWidgetTrackingToken",void 0)
this._fetchLegoWidget().then(()=>this._fetchActiveStatusSetting()).then(e=>{this.isDestroying||("HIDDEN"===e?this._showActiveStatusOnboarding():this._dismissLegoWidget())})}stopPropagation(e){e.stopPropagation()}_showActiveStatusOnboarding(){this.showActiveStatusOnboarding=!0
this.tracking.firePageViewEvent("flagship3_messaging_active_status_onboarding")
const e=this.i18n.lookupTranslation("components/msg-overlay@active-status-onboarding","i18n_active_status")()
this.a11yNotification.setTextInLiveRegion(e)}_completeActiveStatusOnboarding(){this.showActiveStatusOnboarding=!1
return this._enableActiveStatusSetting().then(()=>this._dismissLegoWidget())}_fetchLegoWidget(){return this.legoResolver.fireLegoCall({pageKey:"messaging_presence",slotId:"onboarding",groupId:"onboarding_group",widgetId:"presence_onboarding"}).then(e=>{if(!e)return Ember.RSVP.reject()
if(!this.isDestroying){this._legoWidgetTrackingToken=Ember.get(e,"trackingToken")
return e}})}_dismissLegoWidget(){this.legoTracking.sendLegoAction(this._legoWidgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}_fetchActiveStatusSetting(){return this.store.adapterFor("-ember-m3").ajax("/psettings/presence","get",{data:{asJson:!0}}).then(e=>{const t=Ember.get(e,"map.data.visibility")
if(!t)throw new Error("failed to get active status setting")
return t})}_enableActiveStatusSetting(){return this.store.adapterFor("-ember-m3").ajax("/psettings/presence/update-presence-settings","post",{data:{visibility:"CONNECTIONS",csrfToken:(0,r.default)()},headers:{"x-requested-with":"XMLHttpRequest"}}).then(e=>{const t=Ember.get(e,"result.responseCode")
if(200!==t)throw new Error(`failed to set active status setting, responseCode: ${t}`)})}enableActiveStatus(){this._completeActiveStatusOnboarding()}manageActiveStatus(){this._completeActiveStatusOnboarding().then(()=>this.windowService.open("/psettings/presence","_blank"))}},y=(0,s.default)(v.prototype,"a11yNotification",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(v.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(v.prototype,"legoResolver",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(v.prototype,"legoTracking",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,s.default)(v.prototype,"store",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(v.prototype,"tracking",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(v.prototype,"windowService",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,s.default)(v.prototype,"showActiveStatusOnboarding",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(v.prototype,"enableActiveStatus",[b],Object.getOwnPropertyDescriptor(v.prototype,"enableActiveStatus"),v.prototype),(0,s.default)(v.prototype,"manageActiveStatus",[h],Object.getOwnPropertyDescriptor(v.prototype,"manageActiveStatus"),v.prototype),v)
e.default=k
Ember._setComponentTemplate(S,k)})
define.alias("artdeco-button/components/artdeco-button","msg-overlay/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar-internal","msg-overlay/components/artdeco-calendar-internal")
define.alias("artdeco-carousel/components/artdeco-carousel-item","msg-overlay/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","msg-overlay/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","msg-overlay/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","msg-overlay/components/artdeco-carousel")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","msg-overlay/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker","msg-overlay/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange","msg-overlay/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","msg-overlay/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","msg-overlay/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","msg-overlay/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","msg-overlay/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","msg-overlay/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","msg-overlay/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","msg-overlay/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","msg-overlay/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","msg-overlay/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","msg-overlay/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","msg-overlay/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","msg-overlay/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","msg-overlay/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","msg-overlay/components/artdeco-entity-lockup")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","msg-overlay/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","msg-overlay/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","msg-overlay/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","msg-overlay/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","msg-overlay/components/artdeco-loader")
define.alias("artdeco-modal/components/container","msg-overlay/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","msg-overlay/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","msg-overlay/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","msg-overlay/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","msg-overlay/components/artdeco-modal")
define.alias("artdeco-notification-badge/components/artdeco-notification-badge","msg-overlay/components/artdeco-notification-badge")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","msg-overlay/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","msg-overlay/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","msg-overlay/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","msg-overlay/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","msg-overlay/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","msg-overlay/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","msg-overlay/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","msg-overlay/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","msg-overlay/components/artdeco-pill-toggle")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","msg-overlay/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","msg-overlay/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","msg-overlay/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","msg-overlay/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","msg-overlay/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","msg-overlay/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","msg-overlay/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","msg-overlay/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","msg-overlay/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","msg-overlay/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","msg-overlay/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","msg-overlay/components/artdeco-toggle")
define("msg-overlay/components/audio-bubble",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","ember-lifeline"],function(e,t,n,s,a,o,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i,l,c,m,d,u,p,g,b,h,v,y,f,_,E,C,w
const O=Ember.HTMLBars.template({id:"RUxXhNRx",block:'{"symbols":["assetLoader","dropdown","&attrs"],"statements":[[11,"div"],[24,"tabindex","-1"],[16,0,[31,["msg-overlay-list-bubble msg-overlay-audio-bubble\\n  ",[30,[36,2],[[32,0,["isMinimized"]],"msg-overlay-list-bubble--is-minimized"],null],"\\n  ",[30,[36,2],[[32,0,["isInMinimizeTransition"]],"msg-overlay-list-bubble--during-transition"],null]," ml4"]]],[4,[38,3],null,null],[4,[38,5],["transitioned",[30,[36,4],[[32,0],"isInMinimizeTransition",false],null]],null],[12],[2,"\\n  "],[10,"header"],[15,0,"msg-overlay-bubble-header"],[12],[2,"\\n    "],[10,"section"],[14,0,"msg-overlay-bubble-header__details flex-row align-items-center"],[12],[2,"\\n    "],[8,"artdeco-button@artdeco-button",[],[["@click","@text","@type","@size","@icon","@class"],[[32,0,["onLiveClick"]],[30,[36,6],["i18n_audio_room_live","msg-overlay/components/audio-bubble"],null],"primary",1,"microphone-icon","msg-overlay-audio-bubble__live-button"]],null],[2,"\\n\\n        "],[10,"h4"],[14,0,"truncate t-14 t-bold t-black"],[12],[2,"\\n"],[6,[37,2],[[32,0,["isMinimized"]]],null,[["default"],[{"statements":[[2,"          "],[1,[32,0,["audioRoomTitle"]]],[2,"\\n"]],"parameters":[]}]]],[2,"          "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n            "],[1,[30,[36,2],[[32,0,["isMinimized"]],[30,[36,6],["a11y_open_overlay","msg-overlay/components/audio-bubble"],null],[30,[36,6],["a11y_minimize_overlay","msg-overlay/components/audio-bubble"],null]],null]],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"section"],[14,0,"msg-overlay-bubble-header__controls display-flex"],[12],[2,"\\n\\n    "],[11,"div"],[17,3],[12],[2,"\\n      "],[8,"artdeco-dropdown@artdeco-dropdown",[],[["@isOpen","@onVisibilityChange","@justification"],[[32,0,["isAudioDropdownOpen"]],[32,0,["onVisibilityChange"]],"left"]],[["default"],[{"statements":[[2,"\\n        "],[8,[32,2,["dropdown-trigger"]],[[24,0,"t-black--light m0"]],[[],[]],[["default"],[{"statements":[[2,"\\n          "],[1,[30,[36,7],null,[["type","class","size"],["ellipsis-horizontal-icon","t-black--light","small"]]]],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n        "],[8,[32,2,["dropdown-content"]],[[24,0,"dropdown-options absolute white-space-nowrap"]],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"ul"],[12],[2,"\\n              "],[10,"li"],[14,0,"single-line"],[12],[2,"\\n                "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[24,0,"option-button"]],[[],[]],[["default"],[{"statements":[[2,"\\n                  "],[10,"span"],[14,0,"mh4 t-bold"],[12],[1,[30,[36,6],["i18n_audio_room_closed_caption","msg-overlay/components/audio-bubble"],null]],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n              "],[13],[2,"\\n          "],[13],[2,"\\n          "],[10,"ul"],[12],[2,"\\n              "],[10,"li"],[14,0,"single-line"],[12],[2,"\\n                "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[24,0,"option-button"]],[[],[]],[["default"],[{"statements":[[2,"\\n                  "],[10,"span"],[14,0,"mh4 t-bold"],[12],[1,[30,[36,6],["i18n_audio_room_report","msg-overlay/components/audio-bubble"],null]],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n              "],[13],[2,"\\n          "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n      "]],"parameters":[2]}]]],[2,"\\n    "],[13],[2,"\\n\\n      "],[8,"artdeco-button@artdeco-button",[[4,[38,8],[[30,[36,2],[[32,0,["isMinimized"]],"overlay_maximize_inbox","overlay_minimize_inbox"],null]],null]],[["@type","@text","@circle","@size","@icon","@click"],["tertiary",[30,[36,2],[[32,0,["isMinimized"]],[30,[36,6],["a11y_open_overlay","msg-overlay/components/audio-bubble"],null],[30,[36,6],["a11y_minimize_overlay","msg-overlay/components/audio-bubble"],null]],null],true,1,[30,[36,2],[[32,0,["isMinimized"]],"chevron-up-icon","chevron-down-icon"],null],[32,0,["toggleMinimize"]]]],null],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n\\n  "],[10,"section"],[14,0,"full-height display-flex flex-column"],[12],[2,"\\n    "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["live-audio"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"        "],[1,[30,[36,1],[[30,[36,0],["live-audio"],null]],null]],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[1]}]]],[2,"\\n  "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["-mount","component","if","msg-shared@block-scrolling","ember-set-helper@set","on","t","artdeco-icons-web@li-icon","ember-cli-pemberly-tracking@track-interaction"]}',meta:{moduleName:"msg-overlay/components/audio-bubble.hbs"}})
let M=(i=Ember.inject.service("authentication@authenticated-user"),l=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),c=Ember._tracked,m=Ember._tracked,d=Ember._tracked,u=Ember._tracked,p=Ember._action,g=Ember._action,b=Ember._action,h=Ember._action,v=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",y,this);(0,t.default)(this,"msgOverlayService",f,this);(0,t.default)(this,"isInMinimizeTransition",_,this);(0,t.default)(this,"bubbleMinimizeProperty",E,this);(0,t.default)(this,"triggerOnInsert",C,this);(0,t.default)(this,"isAudioDropdownOpen",w,this)}get isMinimized(){return this.msgOverlayService.audioBubbleIsMinimized}get audioRoomTitle(){return"The Future of Decentralized Finance"}get showAudioRoomEntry(){return(!this.isMinimized||this.isInMinimizeTransition)&&!this.showAudioRoom}get showAudioRoom(){return!this.isMinimized&&!this.showAudioRoomEntry&&this.userHasJoinedRoom}_updateMinimizedState(e){(0,r.runTask)(this,()=>this.msgOverlayService.updateListBubbleMinimizeState(e))}willDestroy(){(0,r.runDisposables)(this)}onLiveClick(){}stopEvtPropagation(e){e&&e.stopPropagation()}toggleMinimize(e){var t
null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e)
this.isInMinimizeTransition=!0
this.msgOverlayService.toggleAudioBubbleMinimized()}onVisibilityChange(){this.isAudioDropdownOpen?this.isAudioDropdownOpen=!1:this.isAudioDropdownOpen=!0}},y=(0,s.default)(v.prototype,"authenticatedUser",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(v.prototype,"msgOverlayService",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(v.prototype,"isInMinimizeTransition",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=(0,s.default)(v.prototype,"bubbleMinimizeProperty",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"isMinimized"}}),C=(0,s.default)(v.prototype,"triggerOnInsert",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=(0,s.default)(v.prototype,"isAudioDropdownOpen",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(v.prototype,"onLiveClick",[p],Object.getOwnPropertyDescriptor(v.prototype,"onLiveClick"),v.prototype),(0,s.default)(v.prototype,"stopEvtPropagation",[g],Object.getOwnPropertyDescriptor(v.prototype,"stopEvtPropagation"),v.prototype),(0,s.default)(v.prototype,"toggleMinimize",[b],Object.getOwnPropertyDescriptor(v.prototype,"toggleMinimize"),v.prototype),(0,s.default)(v.prototype,"onVisibilityChange",[h],Object.getOwnPropertyDescriptor(v.prototype,"onVisibilityChange"),v.prototype),v)
e.default=M
Ember._setComponentTemplate(O,M)})
define("msg-overlay/components/contextual-recommendation-list",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants","msg-overlay/utils/recommendation-helpers"],function(e,t,n,s,a,o,r,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,c,m,d,u,p,g,b,h,v,y,f,_,E,C,w,O,M,S,k,R,P,T,D,A,I,x
const N=Ember.HTMLBars.template({id:"kJupzIOt",block:'{"symbols":["suggestion","index","@suggestedRecipients"],"statements":[[10,"div"],[15,0,[31,["msg-overlay-list-bubble__contextual\\n    ",[30,[36,2],[[32,0,["isMinimized"]],"msg-overlay-list-bubble__contextual--minimized"],null]]]],[12],[2,"\\n  "],[10,"header"],[14,0,"msg-overlay-list-bubble__list-header"],[12],[2,"\\n"],[6,[37,2],[[32,0,["isFeedContext"]]],null,[["default","else"],[{"statements":[[2,"    "],[8,"ember-line-clamp@line-clamp",[],[["@text","@lines","@tagName","@classNames","@interactive"],[[30,[36,1],["i18n_connection_to_context_article","msg-overlay/components/contextual-recommendation-list"],[["count"],[[32,3,["length"]]]]],2,"h5","msg-overlay-list-bubble__list-header-title msg-overlay-list-bubble__list-header-title-suggestions msg-overlay-list-bubble__list-header-title-suggestions--feed-update t-12 t-black--light t-bold",false]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title msg-overlay-list-bubble__list-header-title-suggestions t-12 t-black--light t-bold truncate"],[12],[2,"\\n      "],[1,[30,[36,2],[[32,0,["isProfileContext"]],[30,[36,1],["i18n_connection_to_context_actor_member","msg-overlay/components/contextual-recommendation-list"],[["count","memberName"],[[32,3,["length"]],[30,[36,5],[[32,0,["contextActor"]]],null]]]],[30,[36,1],["i18n_connection_to_context_actor_company","msg-overlay/components/contextual-recommendation-list"],[["count","companyName"],[[32,3,["length"]],[32,0,["contextActor"]]]]]],null]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n  "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n    "],[1,[30,[36,1],["i18n_a11y_infinite_scroll","msg-overlay/components/contextual-recommendation-list"],null]],[2,"\\n  "],[13],[2,"\\n  "],[10,"ul"],[14,0,"msg-conversations-container__conversations-list msg-overlay-list-bubble__conversations-list"],[12],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["slicedSuggestedRecipients"]]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-overlay@recommendation-card",[],[["@suggestion","@actor","@messageRecommendation","@isFeedContext","@interactionTrackingHandler","@impressionTrackingHandler"],[[32,1],[32,0,["contextActor"]],[30,[36,4],[[32,0,["messageRecommendation"]],[32,1]],null],[32,0,["isFeedContext"]],[30,[36,4],[[32,0,["contextualRecommandationCardInteractionTracking"]],[32,1],"EXPAND"],null],[30,[36,4],[[32,0,["contextualRecommandationCardImpressionTracking"]],[32,1],[32,2]],null]]],null],[2,"\\n"]],"parameters":[1,2]}]]],[2,"  "],[13],[2,"\\n"],[6,[37,2],[[32,0,["hasMoreSuggestedRecipients"]]],null,[["default"],[{"statements":[[2,"  "],[11,"button"],[24,0,"full-width pv2 t-12 t-black--light t-bold"],[24,4,"button"],[4,[38,0],["click",[32,0,["toggleRemainingSuggestedRecipients"]]],null],[12],[2,"\\n    "],[10,"span"],[14,0,"msg-overlay-list-bubble__view-more-suggestions display-flex justify-center full-width"],[12],[2,"\\n      "],[1,[30,[36,2],[[32,0,["showRemainingSuggestions"]],[30,[36,1],["close","msg-overlay/components/contextual-recommendation-list"],null],[30,[36,1],["view_all","msg-overlay/components/contextual-recommendation-list"],null]],null]],[2,"\\n      "],[1,[30,[36,3],null,[["type","size","class"],[[30,[36,2],[[32,0,["showRemainingSuggestions"]],"chevron-up-icon","chevron-down-icon"],null],"small","ml1"]]]],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["on","t","if","artdeco-icons-web@li-icon","fn","global-helpers@name","-track-array","each"]}',meta:{moduleName:"msg-overlay/components/contextual-recommendation-list.hbs"}}),{OVERLAY:{CONTEXT_TYPES:{FEED_CONTEXT:L,JOB_CONTEXT:B,COMPANY_CONTEXT:z,PROFILE_CONTEXT:F}}}=r.default
let j=(l=Ember.inject.service("tracking"),c=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),m=Ember.inject.service("lix"),d=Ember.computed.alias("msgOverlayService.contextType").readOnly(),u=Ember.computed.alias("msgOverlayService.contextActor").readOnly(),p=Ember.computed.alias("msgOverlayService.contextEntityUrn").readOnly(),g=Ember.computed.equal("contextType",L).readOnly(),b=Ember.computed.equal("contextType",B).readOnly(),h=Ember.computed.equal("contextType",z).readOnly(),v=Ember.computed.equal("contextType",F).readOnly(),y=Ember.computed("args.suggestedRecipients.[]","showRemainingSuggestions").readOnly(),f=Ember.computed("args.suggestedRecipients.length").readOnly(),_=Ember._action,E=Ember._action,C=Ember._action,w=Ember._action,O=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",M,this);(0,t.default)(this,"msgOverlayService",S,this);(0,t.default)(this,"lix",k,this);(0,n.default)(this,"showRemainingSuggestions",!1);(0,t.default)(this,"contextType",R,this);(0,t.default)(this,"contextActor",P,this);(0,t.default)(this,"contextEntityUrn",T,this);(0,t.default)(this,"isFeedContext",D,this);(0,t.default)(this,"isJobContext",A,this);(0,t.default)(this,"isCompanyContext",I,this);(0,t.default)(this,"isProfileContext",x,this)}get slicedSuggestedRecipients(){const e=Ember.get(this.args,"suggestedRecipients")||[]
return this.showRemainingSuggestions?e:e.slice(0,2)}get hasMoreSuggestedRecipients(){return Ember.get(this,"args.suggestedRecipients.length")>2}toggleRemainingSuggestedRecipients(){Ember.set(this,"showRemainingSuggestions",!this.showRemainingSuggestions)}messageRecommendation(e){this.args.openNewConversation({recipients:Ember.get(e,"recipientProfile"),messageActions:{afterSendTracking:()=>this.contextualRecommandationCardInteractionTracking(e,"MESSAGE",{controlUrn:this.tracking.generateControlUrn("overlay.message_recommendation")})}})}contextualRecommandationCardInteractionTracking(e,t,n){let{controlUrn:s}=n,a={}
this.isDestroyed||(a={name:"MessagingRecommendationActionEvent",body:{actionCategory:t,controlUrn:s,recommendationTrackingId:Ember.get(e,"trackingId"),showRemainingSuggestions:this.showRemainingSuggestions,usecase:(0,i.normalizeUsecase)(this.contextType,this.showRemainingSuggestions)}})
return a}contextualRecommandationCardImpressionTracking(e,t,n){let{duration:s,visibleTime:a}=n
return{name:"MessagingRecommendationImpressionEvent",body:{recommendedEntity:{recommendedEntityUrn:Ember.get(e,"miniProfile.objectUrn"),recommendationTrackingId:Ember.get(e,"trackingId"),referenceEntityTrackingObject:{objectUrn:this.contextEntityUrn,trackingId:Ember.get(e,"trackingId")},listPosition:{index:t},usecase:(0,i.normalizeUsecase)(this.contextType,this.showRemainingSuggestions),visibleTime:a,duration:s}}}}},M=(0,s.default)(O.prototype,"tracking",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,s.default)(O.prototype,"msgOverlayService",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,s.default)(O.prototype,"lix",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,s.default)(O.prototype,"contextType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,s.default)(O.prototype,"contextActor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,s.default)(O.prototype,"contextEntityUrn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,s.default)(O.prototype,"isFeedContext",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,s.default)(O.prototype,"isJobContext",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,s.default)(O.prototype,"isCompanyContext",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,s.default)(O.prototype,"isProfileContext",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(O.prototype,"slicedSuggestedRecipients",[y],Object.getOwnPropertyDescriptor(O.prototype,"slicedSuggestedRecipients"),O.prototype),(0,s.default)(O.prototype,"hasMoreSuggestedRecipients",[f],Object.getOwnPropertyDescriptor(O.prototype,"hasMoreSuggestedRecipients"),O.prototype),(0,s.default)(O.prototype,"toggleRemainingSuggestedRecipients",[_],Object.getOwnPropertyDescriptor(O.prototype,"toggleRemainingSuggestedRecipients"),O.prototype),(0,s.default)(O.prototype,"messageRecommendation",[E],Object.getOwnPropertyDescriptor(O.prototype,"messageRecommendation"),O.prototype),(0,s.default)(O.prototype,"contextualRecommandationCardInteractionTracking",[C],Object.getOwnPropertyDescriptor(O.prototype,"contextualRecommandationCardInteractionTracking"),O.prototype),(0,s.default)(O.prototype,"contextualRecommandationCardImpressionTracking",[w],Object.getOwnPropertyDescriptor(O.prototype,"contextualRecommandationCardImpressionTracking"),O.prototype),O)
e.default=j
Ember._setComponentTemplate(N,j)})
define("msg-overlay/components/conversation-bubble-compose",["exports","@babel/runtime/helpers/esm/defineProperty","@glimmer/component","msg-shared/utils/constants"],function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=Ember.HTMLBars.template({id:"f56mbdis",block:'{"symbols":["@bubbleId","@composeToNonConnection","@setComposeContext","@composeViewContext","@bubble","@didSubmitMessage","@draftConversation","@dragAndDropTrackingKeys","@handleSuccessfulDiscardRequest","@hasPrefilledConversationName","@isInMail","@isOriginalSize","@messageBarText","@messageContext","@messagingSettings","@createDraftGroupConversation","@onRecipientsChange","@openConversation","@showRenameConversationForm","@toggleShowRenameConversation","@setFocusToRenameConversationForm","@shouldShowExpandedTypeahead","@contextWidth","@onConversationFetched","@showDraftGroupConversation","@openEditGroupScreen","@recipientsChanged","@contextByRecipients"],"statements":[[8,"msg-ui@compose",[],[["@actionTrackingPrefix","@addParticipantsPageKey","@bubbleId","@composeModuleKey","@composeToNonConnection","@setComposeContext","@composeViewContext","@composeIsFullyExpanded","@conversation","@conversationDetailModuleKey","@customTrackingObject","@customPlaceholderText","@didSubmitMessage","@draftConversation","@dragAndDropTrackingKeys","@fetchedEventsProxy","@fileUploadControlName","@forwardedEvent","@handleSuccessfulDiscardRequest","@hasDraft","@hasPrefilledConversationName","@imagePasteControlName","@imageUploadControlName","@invitationUrn","@isInMailCompose","@isInMail","@isNew","@isOpenedFromMsgButton","@isOriginalSize","@isOverlay","@messageBarText","@messageContext","@messageActions","@messageRecipients","@messagingSettings","@msgAdapterOptions","@muteConversationControlName","@mutePageKey","@nextButtonDataControlName","@createDraftGroupConversation","@onRecipientsChange","@openConversation","@prefilledAttachments","@prefilledMessage","@quickRepliesUseCase","@recruiterInmailBinaryReplyUiPageKey","@renamePageKey","@sendMessageControlName","@showGroupEditScreen","@showRenameConversationForm","@subject","@targetUrl","@toggleShowRenameConversation","@update","@smpContent","@is1on1Compose","@recipientSuggestionEnabled","@setFocusToRenameConversationForm","@showPremiumUpsell","@isJumboBubble","@shouldShowExpandedTypeahead","@contextWidth","@onConversationFetched","@showDraftGroupConversation","@openEditGroupScreen","@recipientsChanged","@contextByRecipients"],[[32,0,["CONTROL_NAMES","OVERLAY_PREFIX"]],"flagship3_messaging_overlay_participant_detail_screen_displayed",[32,1],[32,0,["MODULE_KEYS","OVERLAY_COMPOSE"]],[32,2],[32,3],[32,4],[32,5,["composeIsFullyExpanded"]],[32,5,["conversation"]],[32,0,["MODULE_KEYS","OVERLAY_CONVERSATION_DETAIL"]],[32,5,["trackingObject"]],[32,5,["placeholderText"]],[32,6],[32,7],[32,8],[32,5,["fetchedEventsProxy"]],[32,0,["CONTROL_NAMES","OVERLAY","FILE_UPLOAD"]],[32,5,["forwardedEvent"]],[32,9],[32,5,["hasDraft"]],[32,10],[32,0,["CONTROL_NAMES","OVERLAY","IMAGE_PASTE"]],[32,0,["CONTROL_NAMES","OVERLAY","IMAGE_UPLOAD"]],[32,5,["invitationUrn"]],[32,5,["isInMailCompose"]],[32,11],[32,5,["isNew"]],[32,5,["isOpenedFromMsgButton"]],[32,12],true,[32,13],[32,14],[32,5,["messageActions"]],[32,5,["messageRecipients"]],[32,15],[32,5,["msgAdapterOptions"]],[32,0,["CONTROL_NAMES","OVERLAY","MUTE"]],"flagship3_messaging_overlay_conversation_window_muted.page",[32,0,["CONTROL_NAMES","OVERLAY","COMPOSE_GROUP_NEXT"]],[32,16],[32,17],[32,18],[32,5,["attachments"]],[32,5,["message"]],"QUICK_REPLY_OVERLAY","flagship3_messaging_overlay_recruiter_inmail_yes-no-reply-ui","flagship3_messaging_overlay_conversation_window_rename.page",[32,0,["CONTROL_NAMES","OVERLAY","SEND"]],[32,5,["showGroupEditScreen"]],[32,19],[32,5,["subject"]],[32,5,["targetUrl"]],[32,20],[32,5,["update"]],[32,5,["smpContent"]],[32,5,["is1on1Compose"]],true,[32,21],[32,5,["showPremiumUpsell"]],[32,5,["isJumbo"]],[32,22],[32,23],[32,24],[32,25],[32,26],[32,27],[32,28]]],null]],"hasEval":false,"upvars":[]}',meta:{moduleName:"msg-overlay/components/conversation-bubble-compose.hbs"}}),{CONTROL_NAMES:o,MODULE_KEYS:r}=s.default
class i extends n.default{constructor(){super(...arguments);(0,t.default)(this,"CONTROL_NAMES",o);(0,t.default)(this,"MODULE_KEYS",r)}}e.default=i
Ember._setComponentTemplate(a,i)})
define("msg-overlay/components/conversation-bubble-thread",["exports","@babel/runtime/helpers/esm/defineProperty","@glimmer/component","msg-shared/utils/constants"],function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=Ember.HTMLBars.template({id:"mTdtjsSR",block:'{"symbols":["@bubbleId","@composeViewContext","@bubble","@didSubmitMessage","@draftConversation","@dragAndDropTrackingKeys","@handleSuccessfulDiscardRequest","@hasPrefilledConversationName","@isInMail","@isOriginalSize","@messageContext","@messagingSettings","@showRenameConversationForm","@toggleShowRenameConversation","@setFocusToRenameConversationForm","@contextWidth"],"statements":[[8,"msg-ui@thread",[],[["@actionTrackingPrefix","@addParticipantsPageKey","@bubbleId","@composeModuleKey","@composeViewContext","@conversation","@conversationDetailModuleKey","@customTrackingObject","@customPlaceholderText","@didSubmitMessage","@draftConversation","@dragAndDropTrackingKeys","@fetchedEventsProxy","@fileUploadControlName","@forwardedEvent","@handleSuccessfulDiscardRequest","@hasDraft","@hasPrefilledConversationName","@imagePasteControlName","@imageUploadControlName","@invitationUrn","@isInMailCompose","@isInMail","@isNew","@isOpenedFromMsgButton","@isOriginalSize","@isOverlay","@messageContext","@messageActions","@messageRecipients","@messagingSettings","@msgAdapterOptions","@muteConversationControlName","@mutePageKey","@prefilledAttachments","@prefilledMessage","@quickRepliesUseCase","@recipientOpenToFreeMessages","@recruiterInmailBinaryReplyUiPageKey","@renamePageKey","@sendMessageControlName","@showRenameConversationForm","@subject","@toggleShowRenameConversation","@update","@smpContent","@setFocusToRenameConversationForm","@inmailReplyDeepLink","@contextWidth"],[[32,0,["CONTROL_NAMES","OVERLAY_PREFIX"]],"flagship3_messaging_overlay_participant_detail_screen_displayed",[32,1],[32,0,["MODULE_KEYS","OVERLAY_COMPOSE"]],[32,2],[32,3,["conversation"]],[32,0,["MODULE_KEYS","OVERLAY_CONVERSATION_DETAIL"]],[32,3,["trackingObject"]],[32,3,["placeholderText"]],[32,4],[32,5],[32,6],[32,3,["fetchedEventsProxy"]],[32,0,["CONTROL_NAMES","OVERLAY","FILE_UPLOAD"]],[32,3,["forwardedEvent"]],[32,7],[32,3,["hasDraft"]],[32,8],[32,0,["CONTROL_NAMES","OVERLAY","IMAGE_PASTE"]],[32,0,["CONTROL_NAMES","OVERLAY","IMAGE_UPLOAD"]],[32,3,["invitationUrn"]],[32,3,["isInMailCompose"]],[32,9],[32,3,["isNew"]],[32,3,["isOpenedFromMsgButton"]],[32,10],true,[32,11],[32,3,["messageActions"]],[32,3,["messageRecipients"]],[32,12],[32,3,["msgAdapterOptions"]],[32,0,["CONTROL_NAMES","OVERLAY","MUTE"]],"flagship3_messaging_overlay_conversation_window_muted.page",[32,3,["attachments"]],[32,3,["message"]],"QUICK_REPLY_OVERLAY",[32,3,["msgAdapterOptions","recipientOpenToFreeMessages"]],"flagship3_messaging_overlay_recruiter_inmail_yes-no-reply-ui","flagship3_messaging_overlay_conversation_window_rename.page",[32,0,["CONTROL_NAMES","OVERLAY","SEND"]],[32,13],[32,3,["subject"]],[32,14],[32,3,["update"]],[32,3,["smpContent"]],[32,15],[32,3,["inmailReplyDeepLink"]],[32,16]]],null]],"hasEval":false,"upvars":[]}',meta:{moduleName:"msg-overlay/components/conversation-bubble-thread.hbs"}}),{CONTROL_NAMES:o,MODULE_KEYS:r}=s.default
class i extends n.default{constructor(){super(...arguments);(0,t.default)(this,"CONTROL_NAMES",o);(0,t.default)(this,"MODULE_KEYS",r)}}e.default=i
Ember._setComponentTemplate(a,i)})
define("msg-overlay/components/conversation-bubble",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","ember-batcher","ember-lifeline","@glimmer/component","global-utils/utils/is-browser","msg-shared/utils/custom-tracking","ember-cli-pemberly-tracking/utils/tracking","msg-shared/utils/constants","urn-utils","msg-data/utils/spinmail/sponsored-conversation-properties","msg-data/utils/msg-reactions-helper","global-helpers/helpers/name","msg-shared/utils/document-is-hidden","msg-shared/helpers/is-sponsored-conversation","msg-shared/helpers/is-conversation-with-advertiser","msg-shared/helpers/is-inmail-conversation"],function(e,t,n,s,a,o,r,i,l,c,m,d,u,p,g,b,h,v,y,f,_,E){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var C,w,O,M,S,k,R,P,T,D,A,I,x,N,L,B,z,F,j,U,q,V,H,G,Y,K,W,J,X,$,Q,Z,ee,te,ne,se,ae,oe,re,ie,le,ce,me,de,ue,pe,ge,be,he,ve,ye,fe,_e,Ee,Ce,we,Oe,Me,Se,ke,Re,Pe,Te,De,Ae,Ie
const xe=Ember.HTMLBars.template({id:"3Hfnv0Zy",block:'{"symbols":["assetLoader","assetLoader","assetLoader","dropdown","@bubble","@handleSuccessfulDiscardRequest","@messagingSettings","@closeBubble"],"statements":[[11,"div"],[16,1,[31,[[32,5,["id"]]]]],[24,"tabindex","-1"],[16,0,[31,["msg-overlay-conversation-bubble msg-overlay-conversation-bubble--default-inactive ml4\\n  ",[30,[36,1],[[32,5,["isNew"]],"msg-overlay-conversation-bubble--is-compose"],null],"\\n   ",[30,[36,1],[[32,5,["isActive"]],"msg-overlay-conversation-bubble--is-active"],null],"\\n   ",[30,[36,1],[[32,5,["isMinimized"]],"msg-overlay-conversation-bubble--is-minimized"],null],"\\n   ",[30,[36,1],[[32,5,["isJumbo"]],"msg-overlay-conversation-bubble--jumbo","msg-overlay-conversation-bubble--petite"],null]]]],[4,[38,23],["keyup",[32,0,["handlekeyUp"]]],null],[4,[38,24],[[32,0,["handleDidInsert"]]],null],[4,[38,27],[[32,0,["impressionEventPayload"]]],[["routeName","currentRoute"],[[30,[36,26],[[30,[36,25],["outletState"],null],"render.name"],null],[30,[36,26],[[30,[36,25],["outletState"],null],"render"],null]]]],[4,[38,28],null,null],[12],[2,"\\n"],[2,"  "],[11,"header"],[24,"tabindex","-1"],[16,"aria-label",[30,[36,1],[[32,5,["isMinimized"]],[30,[36,7],["i18n_a11y_show_bubble","msg-overlay/components/conversation-bubble"],[["names"],[[32,5,["conversation","participantNames"]]]]],[30,[36,7],["i18n_a11y_hide_bubble","msg-overlay/components/conversation-bubble"],[["names"],[[32,5,["conversation","participantNames"]]]]]],null]],[16,0,[30,[36,29],["msg-overlay-bubble-header msg-overlay-conversation-bubble--header flex-shrink-zero pl2",[30,[36,1],[[32,0,["hasBadge"]]," msg-overlay-bubble-header--inverse msg-overlay-bubble-header--is-badged"],null],[30,[36,1],[[32,5,["isInMailCompose"]]," msg-overlay-bubble-header--premium-accent-bar premium-accent-bar"],null]],null]],[4,[38,23],["click",[32,0,["toggleMinimize"]]],null],[4,[38,8],[[30,[36,1],[[32,5,["isMinimized"]],"overlay.maximize_conversation_window_bar","overlay.minimize_conversation_window_bar"],null]],null],[12],[2,"\\n"],[6,[37,9],[[32,5,["isNew"]]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,13],[[32,5,["conversation"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,"presence@entity-with-presence",[],[["@miniProfile","@miniProfileUrn","@size"],[[32,5,["conversation","participants","firstObject","miniProfile"]],[32,5,["conversation","participants","firstObject","miniProfile","entityUrn"]],1]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,5,["conversation","participants"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,5,["conversation","groupChat"]]],null,[["default","else"],[{"statements":[[2,"          "],[8,"msg-facepile-grid@conversation-facepile-grid",[],[["@conversation","@entitySize","@iconSize"],[[32,5,["conversation"]],1,"small"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"          "],[8,"msg-facepile-grid@facepile-grid",[[24,0,"msg-selectable-entity__entity"]],[["@participants","@entitySize","@iconSize"],[[32,5,["conversation","participants"]],1,"small"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[10,"section"],[15,0,[31,["msg-overlay-bubble-header__details pv1 justify-center\\n      ",[30,[36,1],[[32,5,["isMinimized"]],"align-items-center flex-row-reverse","flex-column"],null]]]],[12],[2,"\\n      "],[10,"div"],[14,0,"display-flex flex-column justify-center overflow-hidden pl2"],[12],[2,"\\n        "],[11,"h4"],[16,0,[31,["msg-overlay-bubble-header__title truncate t-14 t-bold ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"t-black","t-white"],null]," pr1"]]],[24,"tabindex","-1"],[4,[38,23],["focusin",[32,0,["onActive"]]],null],[12],[2,"\\n"],[6,[37,1],[[32,5,["isNew"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,5,["messageContext"]]],null,[["default","else"],[{"statements":[[6,[37,16],["profile.view",[32,5,["messageRecipients","firstObject","publicIdentifier"]]],[["bubbles"],[false]],[["default"],[{"statements":[[2,"                "],[10,"span"],[15,0,[31,["t-14 t-bold hoverable-link-text ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"t-black","t-white"],null]]]],[12],[2,"\\n                  "],[1,[30,[36,14],null,[["firstName","lastName","type"],[[32,5,["messageRecipients","firstObject","firstName"]],[32,5,["messageRecipients","firstObject","lastName"]],"full"]]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["showDraftGroupConversation"]]],null,[["default","else"],[{"statements":[[2,"              "],[1,[30,[36,1],[[32,0,["draftConversation","name"]],[32,0,["draftConversation","name"]],[30,[36,7],["i18n_participant_familiar","msg-overlay/components/conversation-bubble"],[["names"],[[32,0,["draftConversation","participantNames"]]]]]],null]],[2,"\\n"],[6,[37,9],[[32,5,["isMinimized"]]],null,[["default"],[{"statements":[[2,"                "],[10,"h5"],[15,0,[31,["t-12 t-normal truncate js-msg-group-participants ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"t-black","t-white"],null]]]],[12],[2,"\\n"],[6,[37,1],[[32,0,["draftConversation","name"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[30,[36,7],["i18n_participant_familiar","msg-overlay/components/conversation-bubble"],[["names"],[[32,0,["draftConversation","participantNames"]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[30,[36,7],["i18n_num_participants_in_group_conversation","msg-overlay/components/conversation-bubble"],[["count"],[[32,0,["draftConversation","participantNames","length"]]]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,21],[[32,5,["isConversationLoadingState"]],[32,5,["isConversationErrorState"]]],null]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[6,[37,1],[[32,5,["isConversationPreview"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,7],["i18n_join_group_chat","msg-overlay/components/conversation-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,5,["isForward"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,7],["i18n_forward_message","msg-overlay/components/conversation-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,5,["showGroupEditScreen"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,7],["i18n_new_group_conversation","msg-overlay/components/conversation-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,22],[[32,5,["messageRecipients","length"]],2],null]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,7],["i18n_new_group_message","msg-overlay/components/conversation-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,7],["i18n_new_message","msg-overlay/components/conversation-bubble"],null]],[2,"\\n              "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,21],[[32,5,["conversation","participants","firstObject","miniCompany"]],[30,[36,20],[[32,5,["conversation"]]],null]],null]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["isCompanySender"]]],null,[["default","else"],[{"statements":[[2,"                "],[8,"ember-engines@link-to-external",[],[["@route","@model"],["companies.company",[30,[36,19],[[32,5,["conversation","participants","firstObject","miniCompany","entityUrn"]]],null]]],[["default"],[{"statements":[[2,"\\n                  "],[10,"span"],[15,0,[31,["hoverable-link-text ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"t-black","t-white"],null]]]],[12],[2,"\\n                    "],[1,[30,[36,7],["i18n_participant_familiar","msg-overlay/components/conversation-bubble"],[["names"],[[32,5,["conversation","participantNames"]]]]]],[2,"\\n                  "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,7],["i18n_participant_familiar","msg-overlay/components/conversation-bubble"],[["names"],[[32,5,["conversation","participantNames"]]]]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,5,["conversation","groupChat"]]],null,[["default","else"],[{"statements":[[2,"              "],[1,[30,[36,1],[[32,5,["conversation","name"]],[32,5,["conversation","name"]],[30,[36,7],["i18n_participant_familiar","msg-overlay/components/conversation-bubble"],[["names"],[[30,[36,18],[[32,5,["conversation"]],true],null]]]]],null]],[2,"\\n"],[6,[37,9],[[32,5,["isMinimized"]]],null,[["default"],[{"statements":[[2,"                "],[10,"h5"],[15,0,[31,["t-12 t-normal truncate js-msg-group-participants ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"t-black","t-white"],null]]]],[12],[2,"\\n"],[6,[37,1],[[32,5,["conversation","name"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[30,[36,2],[[32,5,["conversation","participants","length"]],0],null]],null,[["default","else"],[{"statements":[[2,"                      "],[1,[30,[36,7],["i18n_just_you","msg-overlay/components/conversation-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                      "],[1,[30,[36,7],["i18n_participant_familiar","msg-overlay/components/conversation-bubble"],[["names"],[[30,[36,18],[[32,5,["conversation"]],true],null]]]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                    "],[1,[30,[36,7],["i18n_num_participants_in_group_conversation","msg-overlay/components/conversation-bubble"],[["count"],[[30,[36,17],[[32,5,["conversation"]]],null]]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,5,["isMinimized"]]],null,[["default","else"],[{"statements":[[2,"              "],[1,[30,[36,7],["i18n_participants_full_names","msg-overlay/components/conversation-bubble"],[["names"],[[32,5,["conversation","participantNames"]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,16],["profile.view",[30,[36,15],[[32,5,["conversation"]]],null]],[["bubbles"],[false]],[["default"],[{"statements":[[2,"                "],[10,"span"],[15,0,[31,["t-14 t-bold hoverable-link-text ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"t-black","t-white"],null]]]],[12],[2,"\\n                  "],[1,[30,[36,7],["i18n_participants_full_names","msg-overlay/components/conversation-bubble"],[["names"],[[32,5,["conversation","participantNames"]]]]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"],[6,[37,1],[[32,0,["headerReactionNotification"]]],null,[["default","else"],[{"statements":[[2,"          "],[10,"span"],[15,0,[31,["msg-overlay-conversation-bubble__reaction-header-notification truncate t-12 ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"t-black--light","t-white"],null]]]],[12],[2,"\\n            "],[1,[30,[36,7],["i18n_reaction_notification","msg-overlay/components/conversation-bubble"],[["reactorName","emoji"],[[30,[36,14],null,[["firstName","lastName","type"],[[32,0,["headerReactionNotification","reactor","firstName"]],[32,0,["headerReactionNotification","reactor","lastName"]],"familiar"]]],[32,0,["headerReactionNotification","emoji"]]]]]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,13],[[32,5,["conversation"]]],null]],null,[["default"],[{"statements":[[6,[37,9],[[32,5,["isMinimized"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["presenceStatus","isOnline"]]],null,[["default","else"],[{"statements":[[2,"              "],[10,"div"],[15,0,[31,["truncate t-12 t-normal ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"t-black","t-white"],null]]]],[12],[2,"\\n                "],[1,[30,[36,7],["i18n_active_now","msg-overlay/components/conversation-bubble"],null]],[2,"\\n              "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["presenceStatus","isReachable"]]],null,[["default"],[{"statements":[[2,"              "],[10,"div"],[15,0,[31,["truncate t-12 t-normal ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"t-black","t-white"],null]]]],[12],[2,"\\n                "],[1,[30,[36,1],[[32,0,["presenceStatus","lastActiveAt"]],[30,[36,7],["i18n_mobile","msg-overlay/components/conversation-bubble"],[["date"],[[30,[36,12],[[32,0,["presenceStatus","lastActiveAt"]],"short-ago"],null]]]],[30,[36,7],["i18n_available_on_mobile","msg-overlay/components/conversation-bubble"],null]],null]],[2,"\\n              "],[13],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"section"],[14,0,"msg-overlay-bubble-header__controls display-flex align-items-center"],[12],[2,"\\n      "],[8,"artdeco-button@artdeco-button",[[16,"data-control-name",[30,[36,1],[[32,5,["isJumbo"]],"overlay.shrink_conversation_window","overlay.expand_conversation_window"],null]],[16,"aria-expanded",[30,[36,1],[[32,5,["isJumbo"]],"true","false"],null]]],[["@type","@color","@circle","@size","@icon","@class","@click","@text"],["tertiary",[30,[36,1],[[32,0,["lightHeaderBackground"]],"muted","inverse"],null],true,1,[30,[36,1],[[32,5,["isJumbo"]],"arrows-in-icon","arrows-out-icon"],null],"msg-overlay-bubble-header__control msg-overlay-conversation-bubble__expand-btn",[32,0,["toggleJumboSize"]],[30,[36,1],[[32,5,["isJumbo"]],[30,[36,7],["i18n_minimize_bubble","msg-overlay/components/conversation-bubble"],[["names"],[[32,5,["conversation","participantNames"]]]]],[30,[36,7],["i18n_maximize_bubble","msg-overlay/components/conversation-bubble"],[["names"],[[32,5,["conversation","participantNames"]]]]]],null]]],null],[2,"\\n\\n"],[6,[37,1],[[32,5,["isNew"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["showDraftGroupConversation"]]],null,[["default"],[{"statements":[[2,"          "],[8,"artdeco-dropdown@artdeco-dropdown",[],[["@isOpen","@onVisibilityChange","@placement","@justification","@classNames"],[[32,0,["isDraftThreadActionsDropdownOpen"]],[30,[36,10],[[32,0],"isDraftThreadActionsDropdownOpen"],null],"bottom","right","msg-thread-actions__dropdown"]],[["default"],[{"statements":[[2,"\\n            "],[8,[32,4,["dropdown-trigger"]],[],[["@class"],[[31,["msg-thread-actions__control artdeco-button artdeco-button--1 artdeco-button--circle artdeco-button--tertiary ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"artdeco-button--muted","artdeco-button--inverse"],null]]]]],[["default"],[{"statements":[[2,"\\n              "],[1,[30,[36,11],null,[["type","class","size","color","a11y-text"],["ellipsis-horizontal-icon","artdeco-button__icon","small",true,[30,[36,7],[[30,[36,1],[[32,5,["conversation","isNew"]],"a11y_open_convo_new","a11y_open_convo"],null],"msg-overlay/components/conversation-bubble"],[["names"],[[30,[36,7],[[30,[36,1],[[32,5,["conversation","groupChat"]],[30,[36,1],[[32,5,["conversation","name"]],[32,5,["conversation","name"]],"i18n_participants_full_names"],null],"i18n_participants_full_names"],null],"msg-overlay/components/conversation-bubble"],[["names"],[[30,[36,7],["i18n_participants_full_names","msg-overlay/components/conversation-bubble"],[["names"],[[32,5,["conversation","participantNames"]]]]]]]]]]]]]]],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[14,0,"msg-thread-actions__dropdown-container"],[12],[2,"\\n              "],[8,[32,4,["dropdown-content"]],[],[["@arrowDir","@class"],["right","msg-thread-actions__dropdown-options"]],[["default"],[{"statements":[[2,"\\n                "],[10,"ul"],[12],[2,"\\n                  "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@class","@itemSelected"],["msg-thread-actions__dropdown-option",[32,0,["openEditGroupScreen"]]]],[["default"],[{"statements":[[2,"\\n                    "],[1,[30,[36,7],["i18n_edit_group_conversation","msg-overlay/components/conversation-bubble"],null]],[2,"\\n                  "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n          "]],"parameters":[4]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,9],[[32,5,["isMinimized"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,5,["isJumbo"]]],null,[["default"],[{"statements":[[2,"            "],[8,"artdeco-button@artdeco-button",[[4,[38,8],[[30,[36,1],[[32,5,["conversation","read"]],"overlay_mark_conversation_unread","overlay_mark_conversation_read"],null]],null]],[["@aria-label","@title","@type","@color","@circle","@size","@icon","@click"],[[30,[36,1],[[32,5,["conversation","read"]],[30,[36,7],["i18n_mark_conversation_unread","msg-overlay/components/conversation-bubble"],null],[30,[36,7],["i18n_mark_conversation_read","msg-overlay/components/conversation-bubble"],null]],null],[30,[36,1],[[32,5,["conversation","read"]],[30,[36,7],["i18n_mark_conversation_unread","msg-overlay/components/conversation-bubble"],null],[30,[36,7],["i18n_mark_conversation_read","msg-overlay/components/conversation-bubble"],null]],null],"tertiary",[30,[36,1],[[32,0,["lightHeaderBackground"]],"muted","inverse"],null],true,1,[30,[36,1],[[32,5,["conversation","read"]],"envelope-icon","envelope-open-icon"],null],[32,0,["toggleConversationRead"]]]],null],[2,"\\n\\n            "],[8,"artdeco-button@artdeco-button",[[4,[38,8],[[30,[36,1],[[32,5,["conversation","archived"]],"overlay_unarchive_conversation","overlay_archive_conversation"],null]],null]],[["@aria-label","@title","@type","@color","@circle","@size","@icon","@click"],[[30,[36,1],[[32,5,["conversation","archived"]],[30,[36,7],["i18n_unarchive_conversation","msg-overlay/components/conversation-bubble"],null],[30,[36,7],["i18n_archive_conversation","msg-overlay/components/conversation-bubble"],null]],null],[30,[36,1],[[32,5,["conversation","archived"]],[30,[36,7],["i18n_unarchive_conversation","msg-overlay/components/conversation-bubble"],null],[30,[36,7],["i18n_archive_conversation","msg-overlay/components/conversation-bubble"],null]],null],"tertiary",[30,[36,1],[[32,0,["lightHeaderBackground"]],"muted","inverse"],null],true,1,[30,[36,1],[[32,5,["conversation","archived"]],"unarchive-message-icon","archive-message-icon"],null],[32,0,["toggleConversationArchive"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"          "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,3,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"              "],[8,"msg-shared-modals@thread-actions",[],[["@conversation","@handleSuccessfulDiscardRequest","@showRenameConversationForm","@externalComps","@enableReportingSponsoredConversation","@toggleConversationMute","@createGroupChat","@trackingModuleName","@actionTrackingPrefix","@addParticipantsPageKey","@isOverlay","@inverse","@showConversationBubbleOneClickActions"],[[32,5,["conversation"]],[32,6],[30,[36,4],[[32,0,["toggleShowRenameConversation"]],true],null],[30,[36,6],null,[["semaphoreComp"],[[30,[36,5],["ember-semaphore@ember-semaphore"],null]]]],[32,0,["enableReportingSponsoredConversation"]],[32,0,["toggleConversationMute"]],[32,0,["createGroupChat"]],[32,0,["trackingModuleName"]],[32,0,["actionTrackingPrefix"]],"flagship3_messaging_overlay_participant_detail_screen_displayed",true,[30,[36,0],[[32,0,["lightHeaderBackground"]]],null],[32,5,["isJumbo"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"          "]],"parameters":[3]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "],[8,"artdeco-button@artdeco-button",[[16,"data-control-name",[30,[36,1],[[32,5,["isConversationPreview"]],"overlay.ltj_preview_exit","overlay.close_conversation_window"],null]]],[["@type","@color","@circle","@size","@icon","@class","@click","@text"],["tertiary",[30,[36,1],[[32,0,["lightHeaderBackground"]],"muted","inverse"],null],true,1,"cancel-icon","msg-overlay-bubble-header__control",[32,0,["handleCloseBubble"]],[30,[36,7],[[30,[36,1],[[32,5,["conversation","isNew"]],"a11y_close_convo_new","a11y_close_convo"],null],"msg-overlay/components/conversation-bubble"],[["names"],[[30,[36,7],[[30,[36,1],[[32,5,["conversation","groupChat"]],[30,[36,1],[[32,5,["conversation","name"]],[32,5,["conversation","name"]],"i18n_participants_full_names"],null],"i18n_participants_full_names"],null],"msg-overlay/components/conversation-bubble"],[["names"],[[32,5,["conversation","participantNames"]]]]]]]]]],null],[2,"\\n"],[2,"    "],[13],[2,"\\n  "],[13],[2,"\\n\\n  "],[11,"div"],[16,0,[31,["msg-overlay-conversation-bubble__content-wrapper relative display-flex flex-column\\n    ",[30,[36,1],[[32,0,["showRenameConversationForm"]]," msg-overlay-conversation-bubble__content-wrapper--disabled"],null]]]],[4,[38,23],["mouseup",[32,0,["onActive"]]],null],[4,[38,23],["focusin",[32,0,["onActive"]]],null],[12],[2,"\\n"],[6,[37,1],[[32,5,["isConversationPreview"]]],null,[["default","else"],[{"statements":[[2,"      "],[8,"msg-ui@conversation-preview",[],[["@bubble"],[[32,5]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,5,["isConversationLoadingState"]]],null,[["default","else"],[{"statements":[[2,"      "],[8,"msg-ui@conversation-loading-state",[],[["@bubble"],[[32,5]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,5,["isConversationErrorState"]]],null,[["default","else"],[{"statements":[[2,"      "],[8,"msg-ui@conversation-error-state",[],[["@bubble"],[[32,5]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,3],[[32,5,["conversation"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-spinmail"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,2,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"            "],[8,"msg-overlay@spinmail/sponsored-conversation-bubble",[],[["@conversation","@isCompanySender","@initialEventsRequest"],[[32,5,["conversation"]],[32,0,["isCompanySender"]],[32,5,["fetchedEventsProxy"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,2],[[32,5,["conversation","latestEvent","subtype"]],"SPONSORED_INMAIL"],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-spinmail"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"            "],[8,"msg-spinmail@spinmail-thread",[],[["@conversation","@actionTrackingPrefix","@isCompanySender"],[[32,5,["conversation"]],[32,0,["actionTrackingPrefix"]],[32,0,["isCompanySender"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,5,["isNew"]]],null,[["default","else"],[{"statements":[[2,"          "],[8,"msg-overlay@conversation-bubble-compose",[],[["@bubble","@bubbleId","@draftConversation","@handleSuccessfulDiscardRequest","@isOriginalSize","@messagingSettings","@composeViewContext","@showRenameConversationForm","@toggleShowRenameConversation","@openConversation","@composeToNonConnection","@setComposeContext","@onActive","@createDraftGroupConversation","@isInMail","@didSubmitMessage","@dragAndDropTrackingKeys","@hasPrefilledConversationName","@messageContext","@setFocusToRenameConversationForm","@shouldShowExpandedTypeahead","@contextWidth","@onConversationFetched","@showDraftGroupConversation","@openEditGroupScreen","@recipientsChanged","@contextByRecipients"],[[32,5],[32,5,["id"]],[32,0,["draftConversation"]],[32,6],[30,[36,0],[[32,5,["isJumbo"]]],null],[32,7],[32,0,["composeViewContext"]],[32,0,["showRenameConversationForm"]],[32,0,["toggleShowRenameConversation"]],[32,0,["openConversation"]],[32,0,["composeToNonConnection"]],[32,0,["setComposeContext"]],[32,0,["onActive"]],[32,0,["createDraftGroupConversation"]],[32,5,["isInMail"]],[32,0,["didSubmitMessage"]],[32,0,["dragAndDropTrackingKeys"]],[32,5,["groupConversationName"]],[32,5,["messageContext"]],[32,0,["setFocusToRenameConversationForm"]],[32,0,["shouldShowExpandedTypeahead"]],[32,0,["width"]],[32,0,["onConversationFetched"]],[32,0,["showDraftGroupConversation"]],[32,0,["openEditGroupScreen"]],[32,0,["recipientsChanged"]],[32,0,["contextByRecipients"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"          "],[8,"msg-overlay@conversation-bubble-thread",[],[["@bubble","@bubbleId","@draftConversation","@handleSuccessfulDiscardRequest","@isOriginalSize","@messagingSettings","@composeViewContext","@showRenameConversationForm","@toggleShowRenameConversation","@openConversation","@composeToNonConnection","@onActive","@isInMail","@didSubmitMessage","@dragAndDropTrackingKeys","@hasPrefilledConversationName","@messageContext","@setFocusToRenameConversationForm","@shouldShowExpandedTypeahead","@contextWidth"],[[32,5],[32,5,["id"]],[32,0,["draftConversation"]],[32,6],[30,[36,0],[[32,5,["isJumbo"]]],null],[32,7],[32,0,["composeViewContext"]],[32,0,["showRenameConversationForm"]],[32,0,["toggleShowRenameConversation"]],[32,0,["openConversation"]],[32,0,["composeToNonConnection"]],[32,0,["onActive"]],[32,5,["isInMail"]],[32,0,["didSubmitMessage"]],[32,0,["dragAndDropTrackingKeys"]],[32,5,["groupConversationName"]],[32,5,["messageContext"]],[32,0,["setFocusToRenameConversationForm"]],[32,0,["shouldShowExpandedTypeahead"]],[32,0,["width"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n\\n  "],[8,"artdeco-modal@artdeco-confirmation-dialog",[],[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[32,0,["showMessageDiscardModal"]],[30,[36,7],["i18n_discard_message","msg-overlay/components/conversation-bubble"],null],[30,[36,7],["i18n_discard_body","msg-overlay/components/conversation-bubble"],null],[30,[36,7],["i18n_discard","msg-overlay/components/conversation-bubble"],null],[30,[36,7],["i18n_cancel","msg-overlay/components/conversation-bubble"],null],[32,8],[30,[36,10],[[32,0],"showMessageDiscardModal",false],null],[30,[36,10],[[32,0],"showMessageDiscardModal",false],null]]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["global-helpers@not","if","global-helpers@eq","msg-shared@is-sponsored-conversation","fn","component","hash","t","ember-cli-pemberly-tracking@track-interaction","unless","ember-set-helper@set","artdeco-icons-web@li-icon","global-helpers@time-ago","msg-shared@has-presence","ember-cli-pemberly-i18n@format-name","msg-shared@get-recipient-profile-id","ember-engines@link-to-external","msg-shared@get-total-participants-count","msg-shared@participant-names-with-self","global-helpers@urn-to-id","msg-shared@is-conversation-with-advertiser","global-helpers@or","global-helpers@gte","on","did-insert","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","msg-shared@block-scrolling","concat"]}',meta:{moduleName:"msg-overlay/components/conversation-bubble.hbs"}}),{ACTION_TYPES:Ne,CONTROL_NAMES:Le,IMPRESSION_KEYS:{CONVERSATION_DETAIL_IMPRESSION:Be,DISPLAY_ITEM_TYPE:ze},KEYCODES:{ESC:Fe},MESSAGE_TYPE:je,MODULE_KEYS:{OVERLAY_COMPOSE:Ue,OVERLAY_CONVERSATION_DETAIL:qe},OVERLAY:{BUBBLE_ACTIONS:{TOGGLE_JUMBO:Ve,TOGGLE_MINIMIZED:He}},GHOST_TYPE:Ge,PAGEVIEW_KEYS:Ye,ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS:Ke}=p.default
let We=(C=Ember.inject.service("i18n"),w=Ember.inject.service("lix"),O=Ember.inject.service("profile-services@identity-store"),M=Ember.inject.service("msg-data@data-manager"),S=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),k=Ember.inject.service("rum"),R=Ember.inject.service("tracking"),P=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),T=Ember.inject.service("authentication@authenticated-user"),D=Ember.inject.service("presence@presence-api-v2"),A=Ember._tracked,I=Ember._tracked,x=Ember._tracked,N=Ember._tracked,L=Ember._tracked,B=Ember._tracked,z=Ember._tracked,F=Ember._tracked,j=Ember._tracked,U=Ember._tracked,q=Ember._tracked,V=Ember._tracked,H=Ember._action,G=Ember._action,Y=Ember._action,K=Ember._action,W=Ember._action,J=Ember._action,X=Ember._action,$=Ember._action,Q=Ember._action,Z=Ember._action,ee=Ember._action,te=Ember._action,ne=Ember._action,se=Ember._action,ae=Ember._action,oe=Ember._action,re=Ember._action,ie=Ember._action,le=Ember._action,ce=Ember._action,me=(Ie=new WeakMap,class extends c.default{get hasBadge(){const{conversation:e}=this.args.bubble
if(Ember.testing){console.log("[MSG-56726] logging for unstable badging test: ")
console.log("hasUnseenMessages: ",Ember.get(this.args.bubble,"hasUnseenMessages"),"conversation.read: ",e&&Ember.get(e,"read"),"forcedMinimizedAtRoute",this.msgOverlay.forcedMinimizedAtRoute)}return Ember.get(this.args.bubble,"hasUnseenMessages")&&!this.msgOverlay.forcedMinimizedAtRoute&&e&&!Ember.get(e,"read")}get lightHeaderBackground(){return this.lix.getTreatmentIsEnabled("voyager.web.infraux-mercado-theme")&&!this.hasBadge}get isCompanySender(){const{conversation:e}=this.args.bubble
return e&&Ember.get(e,"participants.firstObject.ghostType")===Ge.COMPANY&&!Ember.get(this.args.bubble,"isMinimized")}get headerReactionNotification(){const{reactionNotification:e}=this.msgDataManager.messageReactionsHelper,{conversation:t}=this.args.bubble
if(e&&t&&(0,h.shouldDisplayReactionNotificationInHeader)(e.messageEvent,Ember.get(t,"id"),(0,a.default)(this,Ie),this.authenticatedUser))return e}get presenceStatus(){const{conversation:e}=this.args.bubble
return this.lix.getTreatmentIsEnabled("voyager.web.messaging-presence-api-refactor")?this.presenceAPIv2.getPresenceStatus(Ember.get(e,"participants.firstObject.miniProfile.entityUrn")):Ember.get(e,"participants.firstObject.miniProfile.presence")}constructor(){super(...arguments);(0,t.default)(this,"i18n",de,this);(0,t.default)(this,"lix",ue,this);(0,t.default)(this,"identityStore",pe,this);(0,t.default)(this,"msgDataManager",ge,this);(0,t.default)(this,"msgOverlay",be,this);(0,t.default)(this,"rum",he,this);(0,t.default)(this,"tracking",ve,this);(0,t.default)(this,"persistentToastManager",ye,this);(0,t.default)(this,"authenticatedUser",fe,this);(0,t.default)(this,"presenceAPIv2",_e,this);(0,n.default)(this,"actionTrackingPrefix",Le.OVERLAY_PREFIX);(0,n.default)(this,"trackingModuleName",qe);(0,t.default)(this,"composeViewContext",Ee,this);(0,t.default)(this,"draftConversation",Ce,this);(0,t.default)(this,"enableReportingSponsoredConversation",we,this);(0,t.default)(this,"isDraftThreadActionsDropdownOpen",Oe,this);(0,t.default)(this,"messageIndexToBeAnchored",Me,this);(0,t.default)(this,"shouldShowExpandedTypeahead",Se,this);(0,t.default)(this,"showDraftGroupConversation",ke,this);(0,t.default)(this,"showMessageDiscardModal",Re,this);(0,t.default)(this,"showRenameConversationForm",Pe,this);(0,t.default)(this,"width",Te,this);(0,t.default)(this,"contextByRecipients",De,this);(0,n.default)(this,"arePronounsEnabled",this.lix.getTreatmentIsEnabled("voyager.web.profile-pronouns-in-messaging"));(0,t.default)(this,"setFocusToRenameConversationForm",Ae,this)
Ie.set(this,{writable:!0,value:void 0});(0,n.default)(this,"dragAndDropTrackingKeys",Ke.OVERLAY)
this.draftConversation={name:this.args.bubble.groupConversationName||""}
const{conversation:e}=this.args.bubble
if(e&&Ember.get(e,"id")){Ember.set(this.args.bubble,"fetchedEventsProxy",this.msgOverlay.findConversationEvents(e))
Ember.set(this,"enableReportingSponsoredConversation",(0,b.enableReportingSponsoredMessage)(e)||(0,b.enableReportingSponsoredInMail)(e))}void 0===this.args.bubble.isJumbo&&Ember.set(this.args.bubble,"isJumbo",this.args.bubble.isInMail||this.args.bubble.isInMailCompose||e&&("SPONSORED_INMAIL"===Ember.get(e,"latestEvent.subtype")||(0,f.isSponsoredConversation)(e)&&1===Ember.get(e,"eventCollection.data").length))
const{messageRecipients:s,composeOptionType:a}=this.args.bubble
if(s&&a){var o,r,i
const e=this.args.bubble.context||(null===(o=this.args.bubble.messageContext)||void 0===o?void 0:o.contextEntityUrn)||(null===(r=this.args.bubble.inMailComposeViewContext)||void 0===r?void 0:r.contextEntityUrn)
this.composeViewContext=this.msgDataManager.fetchComposeContext({recipients:null===(i=this.args.bubble.messageRecipients)||void 0===i?void 0:i.mapBy("entityUrn"),composeOptionType:a,context:e}).then(t=>{if(!this.isDestroying){this.composeViewContext=t
t&&"MESSAGE_REQUEST"===a&&Ember.set(this.args.bubble,"messageContext",{contextEntityUrn:e,contextText:Ember.get(t,"contextText")})}})}const l=this.rum.startPerfMeasurement(!this.args.bubble.isNew&&Ember.get(e,"eventCollection.hasInitialFetch")?"messaging-convo-bubble-subsequent-render":"messaging-convo-bubble-initial-render")
if(l.isOverlapping)l.cancel()
else{let t
this.args.bubble.isNew?t="new-bubble":e&&((0,E.isInmailConversation)(e)?t="inmail":Ember.get(e,"groupChat")?t="group-chat":Ember.get(e,"latestEvent.subtype")===je.M2M&&(t="1to1-mebc"))
if(t){l.spanStart(t)
Ember.run.schedule("afterRender",()=>{if(l&&!l.isCanceled&&!l.isClosed){t&&l.spanEnd(t)
this.rum.endPerfMeasurement(l)}})}}}willDestroy(){super.willDestroy(...arguments);(0,l.runDisposables)(this)}impressionEventPayload(e){var t
let{visibleTime:n,duration:s}=e
const a=this.args.bubble.isNew?Ue:qe,o=(null===(t=this.args.bubble.messageRecipients)||void 0===t?void 0:t.mapBy("miniProfile.objectUrn"))||[]
return{name:Be,body:{moduleKey:a,participantUrns:o,conversation:{objectUrn:"",trackingId:(0,u.generateTrackingId)()},displayItem:{type:ze.MESSAGE_COMPOSE,visibleTime:n,duration:s,trackingObject:{objectUrn:"",trackingId:(0,u.generateTrackingId)()}}}}}handleDidInsert(e){this._element=e;(0,s.default)(this,Ie,e.querySelector(".msg-s-message-list"));(0,y.default)()?this.args.bubble.isMinimized||(this.isPageViewEventPending=!0):this._fireBubblePVE()
this._handleInitialFocus();(0,l.addEventListener)(this,this._element,"transitionend",e=>{"width"===e.propertyName&&(0,i.readDOM)(()=>{this.isDestroying||(this.width=this._element.offsetWidth)})})
if(m.default){(0,l.addEventListener)(this,document,"mousedown",e=>{this._element&&!this._element.contains(e.target)&&this._updateActiveState(!1)});(0,l.addEventListener)(this,window,"visibilitychange",this._handleVisibilityChange.bind(this))}}_handleInitialFocus(){let e
if(this.args.bubble.isNew&&!this.args.bubble.isInMailCompose){var t
e=this._element.querySelector((null===(t=this.args.bubble.messageRecipients)||void 0===t?void 0:t.length)&&!this.args.bubble.showGroupEditScreen?".msg-form__contenteditable":".msg-connections-typeahead__search-field")}else if(this.args.bubble.focusInputOnInit){const{conversation:t}=this.args.bubble
e=t&&(0,_.isConversationWithAdvertiser)(t)?this._element.querySelector(".msg-overlay-bubble-header"):this._element.querySelector(this.args.bubble.isInMailCompose?".msg-form__subject input":".msg-form__contenteditable")||this._element.querySelector(".msg-overlay-bubble-header__title")}if(e){e.focus()
this.onActive()}}_handleVisibilityChange(){if(!(0,y.default)()&&this.isPageViewEventPending){this._fireBubblePVE()
this.isPageViewEventPending=!1}}_updateActiveState(e){Ember.set(this.args.bubble,"isActive",e)}handlekeyUp(e){e.keyCode===Fe&&"false"!==e.target.getAttribute("aria-hidden")&&this.handleCloseBubble()}_focusConversation(){if(m.default&&window.getSelection().toString())return
let e
const{conversation:t}=this.args.bubble
e=t&&(0,_.isConversationWithAdvertiser)(t)?".msg-overlay-bubble-header":".msg-form__contenteditable"
const n=this._element.querySelector(e)
n&&n.focus()}_showSuccessToast(e){const t=this.i18n.lookupTranslation("components/msg-overlay@conversation-bubble",e)([])
this.persistentToastManager.success({message:t})}onActive(){this._updateActiveState(!0)
this.msgOverlay.markConversationAsRead(this.args.bubble)}handleCloseBubble(){var e,t
this.args.bubble.hasDraft?this.showMessageDiscardModal=!0:this.args.closeBubble()
null===(e=this.args.bubble.messageActions)||void 0===e||null===(t=e.afterCloseBubble)||void 0===t||t.call(e)}toggleJumboSize(){this.msgOverlay.conversationBubbleLayoutManager.resizeBubble(this.args.bubble,Ve)
Ember.set(this.args.bubble,"isJumbo",!this.args.bubble.isJumbo)
this.shouldShowExpandedTypeahead=this.args.bubble.isJumbo&&this.args.bubble.isNew
this.msgOverlay.syncCachedConvos()}toggleMinimize(e){var t
if(null===(t=e.target)||void 0===t||!t.closest(".msg-overlay-bubble-header__controls")){this.msgOverlay.conversationBubbleLayoutManager.resizeBubble(this.args.bubble,He)
this.msgOverlay.syncCachedConvos()
if(this.args.bubble.isMinimized){this.args.bubble.hasUnseenMessages&&this.msgOverlay.markConversationAsRead(this.args.bubble);(0,l.runTask)(this,()=>{this._focusConversation()})
this._fireBubblePVE()}(0,l.runTask)(this,()=>{Ember.set(this.args.bubble,"isMinimized",!this.args.bubble.isMinimized)
this._updateActiveState(!this.args.bubble.isMinimized)})}}toggleShowRenameConversation(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
const{conversation:t}=this.args.bubble
if(t&&Ember.get(t,"groupChat")){this.setFocusToRenameConversationForm=!this.showRenameConversationForm&&e
this.showRenameConversationForm=!this.showRenameConversationForm}}openConversation(e){this.msgDataManager.fetchConversation(e).then(t=>{if(t){this.onConversationFetched(t,e,!1)
Ember.run.scheduleOnce("afterRender",()=>this._handleInitialFocus())}})}createGroupChat(e){this.args.newConversation({recipients:[e],showGroupEditScreen:!0,isJumbo:!0})}openInMailCompose(e,t,n){this.identityStore.findRecord("com.linkedin.voyager.identity.shared.MiniProfile",e).then(e=>{if(!this.isDestroying){Ember.setProperties(this.args.bubble,{composeOptionType:"PREMIUM_INMAIL",isInMailCompose:!0,isJumbo:!t,isOpenedFromMsgButton:!0,messageRecipients:[e],showPremiumUpsell:t,targetUrl:n})
Ember.run.scheduleOnce("afterRender",()=>this._handleInitialFocus())}})}setComposeContext(e,t){this.msgDataManager.fetchComposeContext({recipients:[e],composeOptionType:"MESSAGE_REQUEST",context:t}).then(e=>{if(!this.isDestroying){const n=e?Ember.get(e,"contextText"):void 0
Ember.setProperties(this.args.bubble,{messageContext:{contextEntityUrn:t,contextText:n}})}})}composeToNonConnection(e,t){var n
let{composeOption:s,upsellContextUrn:a}=t
switch(Ember.get(s,"composeOptionType")){case"UPSELL":this.openInMailCompose((0,g.extractEntityInfoFromUrn)(a).id,!0,null!==(n=Ember.get(s,"composeNavigationContext.targetUrl"))&&void 0!==n?n:Ember.get(s,"targetUrl"))
break
case"PREMIUM_INMAIL":this.openInMailCompose((0,g.extractEntityInfoFromUrn)(Ember.get(s,"composeNavigationContext.recipientUrns.firstObject")).id)
break
case"REPLY":this.openConversation((0,g.extractEntityInfoFromUrn)(Ember.get(s,"composeNavigationContext.existingConversationUrn")).id)
break
default:e()}}createDraftGroupConversation(e){let{recipients:t,msgGroupName:n,contextByRecipients:s}=e
this.contextByRecipients=s
n||this.msgDataManager.fetchLatestConversationByRecipients(t).then(e=>{if(!this.isDestroying&&e&&!Ember.get(e,"name")){const t=Ember.get(e,"id"),n=this.msgDataManager.initEventCollection({name:t,conversationId:t})
Ember.setProperties(this.args.bubble,{conversation:e,fetchedEvents:n.fetch(),eventCollection:n})}})
this.showDraftGroupConversation=!0
Ember.setProperties(this.args.bubble,{messageRecipients:t,showGroupEditScreen:!1})
this.draftConversation={groupChat:!0,participantNames:t.map(v.getName),recipients:t,participants:t.map(e=>({miniProfile:e})),name:n}}openEditGroupScreen(){this.isDraftThreadActionsDropdownOpen=!1
this.showDraftGroupConversation=!1
Ember.set(this.args.bubble,"showGroupEditScreen",!0)}toggleConversationMute(){const{conversation:e}=this.args.bubble,t=this.msgDataManager.toggleConversationMute(e),n=Ember.get(e,"muted")?Ne.MUTE:Ne.UNMUTE
d.default.fireDetailActionEvent({actionType:n,controlName:Le.OVERLAY.MUTE,conversation:this.args.bubble.conversation,trackingService:this.tracking})
return t}didSubmitMessage(e,t){this.showDraftGroupConversation=!1
Ember.setProperties(this.args.bubble,{message:"",attachments:[]})
const n=Ember.get(this,"args.bubble.messageActions.afterSendTracking")
if(n){const e=n()
this.tracking.fireTrackingPayload(e.name,e.body)}if(t){this.msgOverlay.closeExistingBubble(e)
Ember.run.scheduleOnce("afterRender",()=>this._handleInitialFocus())}}toggleConversationArchive(){const{conversation:e}=this.args.bubble,t=!Ember.get(e,"archived")
t&&this.args.closeBubble()
this.msgDataManager.toggleConversationArchive(this.msgDataManager.peekConversation(Ember.get(e,"id"))).then(()=>{const e=t?"i18n_archive_conversation_success":"i18n_unarchive_conversation_success"
this._showSuccessToast(e)})}toggleConversationRead(){const{conversation:e}=this.args.bubble,t=Ember.get(e,"read")
t&&this.msgOverlay.closeExistingBubble(e)
this.msgDataManager.toggleConversationRead(e).then(()=>{const e=t?"i18n_mark_conversation_unread_success":"i18n_mark_conversation_read_success"
this._showSuccessToast(e)})}onConversationFetched(e,t,n){const s=this.msgDataManager.initEventCollection({name:Ember.get(e,"id"),conversationId:t})
Ember.setProperties(this.args.bubble,{conversation:e,fetchedEventsProxy:s.fetch(),isInMailCompose:!1,isNew:n,isJumbo:Ember.get(e,"groupChat")})}recipientsChanged(e,t){this.contextByRecipients=t
Ember.setProperties(this.args.bubble,{conversation:this.conversation,messageRecipients:e})
e&&0!==e.length||Ember.setProperties(this.args.bubble,{fetchedEvents:void 0,fetchedEventsProxy:void 0})}_fireBubblePVE(){this.args.bubble.isMinimized||this.tracking.firePageViewEvent(this.args.bubble.showGroupEditScreen?Ye.OVERLAY_COMPOSE_GROUP_CONVO_PAGEKEY:Ye.OVERLAY_CONVO)}}),de=(0,o.default)(me.prototype,"i18n",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,o.default)(me.prototype,"lix",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,o.default)(me.prototype,"identityStore",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,o.default)(me.prototype,"msgDataManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=(0,o.default)(me.prototype,"msgOverlay",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,o.default)(me.prototype,"rum",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,o.default)(me.prototype,"tracking",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,o.default)(me.prototype,"persistentToastManager",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=(0,o.default)(me.prototype,"authenticatedUser",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,o.default)(me.prototype,"presenceAPIv2",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,o.default)(me.prototype,"composeViewContext",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,o.default)(me.prototype,"draftConversation",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,o.default)(me.prototype,"enableReportingSponsoredConversation",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,o.default)(me.prototype,"isDraftThreadActionsDropdownOpen",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Me=(0,o.default)(me.prototype,"messageIndexToBeAnchored",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=(0,o.default)(me.prototype,"shouldShowExpandedTypeahead",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,o.default)(me.prototype,"showDraftGroupConversation",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Re=(0,o.default)(me.prototype,"showMessageDiscardModal",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=(0,o.default)(me.prototype,"showRenameConversationForm",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Te=(0,o.default)(me.prototype,"width",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,o.default)(me.prototype,"contextByRecipients",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,o.default)(me.prototype,"setFocusToRenameConversationForm",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,o.default)(me.prototype,"impressionEventPayload",[H],Object.getOwnPropertyDescriptor(me.prototype,"impressionEventPayload"),me.prototype),(0,o.default)(me.prototype,"handleDidInsert",[G],Object.getOwnPropertyDescriptor(me.prototype,"handleDidInsert"),me.prototype),(0,o.default)(me.prototype,"handlekeyUp",[Y],Object.getOwnPropertyDescriptor(me.prototype,"handlekeyUp"),me.prototype),(0,o.default)(me.prototype,"onActive",[K],Object.getOwnPropertyDescriptor(me.prototype,"onActive"),me.prototype),(0,o.default)(me.prototype,"handleCloseBubble",[W],Object.getOwnPropertyDescriptor(me.prototype,"handleCloseBubble"),me.prototype),(0,o.default)(me.prototype,"toggleJumboSize",[J],Object.getOwnPropertyDescriptor(me.prototype,"toggleJumboSize"),me.prototype),(0,o.default)(me.prototype,"toggleMinimize",[X],Object.getOwnPropertyDescriptor(me.prototype,"toggleMinimize"),me.prototype),(0,o.default)(me.prototype,"toggleShowRenameConversation",[$],Object.getOwnPropertyDescriptor(me.prototype,"toggleShowRenameConversation"),me.prototype),(0,o.default)(me.prototype,"openConversation",[Q],Object.getOwnPropertyDescriptor(me.prototype,"openConversation"),me.prototype),(0,o.default)(me.prototype,"createGroupChat",[Z],Object.getOwnPropertyDescriptor(me.prototype,"createGroupChat"),me.prototype),(0,o.default)(me.prototype,"setComposeContext",[ee],Object.getOwnPropertyDescriptor(me.prototype,"setComposeContext"),me.prototype),(0,o.default)(me.prototype,"composeToNonConnection",[te],Object.getOwnPropertyDescriptor(me.prototype,"composeToNonConnection"),me.prototype),(0,o.default)(me.prototype,"createDraftGroupConversation",[ne],Object.getOwnPropertyDescriptor(me.prototype,"createDraftGroupConversation"),me.prototype),(0,o.default)(me.prototype,"openEditGroupScreen",[se],Object.getOwnPropertyDescriptor(me.prototype,"openEditGroupScreen"),me.prototype),(0,o.default)(me.prototype,"toggleConversationMute",[ae],Object.getOwnPropertyDescriptor(me.prototype,"toggleConversationMute"),me.prototype),(0,o.default)(me.prototype,"didSubmitMessage",[oe],Object.getOwnPropertyDescriptor(me.prototype,"didSubmitMessage"),me.prototype),(0,o.default)(me.prototype,"toggleConversationArchive",[re],Object.getOwnPropertyDescriptor(me.prototype,"toggleConversationArchive"),me.prototype),(0,o.default)(me.prototype,"toggleConversationRead",[ie],Object.getOwnPropertyDescriptor(me.prototype,"toggleConversationRead"),me.prototype),(0,o.default)(me.prototype,"onConversationFetched",[le],Object.getOwnPropertyDescriptor(me.prototype,"onConversationFetched"),me.prototype),(0,o.default)(me.prototype,"recipientsChanged",[ce],Object.getOwnPropertyDescriptor(me.prototype,"recipientsChanged"),me.prototype),me)
e.default=We
Ember._setComponentTemplate(xe,We)})
define.alias("ember-vector-images/components/custom-image","msg-overlay/components/custom-image")
define.alias("ember-semaphore/components/ember-semaphore","msg-overlay/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","msg-overlay/components/ember-wormhole")
define.alias("ember-vector-images/components/lazy-background","msg-overlay/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","msg-overlay/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","msg-overlay/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","msg-overlay/components/linkedin-logo")
define("msg-overlay/components/list-bubble-item",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants"],function(e,t,n,s,a,o,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i,l,c,m,d
const u=Ember.HTMLBars.template({id:"TIbVcUDa",block:'{"symbols":["@conversation","@unreadBadgerEnabled","&attrs","@openBubble","@handleBulkActionToggle","@isBulkActionsMode","@disbleBulkActions"],"statements":[[11,"div"],[16,0,[31,["msg-conversation-listitem__link msg-overlay-list-bubble__convo-item ",[30,[36,3],[[32,0,["showMessageRequestContext"]],"msg-message-request-convo-item"],null]]]],[24,"tabindex","0"],[24,"role","button"],[17,3],[4,[38,11],["click",[30,[36,3],[[32,6],[32,5],[30,[36,10],[[32,4],[32,1]],null]],null]],null],[4,[38,11],["keydown",[32,0,["onKeyDown"]]],null],[4,[38,11],["mousemove",[32,0,["onMouseMove"]]],null],[4,[38,12],[[32,0,["controlInteractionEventName"]]],[["interactionType"],["SHORT_PRESS"]]],[4,[38,12],[[32,0,["controlInteractionEventName"]]],[["interactionType","interactionKeys"],["KEYBOARD_PRESS","ENTER,SPACEBAR"]]],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-conversation-card msg-overlay-list-bubble__convo-card display-flex"],[12],[2,"\\n    "],[8,"msg-ui@selectable-entity",[],[["@onCheckboxClick","@checkboxOnly","@conversation","@disableSelectability","@entitySize","@iconSize"],[[32,5],[32,6],[32,1],[32,7],3,"small"]],null],[2,"\\n\\n    "],[10,"div"],[14,0,"msg-overlay-list-bubble__convo-card-content overflow-hidden pl2"],[12],[2,"\\n      "],[10,"div"],[14,0,"msg-overlay-list-bubble__convo-card-content-wrapper fl"],[12],[2,"\\n        "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n          "],[10,"h4"],[15,0,[31,["msg-conversation-listitem__participant-names msg-conversation-card__participant-names truncate t-14 t-black ",[30,[36,3],[[32,1,["read"]],"t-normal","t-bold"],null]]]],[12],[2,"\\n"],[6,[37,3],[[30,[36,13],[[32,1]],null]],null,[["default","else"],[{"statements":[[2,"              "],[1,[30,[36,1],["i18n_conversation_names","msg-overlay/components/list-bubble-item"],[["names"],[[32,1,["participantNames"]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,1,["groupChat"]]],null,[["default","else"],[{"statements":[[2,"              "],[1,[30,[36,3],[[32,1,["name"]],[32,1,["name"]],[30,[36,1],["i18n_conversation_names","msg-overlay/components/list-bubble-item"],[["names"],[[30,[36,9],[[32,1],true],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"              "],[1,[30,[36,1],["i18n_participant_full_name","msg-overlay/components/list-bubble-item"],[["name"],[[32,1,["participantNames"]]]]]],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n"],[6,[37,3],[[32,1,["latestEvent","createdAt"]]],null,[["default"],[{"statements":[[2,"            "],[10,"time"],[15,0,[31,["msg-overlay-list-bubble-item__time-stamp t-12 ",[30,[36,3],[[32,1,["read"]],"t-normal t-black--light","t-bold t-black"],null]]]],[12],[2,"\\n"],[6,[37,3],[[32,0,["createdAtIsToday"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,8],[[32,1,["latestEvent","createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,7],[[32,1,["latestEvent","createdAt"]]],[["format","useTimeZone"],[[30,[36,3],[[30,[36,6],[[32,1,["latestEvent","createdAt"]]],null],"fmt_md_medium","fmt_mdy_medium"],null],true]]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n          "],[10,"div"],[15,0,[31,[[30,[36,3],[[32,0,["twoLineMessageSnippetLayout"]],"msg-overlay-list-bubble__message-snippet-container"],null]," ",[30,[36,14],[[32,0,["twoLineMessageSnippetLayout"]],"truncate"],null]]]],[12],[2,"\\n"],[6,[37,3],[[32,1,["shortContextText"]]],null,[["default"],[{"statements":[[2,"              "],[10,"p"],[14,0,"display-flex align-items-center overflow-hidden t-12 t-bold"],[12],[2,"\\n                "],[10,"span"],[14,0,"truncate flex-1"],[12],[2,"\\n                  "],[1,[30,[36,5],[[32,1,["shortContextText"]]],null]],[2,"\\n                "],[13],[2,"\\n              "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"p"],[15,0,[31,[[30,[36,3],[[32,0,["twoLineMessageSnippetLayout"]],"msg-overlay-list-bubble__message-snippet--v2","msg-overlay-list-bubble__message-snippet truncate"],null]," m0 t-black t-12 ",[30,[36,3],[[32,1,["read"]],"t-normal t-black--light","t-bold"],null]]]],[12],[2,"\\n              "],[8,"msg-ui@message-snippet",[],[["@conversation","@latestEvent"],[[32,1],[32,1,["latestEvent"]]]],null],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n          "],[10,"div"],[14,0,"msg-conversation-card__conversation-status align-items-center flex-grow-1"],[12],[2,"\\n"],[6,[37,3],[[32,1,["muted"]]],null,[["default"],[{"statements":[[2,"              "],[1,[30,[36,4],null,[["class","type","size","a11y-text"],["msg-conversation-card__action-icon mute-icon pr2","mute-icon",[30,[36,3],[[32,0,["isMercado"]],"medium","small"],null],[30,[36,1],["i18n_convo_is_muted","msg-overlay/components/list-bubble-item"],[["names"],[[32,1,["participantNames"]]]]]]]]],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,15],[[32,1,["read"]]],null]],null,[["default"],[{"statements":[[6,[37,3],[[30,[36,2],[[32,0,["showMessageRequestContext"]],[32,2]],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"msg-conversation-card__unread-dot mr1"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"mark"],[14,0,"msg-conversation-card__unread-count"],[12],[2,"\\n                  "],[10,"abbr"],[15,"title",[30,[36,1],["aria_unread_count","msg-overlay/components/list-bubble-item"],[["unreadCount"],[[30,[36,0],[[32,1,["read"]],[32,1,["unreadCount"]]],null]]]]],[12],[2,"\\n                    "],[1,[30,[36,1],["i18n_unread_count","msg-overlay/components/list-bubble-item"],[["unreadCount"],[[30,[36,0],[[32,1,["read"]],[32,1,["unreadCount"]]],null]]]]],[2,"\\n                  "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["msg-shared@unread-count-display","t","global-helpers@or","if","artdeco-icons-web@li-icon","text-view-model@text-view-model","msg-ui@is-current-year","ember-cli-pemberly-i18n@format-date","ember-cli-pemberly-i18n@format-time","msg-shared@participant-names-with-self","fn","on","ember-cli-pemberly-tracking@track-interaction","msg-shared@is-conversation-with-advertiser","unless","global-helpers@not"]}',meta:{moduleName:"msg-overlay/components/list-bubble-item.hbs"}}),{CONTROL_NAMES:{OVERLAY:p},KEYCODES:{ENTER:g,SPACEBAR:b}}=r.default
let h=(i=Ember.inject.service("lix"),l=Ember._action,c=Ember._action,m=class extends o.default{get controlInteractionEventName(){return"PENDING"===Ember.get(this.args,"conversation.messageRequestState")?"overlay.view_message_request_conversation":"DECLINED"===Ember.get(this.args,"conversation.messageRequestState")?"overlay.view_declined_message_request_conversation":p.VIEW_MESSAGE}get showMessageRequestContext(){return("PENDING"===Ember.get(this.args,"conversation.messageRequestState")||"DECLINED"===Ember.get(this.args,"conversation.messageRequestState"))&&Ember.get(this,"args.conversation.shortContextText")}get createdAtIsToday(){return Ember.get(this,"args.conversation.latestEvent.createdAt")>(new Date).setHours(0,0,0,0)}get twoLineMessageSnippetLayout(){return!Ember.get(this,"args.conversation.shortContextText")}constructor(){super(...arguments);(0,t.default)(this,"lix",d,this)
this.isMercado=this.lix.getTreatmentIsEnabled("voyager.web.infraux-mercado-theme")}onKeyDown(e){if(e.keyCode===g||e.keyCode===b){e.preventDefault()
this.args.isBulkActionsMode?this.args.handleBulkActionToggle():this.args.openBubble(this.args.conversation)}}onMouseMove(e){var t,n
null===(t=(n=this.args).onMouseMove)||void 0===t||t.call(n,e)}},d=(0,s.default)(m.prototype,"lix",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(m.prototype,"onKeyDown",[l],Object.getOwnPropertyDescriptor(m.prototype,"onKeyDown"),m.prototype),(0,s.default)(m.prototype,"onMouseMove",[c],Object.getOwnPropertyDescriptor(m.prototype,"onMouseMove"),m.prototype),m)
e.default=h
Ember._setComponentTemplate(u,h)})
define("msg-overlay/components/list-bubble-search",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","msg-shared/utils/scroll-blocker-helper","infinite-scroll/components/infinite-scroll-container","msg-shared/utils/constants","ember-batcher","global-helpers/helpers/name","global-utils/utils/ember-cli-search-typeahead-utils","ember-lifeline"],function(e,t,n,s,a,o,r,i,l,c,m,d,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,b,h,v,y,f,_,E,C,w,O,M,S,k,R,P,T,D,A,I,x,N,L,B,z,F,j,U,q,V,H,G,Y,K,W,J,X,$,Q,Z,ee,te,ne,se,ae,oe
const re=Ember.HTMLBars.template({id:"QfDpJo5c",block:'{"symbols":["conversation","index","connection","index","dropdown","@clearActiveSearch","&default","@showUnreadFilterOnboarding","@showSearchInput"],"statements":[[6,[37,6],[[32,9]],null,[["default"],[{"statements":[[2,"  "],[10,"div"],[15,0,"msg-overlay-list-bubble-search__input-container"],[12],[2,"\\n"],[2,"    "],[10,"label"],[14,0,"a11y-text"],[14,"for","msg-overlay-list-bubble-search__search-typeahead-input"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_a11y_search_hint_text","msg-overlay/components/list-bubble-search"],null]],[2,"\\n    "],[13],[2,"\\n    "],[1,[30,[36,11],null,[["type","class","size"],["search-icon","msg-overlay-list-search__search-icon","small"]]]],[2,"\\n    "],[8,"input",[[16,0,[30,[36,14],["msg-overlay-list-bubble-search__search-typeahead-input",[30,[36,6],[[32,0,["suggestedFilter"]]," mb0"],null]],null]],[16,"placeholder",[30,[36,0],["i18n_find_a_connection","msg-overlay/components/list-bubble-search"],null]]],[["@id","@value","@input","@insert-newline","@focusIn","@focusOut","@autocomplete"],["msg-overlay-list-bubble-search__search-typeahead-input",[32,0,["searchTerm"]],[30,[36,15],[[32,0],"onInputChange"],null],[30,[36,15],[[32,0],"onInputEnterKeyRelease"],null],[30,[36,15],[[32,0],"onInputFocusIn"],null],[30,[36,15],[[32,0],"onInputFocusOut"],null],"off"]],null],[2,"\\n    "],[8,"artdeco-dropdown@artdeco-dropdown",[],[["@class","@placement","@justification","@isOpen","@onVisibilityChange"],["msg-overlay-list-bubble__filters-dropdown","bottom","right",[32,0,["isConvoFiltersDropdownOpen"]],[32,0,["toggleConvoFilters"]]]],[["default"],[{"statements":[[2,"\\n      "],[8,[32,5,["dropdown-trigger"]],[],[["@class","@tabindex"],["msg-overlay-list-bubble__filters-btn","0"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,6],[[32,8]],null,[["default"],[{"statements":[[2,"          "],[8,"msg-ui@onboarding-notification",[[24,0,"msg-overlay-list-bubble-search__filters-dropdown-dot"]],[["@showNotification"],[true]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[1,[30,[36,11],null,[["type","size","a11y-text"],["filter-icon","small",[30,[36,0],["i18n_filter_messages_by","msg-overlay/components/list-bubble-search"],null]]]]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n      "],[8,[32,5,["dropdown-content"]],[],[["@classNames","@arrowDir"],["msg-overlay-list-bubble__filters-dropdown-content","right"]],[["default"],[{"statements":[[2,"\\n        "],[10,"ul"],[12],[2,"\\n          "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n"],[2,"            "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected"],[[30,[36,6],[[32,0,["currentConvosFilter"]],false,true],null],[30,[36,3],[[32,0,["applyFilter"]],""],null]]],[["default"],[{"statements":[[2,"\\n              "],[1,[30,[36,0],["i18n_all_messages","msg-overlay/components/list-bubble-search"],null]],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n          "],[13],[2,"\\n          "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n            "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected"],[[30,[36,5],[[32,0,["currentConvosFilter"]],"ARCHIVED"],null],[30,[36,3],[[32,0,["applyFilter"]],"ARCHIVED"],null]]],[["default"],[{"statements":[[2,"\\n              "],[1,[30,[36,0],["i18n_archived","msg-overlay/components/list-bubble-search"],null]],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n          "],[13],[2,"\\n          "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n            "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected"],[[30,[36,5],[[32,0,["currentConvosFilter"]],"CONNECTIONS"],null],[30,[36,3],[[32,0,["applyFilter"]],"CONNECTIONS"],null]]],[["default"],[{"statements":[[2,"\\n              "],[1,[30,[36,0],["i18n_connections","msg-overlay/components/list-bubble-search"],null]],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n          "],[13],[2,"\\n          "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n            "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected"],[[30,[36,5],[[32,0,["currentConvosFilter"]],"UNREAD"],null],[30,[36,3],[[32,0,["applyFilter"]],"UNREAD"],null]]],[["default"],[{"statements":[[2,"\\n              "],[10,"div"],[14,0,"display-flex align-items-center justify-space-between"],[12],[2,"\\n                "],[10,"span"],[12],[2,"\\n                  "],[1,[30,[36,0],["i18n_unread","msg-overlay/components/list-bubble-search"],null]],[2,"\\n                "],[13],[2,"\\n"],[6,[37,6],[[32,0,["showUnreadFilterOnboarding"]]],null,[["default"],[{"statements":[[2,"                  "],[8,"msg-ui@onboarding-notification",[[24,0,"pl4"]],[["@showNotification","@renderInline"],[true,true]],null],[2,"\\n"]],"parameters":[]}]]],[2,"              "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n          "],[13],[2,"\\n          "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n            "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected"],[[30,[36,5],[[32,0,["currentConvosFilter"]],"INMAIL"],null],[30,[36,3],[[32,0,["applyFilter"]],"INMAIL"],null]]],[["default"],[{"statements":[[2,"\\n              "],[1,[30,[36,0],["i18n_inmail","msg-overlay/components/list-bubble-search"],null]],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n          "],[13],[2,"\\n          "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n            "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected"],[[30,[36,5],[[32,0,["currentConvosFilter"]],"BLOCKED"],null],[30,[36,3],[[32,0,["applyFilter"]],"BLOCKED"],null]]],[["default"],[{"statements":[[2,"\\n              "],[1,[30,[36,0],["i18n_spam","msg-overlay/components/list-bubble-search"],null]],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[5]}]]],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,6],[[32,0,["currentConvosFilter"]]],null,[["default"],[{"statements":[[6,[37,6],[[32,0,["unreadBadgerOnboardingEnabled"]]],null,[["default","else"],[{"statements":[[2,"    "],[18,7,[[30,[36,13],null,[["filterSection"],[[30,[36,12],["dummy-yield-wrapper@dummy-yield-wrapper"],null]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"msg-overlay-list-bubble__selected-filters t-12"],[12],[2,"\\n      "],[11,"button"],[24,0,"msg-overlay-list-bubble__selected-filters-remove artdeco-button artdeco-button--1 artdeco-button--muted artdeco-button--circle"],[24,4,"button"],[4,[38,10],["click",[32,0,["clearFilters"]]],null],[12],[2,"\\n        "],[1,[30,[36,11],null,[["type","size","a11y-text"],["cancel-icon","small",[30,[36,0],["i18n_remove_filter_v2","msg-overlay/components/list-bubble-search"],[["filter"],[[32,0,["currentConvosFilter"]]]]]]]]],[2,"\\n      "],[13],[2,"\\n\\n      "],[1,[30,[36,0],["i18n_filtered_to","msg-overlay/components/list-bubble-search"],[["filter"],[[32,0,["currentConvosFilter"]]]]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,6],[[32,0,["isSearchLoading"]]],null,[["default"],[{"statements":[[2,"  "],[8,"artdeco-loader@artdeco-loader",[],[["@size","@class"],["xsmall","msg-search-form__search-loader"]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,6],[[32,0,["hasActiveSearch"]]],null,[["default"],[{"statements":[[2,"  "],[8,"artdeco-button@artdeco-button",[],[["@icon","@size","@circle","@class","@text","@type","@click"],["cancel-icon","small",true,"msg-search-form__cancel-search",[30,[36,0],["i18n_cancel_search","msg-overlay/components/list-bubble-search"],null],"tertiary",[32,6]]],null],[2,"\\n"]],"parameters":[]}]]],[10,"div"],[15,0,[31,["msg-overlay-list-bubble-search-content\\n\\n  ",[30,[36,16],[[32,0,["shouldShowSearchContent"]]," hidden"],null]]]],[12],[2,"\\n"],[6,[37,6],[[32,0,["searchPerformed"]]],null,[["default","else"],[{"statements":[[6,[37,6],[[32,0,["shouldShowSearchLoadingView"]]],null,[["default","else"],[{"statements":[[2,"      "],[8,"artdeco-loader@artdeco-loader",[],[["@size","@class"],["small","msg-overlay-list-bubble-search__loading-state"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"      "],[11,"div"],[24,0,"msg-overlay-list-bubble-search__search-result-container"],[4,[38,10],["mousedown",[32,0,["noOp"]]],null],[12],[2,"\\n"],[6,[37,6],[[32,0,["shouldShowNoResultView"]]],null,[["default","else"],[{"statements":[[2,"          "],[10,"div"],[14,0,"msg-overlay-list-bubble-search__no-result-container text-align-center"],[12],[2,"\\n            "],[10,"div"],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble-search__no-result-illustration"],[12],[13],[2,"\\n            "],[10,"p"],[14,0,"ph2 t-14 t-black t-normal"],[12],[2,"\\n              "],[1,[30,[36,0],["i18n_we_did_not_find_anything","msg-overlay/components/list-bubble-search"],[["searchTerm"],[[32,0,["searchTerm"]]]]]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,6],[[32,0,["displayedConnections","length"]]],null,[["default"],[{"statements":[[2,"            "],[10,"header"],[14,0,"msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[12],[2,"\\n              "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title t-12 t-black--light t-bold truncate"],[12],[2,"\\n                "],[1,[30,[36,0],["i18n_connections_matched","msg-overlay/components/list-bubble-search"],null]],[2,"\\n              "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"ul"],[14,0,"msg-overlay-list-bubble-search__connection-search-result-list"],[12],[2,"\\n"],[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,0,["displayedConnections"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[8,"msg-overlay@search-connection-item",[[16,0,[30,[36,6],[[30,[36,5],[[32,4],[32,0,["highlightedItemIndex"]]],null],"msg-overlay-list-bubble-search__list-item--selected"],null]]],[["@itemIndex","@profile","@caption","@onClick","@onMouseMove"],[[32,4],[32,3,["miniProfile"]],[30,[36,9],[[32,3,["subtext"]],[32,3,["caption"]]],null],[30,[36,3],[[32,0,["onConnectionSearchResultSelect"]],[32,3,["miniProfile"]]],null],[30,[36,3],[[32,0,["onListItemMouseMove"]],[32,4],false],null]]],null],[2,"\\n"]],"parameters":[3,4]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,6],[[32,0,["matchedConversations","length"]]],null,[["default"],[{"statements":[[2,"            "],[10,"header"],[14,0,"msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[12],[2,"\\n              "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title t-12 t-black--light t-bold truncate"],[12],[2,"\\n                "],[1,[30,[36,0],["i18n_conversation_history","msg-overlay/components/list-bubble-search"],null]],[2,"\\n              "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"msg-overlay-list-bubble-search__content-search-result-list"],[12],[2,"\\n"],[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,0,["matchedConversations"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[11,"div"],[4,[38,4],[[30,[36,3],[[32,0,["createSearchItemImpressionEvent"]],[32,1],[32,2]],null]],[["routeName","currentRoute"],[[30,[36,2],[[30,[36,1],["outletState"],null],"render.name"],null],[30,[36,2],[[30,[36,1],["outletState"],null],"render"],null]]]],[12],[2,"\\n                  "],[8,"msg-overlay@list-bubble-item",[[16,0,[30,[36,6],[[30,[36,5],[[32,2],[32,0,["highlightedConversationResultIndex"]]],null],"msg-overlay-list-bubble__convo-item--selected"],null]]],[["@conversation","@openBubble","@onMouseMove","@disbleBulkActions"],[[32,1],[32,0,["onContentSearchResultSelect"]],[30,[36,3],[[32,0,["onListItemMouseMove"]],[32,2],true],null],true]],null],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[1,2]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"msg-overlay-list-bubble-search__history-placeholder-container text-align-center"],[12],[2,"\\n      "],[10,"div"],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble-search__history-placeholder-illustration"],[12],[13],[2,"\\n      "],[10,"p"],[14,0,"t-14 t-black t-normal ph2"],[12],[2,"\\n        "],[1,[30,[36,0],["i18n_search_your_messages","msg-overlay/components/list-bubble-search"],null]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["t","-get-dynamic-var","get","fn","ember-cli-pemberly-tracking@track-impression","global-helpers@eq","if","-track-array","each","global-helpers@or","on","artdeco-icons-web@li-icon","component","hash","concat","action","unless"]}',meta:{moduleName:"msg-overlay/components/list-bubble-search.hbs"}}),{KEYCODES:ie,PAGEVIEW_KEYS:le,CONTROL_INTERACTION_KEYS:ce}=l.default,me=".msg-overlay-list-bubble-search__search-typeahead-input",de=".msg-overlay-list-bubble-search-content",ue=".msg-overlay-list-bubble-search__list-item",pe={CONNECTION:{RESULT_LIST:"matchedConnections",COMPLETED_STATE:"connectionSearchPerformed",RESULT_LOAD_TRACKING_EVENT:le.OVERLAY_SEARCH_CONNECTION_LOAD},CONVERSATION:{RESULT_LIST:"matchedConversations",COMPLETED_STATE:"contentSearchPerformed",RESULT_LOAD_TRACKING_EVENT:le.OVERLAY_SEARCH_CONTENT_LOAD}}
let ge=(p=(0,o.classNames)("msg-overlay-list-bubble-search"),g=(0,o.classNameBindings)("shouldShowSearchContent:msg-overlay-list-bubble-search--search-content-visible"),b=(0,o.tagName)("div"),h=Ember.inject.service("store"),v=Ember.inject.service("lix"),y=Ember.inject.service("i18n"),f=Ember.inject.service("tracking"),_=Ember.inject.service("global-services@a11y-notification"),E=Ember.inject.service("global-services@local-storage"),C=Ember.inject.service("msg-data@data-manager"),w=Ember.inject.service("msg-badge-manager@msg-badge-manager"),O=Ember.inject.service("search-services@search-tracking-v2"),M=Ember.computed.or("connectionSearchPerformed","contentSearchPerformed").readOnly(),S=Ember.computed.alias("inputHasFocus").readOnly(),k=Ember.computed.alias("collection.metadata").readOnly(),R=Ember.computed("matchedConnections").readOnly(),P=Ember.computed("displayedResultsLength","connectionSearchPerformed","contentSearchPerformed").readOnly(),T=Ember.computed("displayedConnections","matchedConversations").readOnly(),D=Ember.computed("searchPerformed","displayedResultsLength").readOnly(),A=Ember.computed("highlightedItemIndex","displayedConnections").readOnly(),I=Ember._action,x=Ember._action,N=Ember._action,L=Ember._action,B=Ember._action,z=Ember._action,F=Ember._action,j=Ember._action,U=Ember._action,q=Ember._action,V=Ember._action,H=Ember._action,G=Ember._action,p(Y=g(Y=b(Y=(K=class extends i.default{constructor(){super(...arguments);(0,t.default)(this,"store",W,this);(0,t.default)(this,"lix",J,this);(0,t.default)(this,"i18n",X,this);(0,t.default)(this,"tracking",$,this);(0,t.default)(this,"a11yNotification",Q,this);(0,t.default)(this,"localStorage",Z,this);(0,t.default)(this,"msgDataManager",ee,this);(0,t.default)(this,"msgBadgeManager",te,this);(0,t.default)(this,"searchTrackingV2",ne,this);(0,n.default)(this,"isConvoFiltersDropdownOpen",!1);(0,n.default)(this,"currentConvosFilter","");(0,n.default)(this,"highlightedItemIndex",-1);(0,n.default)(this,"searchField",void 0);(0,n.default)(this,"inputHasFocus",!1);(0,n.default)(this,"connectionSearchPerformed",!1);(0,n.default)(this,"contentSearchPerformed",!1);(0,n.default)(this,"eventTarget",de);(0,n.default)(this,"scrollingElementSelector",de);(0,n.default)(this,"triggerOnInsert",!1);(0,n.default)(this,"hasMoreContentSearchResults",!1);(0,t.default)(this,"searchPerformed",se,this);(0,t.default)(this,"shouldShowSearchContent",ae,this);(0,t.default)(this,"searchTrackingMetadata",oe,this);(0,n.default)(this,"shouldShowSearchLoadingView",!1)}get displayedConnections(){return this.matchedConnections.slice(0,3)}get shouldShowNoResultView(){return 0===this.displayedResultsLength&&this.connectionSearchPerformed&&this.contentSearchPerformed}get displayedResultsLength(){return Ember.get(this,"displayedConnections.length")+Ember.get(this,"matchedConversations.length")}get listItemCount(){return this.searchPerformed&&this.displayedResultsLength}get highlightedConversationResultIndex(){return this.highlightedItemIndex-Ember.get(this,"displayedConnections.length")}init(){super.init(...arguments)
this.matchedConnections=[]
this.matchedConversations=[]
this.tracking.setupTrackableComponent(this)
this.tracking.setupPageViewComponent(this)
Ember.setProperties(this,{unreadBadgerEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-badger"),unreadBadgerOnboardingEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-badger-onboarding")})}didInsertElement(){super.didInsertElement(...arguments)
Ember.setProperties(this,{searchField:this.element.querySelector(me),scrollSection:this.element.querySelector(de)})
this.tracking.firePageViewEvent(le.OVERLAY_SEARCH);(0,r.default)(this,de)}willDestory(){super.willDestory(...arguments);(0,u.runDisposables)(this)}_performSearch(e){Ember.set(this,"shouldShowSearchLoadingView",!0)
const t=(new Date).getTime()
this.lastRequestTime=t
const n=[this.msgDataManager.fetchTypeaheadResults(e).then(e=>this._handleSearchResults(pe.CONNECTION,e,t))],{currentConvosFilter:s}=this,a={q:"search",keywords:e,createdBefore:Date.now()}
"ARCHIVED"===s?a.folders=[s]:s&&(a.filters=[s])
this.resetInfiniteScroll()
const o=this.msgDataManager.initConversationCollection({name:`${e}-${Date.now()}`,initialQuery:a}),r=o.fetchAndLoad(a).then(e=>this._handleSearchResults(pe.CONVERSATION,e,t))
Ember.set(this,"collection",o)
n.push(r)
Ember.RSVP.all(n).then(()=>{if(!this.isDestroying){Ember.set(this,"shouldShowSearchLoadingView",!1)
0===this.displayedResultsLength?this.tracking.firePageViewEvent(le.OVERLAY_SEARCH_NO_RESULT):this.a11yNotify("i18n_a11y_navigate_search_results")}})}_handleSearchTermChange(e){var t
const n=e?e.trim():"",s=n.length>0
Ember.set(this,"highlightedItemIndex",-1)
s?(0,u.debounceTask)(this,"_performSearch",n,150):this._clearSearchResults()
null===(t=this.onSearchTermChange)||void 0===t||t.call(this,n)}_handleSearchResults(e,t,n){if(n!==this.lastRequestTime||0===Ember.get(this,"searchTerm.length"))return Ember.RSVP.reject()
Ember.setProperties(this,{[e.COMPLETED_STATE]:!0,[e.RESULT_LIST]:t})
e===pe.CONVERSATION&&Ember.setProperties(this,{hasMoreContentSearchResults:t.length>0})
t.length>0&&this.tracking.firePageViewEvent(e.RESULT_LOAD_TRACKING_EVENT)
const s=e===pe.CONVERSATION?"i18n_a11y_conversation_results_found":"i18n_a11y_connection_results_found"
this.a11yNotify(s,{resultsLength:t.length})
return Ember.RSVP.resolve()}_clearSearchResults(){Ember.setProperties(this,{connectionSearchPerformed:!1,matchedConnections:[],contentSearchPerformed:!1,matchedConversations:[],shouldShowClearConfirmBtn:!1})}_clearInputField(){Ember.set(this,"searchTerm","")
this._handleSearchTermChange("")}_moveSelectedItem(e){const t=this.listItemCount
if(0===t)return
const n=this.highlightedItemIndex
let s
s=-1===n?1===e?0:t-1:(n+e+t)%t
Ember.testing&&console.log("[MSG-56428] logging for unstable search interaction test: ","currIndex: ",n," newIndex: ",s)
Ember.set(this,"highlightedItemIndex",s)
this._a11yNotifyItemSelectionChange()
const{scrollSection:a}=this;(0,c.mutateDOM)(()=>{if(!this.isDestroying)if(0===s)a.scrollTop=0
else{const e=this.element.querySelectorAll(ue)[s]
if(e){const t=e.offsetTop,n=t+e.offsetHeight
n>a.offsetHeight+a.scrollTop?a.scrollTop=n-a.offsetHeight:t<a.scrollTop&&(a.scrollTop=t)}}})}_a11yNotifyItemSelectionChange(){const{highlightedItemIndex:e}=this
if(this.searchPerformed){const{displayedConnections:t}=this
if(e<t.length)this.a11yNotify("i18n_a11y_search_result_connection_fullname",{connectionName:(0,m.getName)(Ember.get(t[e],"miniProfile"))})
else{const{highlightedConversationResultIndex:e}=this,t=this.matchedConversations[e]
let n
n="SPONSORED_INMAIL"===Ember.get(t,"latestEvent.subtype")?"i18n_a11y_search_result_spinmail_from_name":Ember.get(t,"groupChat")?"i18n_a11y_search_result_conversation_names":"i18n_a11y_search_result_participant_full_name"
this.a11yNotify(n,{names:Ember.get(t,"participantNames")})}}}_openConnectionSearchResult(e){this._clearInputField()
this.openNewConversation({recipients:[e]})
this.tracking.fireInteractionEvent(ce.SELECT_CONNECTION_SEARCH_RESULT)}_openContentSearchResult(e){const t=Ember.get(e,"backendUrn"),n=Ember.get(this,"collection.metadata")
this._clearInputField()
this.openBubble(e)
this.tracking.fireInteractionEvent(ce.SELECT_CONTENT_SEARCH_RESULT)
this.searchTrackingV2.trackAction("MESSAGING_VIEW_RESULT",(0,d.getResultTrackingInfo)(e,Ember.get(n,"rawSearchId"),Ember.get(n,"trackingIdMap")[t]))}keyDown(e){if(this.inputHasFocus)switch(e.keyCode){case ie.UP_ARROW:this._moveSelectedItem(-1)
e.preventDefault()
break
case ie.DOWN_ARROW:this._moveSelectedItem(1)
e.preventDefault()
break
case ie.ESC:this._clearInputField()}}infiniteScroll(){return this.hasMoreContentSearchResults?this.collection.fetchAndLoadMore().then(e=>{const t=e.length
this.isDestroying||Ember.setProperties(this,{matchedConversations:this.collection.data,hasMoreContentSearchResults:t})
return Ember.RSVP.resolve(t)}):Ember.RSVP.resolve(!1)}a11yNotify(e,t){const n=this.i18n.lookupTranslation("components/msg-overlay@list-bubble-search",e)
this.a11yNotification.setTextInLiveRegion(n([t]))}toggleConvoFilters(e){var t
Ember.set(this,"isConvoFiltersDropdownOpen",e)
this.tracking.fireInteractionEvent("overlay.filter_messages_by","SHORT_PRESS")
null===(t=this.onToggleConvoFilters)||void 0===t||t.call(this,e)}applyFilter(e){Ember.set(this,"isConvoFiltersDropdownOpen",!1)
if(this.currentConvosFilter!==e){this.onFilterApply(e)
this._handleSearchTermChange(this.searchTerm)}}clearFilters(){this.onClearFilters()
this._handleSearchTermChange(this.searchTerm)}onInputFocusIn(){Ember.set(this,"inputHasFocus",!0);(0,c.mutateDOM)(()=>{this.isDestroying||Ember.set(this,"scrollSection.scrollTop",0)})
this.tracking.fireInteractionEvent(ce.FOCUS_SEARCH_BOX)}onInputFocusOut(){Ember.setProperties(this,{inputHasFocus:!1,shouldShowClearConfirmBtn:!1})}onInputEnterKeyRelease(){const{highlightedItemIndex:e}=this
if(-1!==e&&this.searchPerformed){if(e<Ember.get(this,"displayedConnections.length")){const t=this.displayedConnections[e]
this._openConnectionSearchResult(Ember.get(t,"miniProfile"))}else{const e=this.matchedConversations[this.highlightedConversationResultIndex]
this._openContentSearchResult(e)}}}clearInputField(){this._clearInputField()
this.tracking.fireInteractionEvent(ce.CANCEL_SEARCH)}onConnectionSearchResultSelect(e){this._openConnectionSearchResult(e)}onContentSearchResultSelect(e){this._openContentSearchResult(e)}onInputChange(){this._handleSearchTermChange(this.searchTerm)}onListItemMouseMove(e,t,n){if(this.lastX!==n.screenX||this.lastY!==n.screenY){Ember.set(this,"highlightedItemIndex",t?e+Ember.get(this,"displayedConnections.length"):e)
this.lastX=n.screenX
this.lastY=n.screenY}}createSearchItemImpressionEvent(e,t){const n=Ember.get(e,"backendUrn"),s=(0,d.getResultTrackingInfo)(e,Ember.get(this,"searchTrackingMetadata.rawSearchId"),Ember.get(this,"searchTrackingMetadata.trackingIdMap")[n],{row:t+1,column:1})
return{name:"SearchImpressionV2Event",body:{results:[{duration:0,entityUrn:s.entityUrn,gridPosition:s.gridPosition,resultSize:{height:0,width:0},searchId:s.searchId,trackingId:s.trackingId,visibleHeight:0,visibleTime:0,isCacheHit:s.isCacheHit||!1}]}}}noOp(e){e.preventDefault()}},W=(0,s.default)(K.prototype,"store",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,s.default)(K.prototype,"lix",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,s.default)(K.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,s.default)(K.prototype,"tracking",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,s.default)(K.prototype,"a11yNotification",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,s.default)(K.prototype,"localStorage",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,s.default)(K.prototype,"msgDataManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,s.default)(K.prototype,"msgBadgeManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,s.default)(K.prototype,"searchTrackingV2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,s.default)(K.prototype,"searchPerformed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,s.default)(K.prototype,"shouldShowSearchContent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,s.default)(K.prototype,"searchTrackingMetadata",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(K.prototype,"displayedConnections",[R],Object.getOwnPropertyDescriptor(K.prototype,"displayedConnections"),K.prototype),(0,s.default)(K.prototype,"shouldShowNoResultView",[P],Object.getOwnPropertyDescriptor(K.prototype,"shouldShowNoResultView"),K.prototype),(0,s.default)(K.prototype,"displayedResultsLength",[T],Object.getOwnPropertyDescriptor(K.prototype,"displayedResultsLength"),K.prototype),(0,s.default)(K.prototype,"listItemCount",[D],Object.getOwnPropertyDescriptor(K.prototype,"listItemCount"),K.prototype),(0,s.default)(K.prototype,"highlightedConversationResultIndex",[A],Object.getOwnPropertyDescriptor(K.prototype,"highlightedConversationResultIndex"),K.prototype),(0,s.default)(K.prototype,"toggleConvoFilters",[I],Object.getOwnPropertyDescriptor(K.prototype,"toggleConvoFilters"),K.prototype),(0,s.default)(K.prototype,"applyFilter",[x],Object.getOwnPropertyDescriptor(K.prototype,"applyFilter"),K.prototype),(0,s.default)(K.prototype,"clearFilters",[N],Object.getOwnPropertyDescriptor(K.prototype,"clearFilters"),K.prototype),(0,s.default)(K.prototype,"onInputFocusIn",[L],Object.getOwnPropertyDescriptor(K.prototype,"onInputFocusIn"),K.prototype),(0,s.default)(K.prototype,"onInputFocusOut",[B],Object.getOwnPropertyDescriptor(K.prototype,"onInputFocusOut"),K.prototype),(0,s.default)(K.prototype,"onInputEnterKeyRelease",[z],Object.getOwnPropertyDescriptor(K.prototype,"onInputEnterKeyRelease"),K.prototype),(0,s.default)(K.prototype,"clearInputField",[F],Object.getOwnPropertyDescriptor(K.prototype,"clearInputField"),K.prototype),(0,s.default)(K.prototype,"onConnectionSearchResultSelect",[j],Object.getOwnPropertyDescriptor(K.prototype,"onConnectionSearchResultSelect"),K.prototype),(0,s.default)(K.prototype,"onContentSearchResultSelect",[U],Object.getOwnPropertyDescriptor(K.prototype,"onContentSearchResultSelect"),K.prototype),(0,s.default)(K.prototype,"onInputChange",[q],Object.getOwnPropertyDescriptor(K.prototype,"onInputChange"),K.prototype),(0,s.default)(K.prototype,"onListItemMouseMove",[V],Object.getOwnPropertyDescriptor(K.prototype,"onListItemMouseMove"),K.prototype),(0,s.default)(K.prototype,"createSearchItemImpressionEvent",[H],Object.getOwnPropertyDescriptor(K.prototype,"createSearchItemImpressionEvent"),K.prototype),(0,s.default)(K.prototype,"noOp",[G],Object.getOwnPropertyDescriptor(K.prototype,"noOp"),K.prototype),K))||Y)||Y)||Y)
e.default=ge
Ember._setComponentTemplate(re,ge)})
define("msg-overlay/components/list-bubble",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-shared/utils/constants","msg-ui/utils/realtime-onboarding","global-utils/utils/is-browser","ember-cli-pemberly-tracking/utils/tracking","msg-shared/utils/get-participant-presence-statuses","infinite-scroll/components/infinite-scroll-container","ember-lifeline"],function(e,t,n,s,a,o,r,i,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,b,h,v,y,f,_,E,C,w,O,M,S,k,R,P,T,D,A,I,x,N,L,B,z,F,j,U,q,V,H,G,Y,K,W,J,X,$,Q,Z,ee,te,ne,se,ae,oe,re,ie,le,ce,me,de,ue,pe,ge,be,he,ve,ye,fe,_e,Ee,Ce,we,Oe,Me,Se,ke,Re,Pe,Te,De,Ae,Ie,xe,Ne,Le,Be,ze,Fe,je,Ue,qe,Ve,He,Ge,Ye,Ke,We,Je,Xe,$e,Qe,Ze,et,tt,nt,st,at,ot,rt,it,lt,ct,mt,dt,ut,pt,gt,bt
const ht=Ember.HTMLBars.template({id:"adiY/N5E",block:'{"symbols":["assetLoader","assetLoader","conversation","messageRequestConversation","messageRequestConversation","widget","widget","listBubbleSearch","dropdown","@conversations"],"statements":[[11,"div"],[24,"tabindex","-1"],[16,0,[31,["msg-overlay-list-bubble\\n  ",[30,[36,1],[[32,0,["isMinimized"]],"msg-overlay-list-bubble--is-minimized"],null],"\\n   ",[30,[36,1],[[32,0,["isInMinimizeTransition"]],"msg-overlay-list-bubble--during-transition"],null]," ml4"]]],[4,[38,17],null,null],[4,[38,18],["transitionend",[30,[36,0],[[32,0],"isInMinimizeTransition",false],null]],null],[12],[2,"\\n  "],[10,"header"],[15,0,[30,[36,16],["msg-overlay-bubble-header",[30,[36,1],[[32,0,["hasBadge"]]," msg-overlay-bubble-header--inverse msg-overlay-bubble-header--is-badged"],null]],null]],[12],[2,"\\n    "],[8,"msg-overlay@active-status-onboarding",[],[[],[]],null],[2,"\\n    "],[11,"section"],[24,0,"msg-overlay-bubble-header__details flex-row align-items-center"],[4,[38,18],["click",[32,0,["toggleMinimize"]]],null],[4,[38,3],[[32,0,["toggleMinimizeTrackingControlName"]]],null],[12],[2,"\\n      "],[8,"presence@entity-with-presence",[],[["@alt","@title","@miniProfile","@size"],[[32,0,["authenticatedUser","miniProfile","fullName"]],[32,0,["authenticatedUser","miniProfile","fullName"]],[32,0,["authenticatedUser","miniProfile"]],1]],null],[2,"\\n      "],[10,"button"],[14,0,"msg-overlay-bubble-header__button truncate ml2"],[14,4,"button"],[12],[2,"\\n        "],[10,"h4"],[15,0,[31,["truncate t-14 t-bold ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"t-black","t-white"],null]]]],[12],[2,"\\n          "],[10,"span"],[14,"aria-hidden","true"],[12],[2,"\\n            "],[1,[30,[36,2],["messaging","msg-overlay/components/list-bubble"],null]],[2,"\\n          "],[13],[2,"\\n          "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n            "],[1,[30,[36,1],[[32,0,["isMinimized"]],[30,[36,2],["a11y_open_overlay","msg-overlay/components/list-bubble"],null],[30,[36,2],["a11y_minimize_overlay","msg-overlay/components/list-bubble"],null]],null]],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n"],[6,[37,1],[[32,0,["unreadBadgerEnabled"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["msgBadgeManager","unreadConversationsCount"]]],null,[["default"],[{"statements":[[2,"          "],[10,"mark"],[14,0,"msg-overlay-bubble-header__unread-count"],[14,"aria-hidden","true"],[12],[2,"\\n            "],[10,"abbr"],[15,"title",[30,[36,2],["a11y_unread_conversations","msg-overlay/components/list-bubble"],[["count"],[[32,0,["msgBadgeManager","unreadConversationsCount"]]]]]],[12],[2,"\\n              "],[1,[30,[36,2],["unread_conversations_count","msg-overlay/components/list-bubble"],[["count"],[[32,0,["msgBadgeManager","unreadConversationsCount"]]]]]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["hasBadge"]]],null,[["default"],[{"statements":[[2,"        "],[10,"mark"],[14,0,"msg-overlay-bubble-header__unread-count"],[14,"aria-hidden","true"],[12],[2,"\\n          "],[10,"abbr"],[15,"title",[30,[36,2],["a11y_unseen_messages","msg-overlay/components/list-bubble"],[["count"],[[32,0,["msgOverlayService","unseenMsgCount"]]]]]],[12],[2,"\\n            "],[1,[32,0,["msgOverlayService","unseenMsgCount"]]],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n      "]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,1],[[32,0,["enableRealtimeConnectionStatus"]]],null,[["default"],[{"statements":[[2,"        "],[1,[30,[36,12],null,[["type","class"],["flash-on-icon",[30,[36,16],["msg-overlay-bubble-header__realtime-indicator ",[32,0,["realtimeStatusClassName"]]],null]]]]],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[10,"section"],[14,0,"msg-overlay-bubble-header__controls display-flex"],[12],[2,"\\n"],[2,"      "],[8,"artdeco-button@artdeco-button",[[4,[38,3],["overlay.compose_message"],null]],[["@type","@text","@color","@circle","@size","@icon","@class","@click"],["tertiary",[30,[36,2],["a11y_compose","msg-overlay/components/list-bubble"],null],[30,[36,1],[[32,0,["lightHeaderBackground"]],"muted","inverse"],null],true,1,"compose-icon","msg-overlay-bubble-header__control msg-overlay-bubble-header__control--new-convo-btn",[32,0,["createNewConvoPVE"]]]],null],[2,"\\n\\n"],[2,"      "],[8,"artdeco-dropdown@artdeco-dropdown",[],[["@isOpen","@onVisibilityChange","@placement","@justification","@onClick","@shouldTriggerRetainFocus"],[[32,0,["isHeaderDropdownMenuOpen"]],[30,[36,0],[[32,0],"isHeaderDropdownMenuOpen"],null],[32,0,["headerDropdownMenuPlacement"]],"right",[32,0,["stopEvtPropagation"]],false]],[["default"],[{"statements":[[2,"\\n        "],[8,[32,9,["dropdown-trigger"]],[[4,[38,3],["overlay.dropdown_menu"],null]],[["@class","@onClick"],[[31,["artdeco-button artdeco-button--1 artdeco-button--circle artdeco-button--tertiary ",[30,[36,1],[[32,0,["lightHeaderBackground"]],"artdeco-button--muted","artdeco-button--inverse"],null]]],[32,0,["onDropdownToggle"]]]],[["default"],[{"statements":[[2,"\\n          "],[1,[30,[36,12],null,[["a11y-text","type","size","color"],[[30,[36,2],["i18n_dropdown_menu_description","msg-overlay/components/list-bubble"],null],"ellipsis-horizontal-icon","small",true]]]],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[14,0,"msg-overlay-bubble-header__dropdown-container"],[12],[2,"\\n          "],[8,[32,9,["dropdown-content"]],[],[["@arrowDir"],["right"]],[["default"],[{"statements":[[2,"\\n            "],[10,"ul"],[14,0,"white-space-nowrap"],[12],[2,"\\n              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[4,[38,3],["overlay.compose_group"],null]],[["@itemSelected"],[[32,0,["openNewGroupConvoBubble"]]]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,2],["i18n_new_group_conversation","msg-overlay/components/list-bubble"],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showManageConversationsButtonInHeaderDropdown"]]],null,[["default"],[{"statements":[[2,"                "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[4,[38,3],["overlay.enter_bulk_selection"],null]],[["@itemSelected"],[[32,0,["enterBulkActionsMode"]]]],[["default"],[{"statements":[[2,"\\n                  "],[10,"div"],[14,0,"display-flex align-items-center"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"\\n                      "],[1,[30,[36,2],["i18n_manage_conversations","msg-overlay/components/list-bubble"],null]],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,1],[[30,[36,14],[[32,0,["enableBulkActionsOnboarding"]],[32,0,["bulkActionsOnboardingWidgetTrackingToken"]]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["useNewCoachmark"]]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"product-education@coachmark",[[24,0,"pl4"]],[["@isVisible","@renderInline"],[true,true]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[8,"msg-ui@onboarding-notification",[[24,0,"pl4"]],[["@showNotification","@renderInline"],[true,true]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                  "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[4,[38,3],["overlay.connection_list_settings_from_dropdown"],null]],[["@itemSelected"],[[32,0,["openMessagingSettingsModal"]]]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,2],["i18n_messaging_settings","msg-overlay/components/list-bubble"],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showMessageRequestInboxInHeaderDropdown"]]],null,[["default"],[{"statements":[[2,"                "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[4,[38,3],["overlay.overflow_view_message_request_inbox"],null]],[["@itemSelected"],[[32,0,["openMessageRequestConversationList"]]]],[["default"],[{"statements":[[2,"\\n                  "],[1,[30,[36,2],["i18n_message_request_inbox","msg-overlay/components/list-bubble"],null]],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["showPendingMessageRequestConversationList"]]],null,[["default"],[{"statements":[[2,"                "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[4,[38,3],["overlay.view_declined_message_requests"],null]],[["@itemSelected"],[[32,0,["openDeclinedMessageRequestConversationList"]]]],[["default"],[{"statements":[[2,"\\n                  "],[1,[30,[36,2],["i18n_declined_message_requests","msg-overlay/components/list-bubble"],null]],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[32,0,["openAwayMessageSettingsModal"]]]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,1],[[32,0,["msgDataManager","awayMessageSettings","length"]],[30,[36,2],["i18n_update_away_message","msg-overlay/components/list-bubble"],null],[30,[36,2],["i18n_set_away_message","msg-overlay/components/list-bubble"],null]],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n          "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n      "]],"parameters":[9]}]]],[2,"\\n\\n"],[6,[37,1],[[30,[36,14],[[32,0,["enableBulkActionsOnboarding"]],[32,0,["bulkActionsOnboardingWidgetTrackingToken"]]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["useNewCoachmark"]]],null,[["default","else"],[{"statements":[[2,"          "],[8,"product-education@coachmark",[],[["@isVisible"],[true]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"          "],[8,"msg-ui@onboarding-notification",[],[["@showNotification","@isColorWhite"],[true,[30,[36,15],[[32,0,["lightHeaderBackground"]]],null]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[2,"      "],[8,"artdeco-button@artdeco-button",[[4,[38,3],[[30,[36,1],[[32,0,["isMinimized"]],"overlay_maximize_inbox","overlay_minimize_inbox"],null]],null]],[["@type","@text","@color","@circle","@size","@icon","@class","@click"],["tertiary",[30,[36,1],[[32,0,["isMinimized"]],[30,[36,2],["a11y_open_overlay","msg-overlay/components/list-bubble"],null],[30,[36,2],["a11y_minimize_overlay","msg-overlay/components/list-bubble"],null]],null],[30,[36,1],[[32,0,["lightHeaderBackground"]],"muted","inverse"],null],true,1,[30,[36,1],[[32,0,["isMinimized"]],"chevron-up-icon","chevron-down-icon"],null],"msg-overlay-bubble-header__control msg-overlay-bubble-header__control--new-convo-btn",[32,0,["toggleMinimize"]]]],null],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[6,[37,1],[[32,0,["shouldRenderContent"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["isBulkActionsMode"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@primitives/bulk-actions-panel",[],[["@selectedConversations","@willExecuteBulkAction","@didExecuteBulkAction","@onExitBulkActionsMode","@isOverlay"],[[32,0,["selectedConversations"]],[32,0,["willExecuteBulkAction"]],[32,0,["didExecuteBulkAction"]],[32,0,["onExitBulkActionsMode"]],true]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[8,"msg-overlay@list-bubble-search",[],[["@showUnreadFilterOnboarding","@openNewConversation","@openBubble","@currentConvosFilter","@onFilterApply","@onClearFilters","@onToggleConvoFilters","@showSearchInput","@onSearchTermChange"],[[32,0,["showUnreadFilterOnboarding"]],[32,0,["newConversation"]],[32,0,["openBubble"]],[32,0,["currentConvosFilter"]],[32,0,["applyFilter"]],[32,0,["clearFilters"]],[32,0,["onToggleConvoFilters"]],[32,0,["showSearchInput"]],[32,0,["onSearchTermChange"]]]],[["default"],[{"statements":[[2,"\\n      "],[8,[32,8,["filterSection"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"msg-ui@selected-filter",[],[["@count","@clearFilter","@currentFilter","@trackingPrefix","@disabled","@unreadBadgerEnabled","@loadedUnreadConversations"],[[32,0,["msgBadgeManager","unreadConversationsCount"]],[32,0,["clearFilters"]],[32,0,["currentConvosFilter"]],"overlay.",[32,0,["isBulkActionsMode"]],[32,0,["unreadBadgerEnabled"]],[32,0,["loadedUnreadConversations"]]]],null],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[8]}]]],[2,"\\n\\n    "],[8,"msg-ui@realtime-upgrade-notice",[],[[],[]],null],[2,"\\n\\n"],[6,[37,1],[[32,0,["showKindnessReminder"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@inbox-onboarding-widget",[[24,0,"msg-overlay-list-bubble__kindness-reminder"]],[["@type","@legoConfig","@text","@primaryActionText","@onImpression","@onDismiss","@onPrimary"],["basic",[32,0,["kindnessReminderLegoConfig"]],[30,[36,2],["i18n_kindness_reminder_text","msg-overlay/components/list-bubble"],null],[30,[36,2],["i18n_kindness_reminder_learn_more","msg-overlay/components/list-bubble"],null],[32,0,["impressionKindnessReminder"]],[32,0,["onKindnessReminderWidgetDismiss"]],[32,0,["clickKindnessReminder"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[8,"msg-ui@away-message-reminder-banner",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[32,0,["currentConvosFilter"]]],null,[["default"],[{"statements":[[6,[37,10],[[32,0,["isBulkActionsMode"]]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,14],[[32,0,["suggestedFilter"]],[32,0,["showUnreadBadgerOnboarding"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,"msg-ui@inbox-onboarding-widget",[],[["@title","@text","@legoConfig","@onDismiss","@onPrimary","@primaryActionText","@sendPrimaryActionOnPrimaryActionClick"],[[30,[36,2],["i18n_unread_badger_onboarding_title","msg-overlay/components/list-bubble"],null],[30,[36,2],["i18n_unread_badger_onboarding_text","msg-overlay/components/list-bubble"],null],[32,0,["unreadBadgerOnboardingLegoConfig"]],[30,[36,0],[[32,0],"showUnreadBadgerOnboarding",false],null],[32,0,["onUnreadBadgerOnboardingPrimaryAction"]],[30,[36,2],["i18n_view_unread_v2","msg-overlay/components/list-bubble"],null],false]],[["default"],[{"statements":[[2,"\\n          "],[8,[32,7,["leftSection"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[15,0,[30,[36,1],[[30,[36,13],[[32,0,["msgBadgeManager","unreadConversationsCount"]],100],null],"pr3","pr1"],null]],[12],[2,"\\n              "],[8,"artdeco-notification-badge@artdeco-notification-badge",[],[["@number","@showCount"],[[32,0,["msgBadgeManager","unreadConversationsCount"]],true]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,12],null,[["type"],["nav-small-messaging-icon"]]]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n          "]],"parameters":[]}]]],[2,"\\n        "]],"parameters":[7]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["showAwayMessageOnboarding"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-ui@inbox-onboarding-widget",[],[["@title","@text","@legoConfig","@onDismiss","@onPrimary","@primaryActionText"],[[30,[36,2],["i18n_away_message_onboarding_title","msg-overlay/components/list-bubble"],null],[30,[36,2],["i18n_away_message_onboarding_text","msg-overlay/components/list-bubble"],null],[32,0,["awayMessageOnboardingLegoConfig"]],[30,[36,0],[[32,0],"showAwayMessageOnboarding",false],null],[30,[36,0],[[32,0],"awayMessageSettingsModalIsOpen",true],null],[30,[36,2],["i18n_set_away_message","msg-overlay/components/list-bubble"],null]]],[["default"],[{"statements":[[2,"\\n          "],[8,[32,6,["leftSection"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[1,[30,[36,12],null,[["type","size","color"],["linkedin-bug","21dp","premium"]]]],[2,"\\n          "]],"parameters":[]}]]],[2,"\\n        "]],"parameters":[6]}]]],[2,"\\n      "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[2,"  "],[10,"section"],[15,0,[31,["scrollable msg-overlay-list-bubble__content\\n\\n    ",[30,[36,1],[[32,0,["showDefaultConversationList"]]," msg-overlay-list-bubble__content--scrollable"],null]]]],[12],[2,"\\n"],[6,[37,1],[[32,0,["shouldRenderContent"]]],null,[["default"],[{"statements":[[2,"      "],[10,"div"],[14,0,"msg-overlay-list-bubble__default-conversation-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["showFailedState"]]],null,[["default","else"],[{"statements":[[2,"          "],[10,"div"],[14,0,"msg-overlay-list-bubble__failed-to-connect-container text-align-center"],[12],[2,"\\n            "],[10,"h3"],[14,0,"t-16 t-black--light t-normal ph3 pb5"],[12],[2,"\\n              "],[1,[30,[36,2],["i18n_failed_connect","msg-overlay/components/list-bubble"],null]],[2,"\\n            "],[13],[2,"\\n            "],[8,"artdeco-button@artdeco-button",[[4,[38,3],["overlay.retry"],null]],[["@click","@type","@text"],[[32,0,["refetchOverlayData"]],"secondary",[30,[36,2],["i18n_try_again","msg-overlay/components/list-bubble"],null]]],null],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["dataLoaded"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["showAbiFlow"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"msg-overlay@abi-flow",[],[["@isAbiComplete"],[[32,0,["isAbiComplete"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["showNoviceState"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"msg-overlay@novice-state",[],[["@memberConnections","@newConversation"],[[32,0,["memberConnections"]],[32,0,["createNewConvoPVE"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["hasNoFilteredConversations"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble__no-results-image"],[12],[13],[2,"\\n            "],[10,"p"],[14,0,"text-align-center mb4"],[12],[2,"\\n              "],[1,[30,[36,2],["i18n_no_results_found","msg-overlay/components/list-bubble"],null]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["showMessageRequestConversationList"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["showDeclinedMessageRequestConversationList"]]],null,[["default","else"],[{"statements":[[2,"              "],[8,"msg-ui@message-request-list-header",[],[["@isDeclinedList","@goBack"],[true,[32,0,["messageRequestListHeaderOnGoBack"]]]],null],[2,"\\n"],[6,[37,1],[[32,0,["showNoDeclinedMessageRequestView"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                  "],[10,"div"],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble__no-message-request-illustraction"],[12],[13],[2,"\\n                  "],[10,"p"],[14,0,"text-align-center t-14 t-black ph4"],[12],[2,"\\n                    "],[1,[30,[36,2],["i18n_no_declined_message_request","msg-overlay/components/list-bubble"],null]],[2,"\\n                  "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"msg-overlay-list-bubble__message-request-conversation-list"],[12],[2,"\\n"],[6,[37,9],[[30,[36,8],[[30,[36,8],[[32,0,["sortedDeclinedMessageRequestConversations"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"msg-overlay@list-bubble-item",[[4,[38,7],[[30,[36,4],[[32,0,["createListBubbleItemImpressionEvent"]],[32,5]],null]],[["routeName","currentRoute"],[[30,[36,6],[[30,[36,5],["outletState"],null],"render.name"],null],[30,[36,6],[[30,[36,5],["outletState"],null],"render"],null]]]]],[["@conversation","@openBubble","@unreadBadgerEnabled","@disbleBulkActions"],[[32,5],[32,0,["openBubble"]],[32,0,["unreadBadgerEnabled"]],true]],null],[2,"\\n"]],"parameters":[5]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"              "],[8,"msg-ui@message-request-list-header",[],[["@goBack"],[[32,0,["backToInboxFromMessageRequestList"]]]],null],[2,"\\n"],[6,[37,1],[[32,0,["showNoPendingMessageRequestView"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                  "],[10,"div"],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble__no-message-request-illustraction"],[12],[13],[2,"\\n                  "],[10,"p"],[14,0,"text-align-center t-14 t-black ph4"],[12],[2,"\\n                    "],[1,[30,[36,2],["i18n_no_pending_message_request","msg-overlay/components/list-bubble"],null]],[2,"\\n                  "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"msg-overlay-list-bubble__message-request-conversation-list"],[12],[2,"\\n"],[6,[37,9],[[30,[36,8],[[30,[36,8],[[32,0,["sortedPendingMessageRequestConversations"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"msg-overlay@list-bubble-item",[[4,[38,7],[[30,[36,4],[[32,0,["createListBubbleItemImpressionEvent"]],[32,4]],null]],[["routeName","currentRoute"],[[30,[36,6],[[30,[36,5],["outletState"],null],"render.name"],null],[30,[36,6],[[30,[36,5],["outletState"],null],"render"],null]]]]],[["@conversation","@openBubble","@unreadBadgerEnabled","@disbleBulkActions"],[[32,4],[32,0,["openBubble"]],[32,0,["unreadBadgerEnabled"]],true]],null],[2,"\\n"]],"parameters":[4]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[10,"div"],[15,0,[31,["msg-overlay-list-bubble__loader\\n\\n              ",[30,[36,10],[[32,0,["isLoading"]]," hidden"],null]]]],[12],[2,"\\n              "],[8,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["showContextualRecommendations"]]],null,[["default"],[{"statements":[[2,"              "],[8,"msg-overlay@contextual-recommendation-list",[],[["@suggestedRecipients","@openNewConversation"],[[32,0,["suggestedRecipients"]],[32,0,["newConversation"]]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,11],[[32,0,["hasConversations"]],[32,0,["pendingMessageRequestBundle"]]],null]],null,[["default"],[{"statements":[[2,"              "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n                "],[1,[30,[36,2],["i18n_a11y_infinite_scroll","msg-overlay/components/list-bubble"],null]],[2,"\\n              "],[13],[2,"\\n"],[6,[37,1],[[32,0,["showContextualRecommendations"]]],null,[["default"],[{"statements":[[2,"                "],[10,"header"],[14,0,"msg-overlay-list-bubble__list-header"],[12],[2,"\\n                  "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title t-12 t-black--light t-bold truncate"],[12],[2,"\\n                    "],[1,[30,[36,2],["i18n_messages","msg-overlay/components/list-bubble"],null]],[2,"\\n                  "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["showMessageRequestBanner"]]],null,[["default"],[{"statements":[[2,"                "],[8,"msg-ui@message-request-banner-v2",[],[["@messageRequestBundle","@openMessageRequestConversationList","@trackingKey"],[[32,0,["pendingMessageRequestBundle"]],[32,0,["openMessageRequestConversationList"]],"overlay.bundle_view_message_request_inbox"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"              "],[10,"div"],[14,0,"msg-conversations-container__conversations-list msg-overlay-list-bubble__conversations-list"],[12],[2,"\\n"],[6,[37,1],[[32,0,["showNewConversationsPill"]]],null,[["default"],[{"statements":[[2,"                  "],[10,"div"],[14,0,"msg-overlay-list-bubble__new-conversations msg-animation__indicator"],[12],[2,"\\n                    "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[30,[36,2],["a11y_new_conversations","msg-overlay/components/list-bubble"],null]]],[["@class","@size","@controlType","@text","@icon","@click"],["msg-overlay-list-bubble__new-conversations-button block",1,"button",[30,[36,2],["i18n_new_conversations","msg-overlay/components/list-bubble"],null],"arrow-up-icon",[32,0,["onNewConversationsPillClick"]]]],null],[2,"\\n                  "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,9],[[30,[36,8],[[30,[36,8],[[32,10]],null]],null]],[["key"],["@index"]],[["default"],[{"statements":[[2,"                  "],[8,"msg-overlay@list-bubble-item",[[4,[38,7],[[30,[36,4],[[32,0,["createListBubbleItemImpressionEvent"]],[32,3]],null]],[["routeName","currentRoute"],[[30,[36,6],[[30,[36,5],["outletState"],null],"render.name"],null],[30,[36,6],[[30,[36,5],["outletState"],null],"render"],null]]]]],[["@conversation","@openBubble","@isBulkActionsMode","@handleBulkActionToggle","@unreadBadgerEnabled"],[[32,3],[32,0,["openBubble"]],[32,0,["isBulkActionsMode"]],[30,[36,4],[[32,0,["onListBubbleItemClick"]],[32,3]],null],[32,0,["unreadBadgerEnabled"]]]],null],[2,"\\n"]],"parameters":[3]}]]],[2,"              "],[13],[2,"\\n"],[6,[37,1],[[32,0,["loadMoreError"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"p4 mb6"],[12],[2,"\\n                  "],[8,"artdeco-empty-state@artdeco-empty-state",[],[["@class","@headline","@illustration","@message","@muted"],["msg-conversations-container__load-error",[30,[36,2],["i18n_oops","msg-overlay/components/list-bubble"],null],"no-connection",[30,[36,2],["i18n_load_more_error","msg-overlay/components/list-bubble"],null],true]],null],[2,"\\n                  "],[8,"artdeco-button@artdeco-button",[[4,[38,3],["overlay.retry"],null]],[["@class","@click","@text","@type"],["js-retry-button block mlA mrA",[32,0,["retryLoadMore"]],[30,[36,2],["i18n_try_again","msg-overlay/components/list-bubble"],null],"secondary"]],null],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"              "],[10,"div"],[15,0,[31,["msg-overlay-list-bubble__loader\\n\\n                ",[30,[36,10],[[32,0,["isLoading"]]," hidden"],null]]]],[12],[2,"\\n                "],[8,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]],null],[2,"\\n              "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"          "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"          "],[8,"msg-ui@loader",[],[["@size"],["small"]],null],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["shouldLoadMoreConversations"]]],null,[["default"],[{"statements":[[2,"          "],[8,"msg-ui@visible-beacon",[],[["@inView"],[[32,0,["loadMore"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["showSuggestedFilter"]]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-ui@suggested-filter",[],[["@count","@suggestedFilter","@applyFilter","@disabled","@positionedAtBottom"],[[32,0,["msgBadgeManager","unreadConversationsCount"]],[32,0,["suggestedFilter"]],[32,0,["applyFilter"]],[32,0,["isBulkActionsMode"]],true]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["isMessagingSettingsModalOpen"]]],null,[["default"],[{"statements":[[2,"    "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,2,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-shared-modals@msg-settings-modal",[],[["@messagingSettings","@closeModal"],[[32,0,["messagingSettings"]],[30,[36,0],[[32,0],"isMessagingSettingsModalOpen",false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["awayMessageSettingsModalIsOpen"]]],null,[["default"],[{"statements":[[2,"    "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-shared-modals@away-message-settings-modal",[],[["@closeModal"],[[30,[36,0],[[32,0],"awayMessageSettingsModalIsOpen",false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["ember-set-helper@set","if","t","ember-cli-pemberly-tracking@track-interaction","fn","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","-track-array","each","unless","global-helpers@or","artdeco-icons-web@li-icon","global-helpers@gte","global-helpers@and","global-helpers@not","concat","msg-shared@block-scrolling","on"]}',meta:{moduleName:"msg-overlay/components/list-bubble.hbs"}}),{IMPRESSION_KEYS:{CONVERSATION:vt},MESSAGE_COLLECTION_TYPE_NAMES:yt,MODULE_KEYS:{OVERLAY_CONVERSATION_LIST:ft},MESSAGE_REQUEST_STATUS:{MESSAGE_REQUEST_PENDING:_t,MESSAGE_REQUEST_DECLINED:Et},OVERLAY_LS_CONVERSATIONS_FILTER_KEY:Ct,OVERLAY:{QUALITY_MEMBER_CONNECTIONS_THRESHOLD:wt},OVERLAY_FILTERS_INTERACTION_EVENTS:Ot,PAGEVIEW_KEYS:Mt,KINDNESS_REMINDER_LEGO:St,UNREAD_BADGER_ONBOARDING_LEGO:kt,BULK_ACTIONS_ONBOARDING_LEGO:Rt,AWAY_MESSAGE_ONBOARDING_LEGO:Pt,UNREAD_FILTER_ONBOARDING_LEGO:Tt}=o.default
let Dt=(u=Ember.inject.service("authentication@authenticated-user"),p=Ember.inject.service("global-services@badge"),g=Ember.inject.service("profile-services@identity-store"),b=Ember.inject.service("lix"),h=Ember.inject.service("tracking"),v=Ember.inject.service("i18n"),y=Ember.inject.service("global-services@window"),f=Ember.inject.service("global-services@a11y-notification"),_=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),E=Ember.inject.service("msg-badge-manager@msg-badge-manager"),C=Ember.inject.service("global-services@realtime-events"),w=Ember.inject.service("store"),O=Ember.inject.service("global-services@local-storage"),M=Ember.inject.service("lego@resolver"),S=Ember.inject.service("lego@tracking"),k=Ember.inject.service("msg-ui@messaging-user-settings"),R=Ember.inject.service("msg-data@data-manager"),P=Ember.inject.service("router"),T=Ember.inject.service("rum"),D=Ember.computed.alias("msgOverlayService.listBubbleIsMinimized").readOnly(),A=Ember.computed("isMinimized","isInMinimizeTransition"),I=Ember.computed("showMessageRequestConversationList","isBulkActionsMode"),x=Ember.computed.not("showMessageRequestConversationList"),N=Ember.computed.not("showMessageRequestConversationList"),L=Ember.computed("currentConvosFilter","suggestedRecipients"),B=Ember.computed("showMessageRequestConversationList","showDeclinedMessageRequestConversationList").readOnly(),z=Ember.computed("showPendingMessageRequestConversationList","sortedPendingMessageRequestConversations.length","isLoading").readOnly(),F=Ember.computed("showDeclinedMessageRequestConversationList","sortedDeclinedMessageRequestConversations.length","isLoading").readOnly(),j=Ember.computed("msgOverlayService.{unseenMsgCount,forcedMinimizedAtRoute}").readOnly(),U=Ember.computed.or("shouldAlertUser","realtimeMsgNotAutoOpened").readOnly(),q=Ember.computed("hasBadge").readOnly(),V=Ember.computed.reads("conversations.length"),H=Ember.computed.not("hasConversations").readOnly(),G=Ember.computed.bool("currentConvosFilter").readOnly(),Y=Ember.computed.not("convosFilterIsEnabled").readOnly(),K=Ember.computed.and("hasNoConversations","convosFilterIsEnabled").readOnly(),W=Ember.computed.gte("numConnections",wt).readOnly(),J=Ember.computed.not("hasStrongNetwork").readOnly(),X=Ember.computed("hasNoConversations","pendingMessageRequestBundle","hasStrongNetwork","convosFilterIsDisabled").readOnly(),$=Ember.computed("hasNoConversations","pendingMessageRequestBundle","hasWeakNetwork","convosFilterIsDisabled").readOnly(),Q=Ember.computed("pendingMessageRequestBundle","showMessageRequestConversationList","currentConvosFilter").readOnly(),Z=Ember.computed("currentConvosFilter","isBulkActionsMode","kindnessReminderShown").readOnly(),ee=Ember.computed("pendingMessageRequestConversations.[]").readOnly(),te=Ember.computed("declinedMessageRequestConversations.[]").readOnly(),ne=Ember.computed("realtimeEvents.hasActiveConnection").readOnly(),se=Ember.computed("isMinimized"),ae=Ember.computed("msgBadgeManager.unreadConversationsCount","unreadBadgerEnabled"),oe=Ember.computed("lastSetOfConvosLoaded","isLoading","dataLoaded","loadMoreError"),re=Ember.computed("suggestedFilter","showUnreadBadgerOnboarding","currentConvosFilter"),ie=Ember.computed("conversations.@each.read"),le=Ember.computed("loadedUnreadConversations","currentConvosFilter","msgBadgeManager.badgeIncreased","searchTerm"),ce=Ember.computed("unreadFilterOnboardingWidgetTrackingToken","unreadFilterOnboardingClicked","unreadBadgerEnabled","loadedUnreadConversations","msgBadgeManager.unreadConversationsCount"),me=Ember._action,de=Ember._action,ue=Ember._action,pe=Ember._action,ge=Ember._action,be=Ember._action,he=Ember._action,ve=Ember._action,ye=Ember._action,fe=Ember._action,_e=Ember._action,Ee=Ember._action,Ce=Ember._action,we=Ember._action,Oe=Ember._action,Me=Ember._action,Se=Ember._action,ke=Ember._action,Re=Ember._action,Pe=Ember._action,Te=Ember._action,De=Ember._action,Ae=Ember._action,Ie=Ember._action,xe=Ember._action,Ne=Ember._action,Le=Ember._action,Be=Ember._action,ze=Ember._action,Fe=class extends m.default{constructor(){super(...arguments);(0,n.default)(this,"tagName","");(0,t.default)(this,"authenticatedUser",je,this);(0,t.default)(this,"badgeService",Ue,this);(0,t.default)(this,"identityStore",qe,this);(0,t.default)(this,"lix",Ve,this);(0,t.default)(this,"tracking",He,this);(0,t.default)(this,"i18n",Ge,this);(0,t.default)(this,"windowService",Ye,this);(0,t.default)(this,"a11yNotification",Ke,this);(0,t.default)(this,"msgOverlayService",We,this);(0,t.default)(this,"msgBadgeManager",Je,this);(0,t.default)(this,"realtimeEvents",Xe,this);(0,t.default)(this,"store",$e,this);(0,t.default)(this,"localStorage",Qe,this);(0,t.default)(this,"legoResolver",Ze,this);(0,t.default)(this,"legoTracking",et,this);(0,t.default)(this,"msgUserSettings",tt,this);(0,t.default)(this,"msgDataManager",nt,this);(0,t.default)(this,"router",st,this);(0,t.default)(this,"rum",at,this);(0,t.default)(this,"isMinimized",ot,this);(0,n.default)(this,"isInMinimizeTransition",!1);(0,t.default)(this,"showMessageRequestInboxInHeaderDropdown",rt,this);(0,t.default)(this,"showManageConversationsButtonInHeaderDropdown",it,this);(0,n.default)(this,"bubblePageKey","d_flagship3_messaging_overlay_connections.page");(0,n.default)(this,"bubbleMinimizeProperty","isMinimized");(0,n.default)(this,"eventTarget",".msg-overlay-list-bubble__content");(0,n.default)(this,"scrollingElementSelector",".msg-overlay-list-bubble__content");(0,n.default)(this,"triggerOnInsert",!1);(0,n.default)(this,"showDefaultConversationList",!0);(0,n.default)(this,"showMessageRequestConversationList",!1);(0,n.default)(this,"showDeclinedMessageRequestConversationList",!1);(0,n.default)(this,"kindnessReminderLegoConfig",St);(0,n.default)(this,"kindnessReminderHelpCenterLink","/legal/professional-community-policies");(0,n.default)(this,"unreadBadgerOnboardingLegoConfig",kt);(0,n.default)(this,"awayMessageOnboardingLegoConfig",Pt);(0,n.default)(this,"hasMorePendingMessageRequestsToLoad",!0);(0,n.default)(this,"hasMoreDeclinedMessageRequestsToLoad",!0);(0,n.default)(this,"loadMoreError",!1);(0,n.default)(this,"memberConnections",null);(0,t.default)(this,"hasBadge",lt,this);(0,t.default)(this,"hasConversations",ct,this);(0,t.default)(this,"hasNoConversations",mt,this);(0,t.default)(this,"convosFilterIsEnabled",dt,this);(0,t.default)(this,"convosFilterIsDisabled",ut,this);(0,t.default)(this,"hasNoFilteredConversations",pt,this);(0,t.default)(this,"hasStrongNetwork",gt,this);(0,t.default)(this,"hasWeakNetwork",bt,this);(0,n.default)(this,"isHeaderDropdownMenuOpen",!1);(0,n.default)(this,"isMessagingSettingsModalOpen",!1);(0,n.default)(this,"kindnessReminderShown",!1)}get shouldRenderContent(){return!this.isMinimized||this.isInMinimizeTransition}get showSearchInput(){return!this.showMessageRequestConversationList&&!this.isBulkActionsMode}get showContextualRecommendations(){return!this.currentConvosFilter&&this.suggestedRecipients}get toggleMinimizeTrackingControlName(){return this.isMinimized?"overlay.maximize_connection_list_bar":"overlay.minimize_connection_list_bar"}get showPendingMessageRequestConversationList(){return this.showMessageRequestConversationList&&!this.showDeclinedMessageRequestConversationList}get showNoPendingMessageRequestView(){return this.showPendingMessageRequestConversationList&&0===Ember.get(this,"sortedPendingMessageRequestConversations.length")&&!this.isLoading}get showNoDeclinedMessageRequestView(){return this.showDeclinedMessageRequestConversationList&&0===Ember.get(this,"sortedDeclinedMessageRequestConversations.length")&&!this.isLoading}get shouldAlertUser(){return Ember.get(this,"msgOverlayService.unseenMsgCount")&&!Ember.get(this,"msgOverlayService.forcedMinimizedAtRoute")}get lightHeaderBackground(){return this.isMercado&&!this.hasBadge}get showNoviceState(){return this.hasNoConversations&&!this.pendingMessageRequestBundle&&this.hasStrongNetwork&&this.convosFilterIsDisabled}get showAbiFlow(){return this.hasNoConversations&&!this.pendingMessageRequestBundle&&this.hasWeakNetwork&&this.convosFilterIsDisabled}get showMessageRequestBanner(){return this.pendingMessageRequestBundle&&!this.showMessageRequestConversationList&&!this.currentConvosFilter}get showKindnessReminder(){return!this.kindnessReminderShown&&!this.currentConvosFilter&&!this.isBulkActionsMode}get sortedPendingMessageRequestConversations(){const{pendingMessageRequestConversations:e}=this
return e?e.sortBy("latestEvent.createdAt").reverseObjects():[]}get sortedDeclinedMessageRequestConversations(){const{declinedMessageRequestConversations:e}=this
return e?e.sortBy("latestEvent.createdAt").reverseObjects():[]}get realtimeStatusClassName(){return Ember.get(this,"realtimeEvents.hasActiveConnection")?"msg-overlay-bubble-header__realtime-indicator--online":"msg-overlay-bubble-header__realtime-indicator--offline"}get headerDropdownMenuPlacement(){return this.isMinimized?"top":"bottom"}get suggestedFilter(){return this.msgBadgeManager.unreadConversationsCount&&this.unreadBadgerEnabled?"UNREAD":null}get shouldLoadMoreConversations(){return!this.lastSetOfConvosLoaded&&!this.isLoading&&this.dataLoaded&&!this.loadMoreError}get showSuggestedFilter(){return this.suggestedFilter&&!this.showUnreadBadgerOnboarding&&!this.currentConvosFilter}get loadedUnreadConversations(){var e,t
return null!==(e=null===(t=this.conversations)||void 0===t?void 0:t.filter(e=>!Ember.get(e,"read")))&&void 0!==e?e:[]}get showNewConversationsPill(){return!this.searchTerm&&this.unreadBadgerEnabled&&this.newConversationsPillEnabled&&"UNREAD"===this.currentConvosFilter&&this.msgBadgeManager.badgeIncreased}get showUnreadFilterOnboarding(){const e=this.unreadBadgerEnabled?this.msgBadgeManager.unreadConversationsCount:this.loadedUnreadConversations.length
return!this.unreadFilterOnboardingClicked&&this.unreadFilterOnboardingWidgetTrackingToken&&this.unreadFilterOnboardingEnabled&&e>0}init(){super.init(...arguments)
const e=this.localStorage.getItem(Ct)
Ember.setProperties(this,{enableRealtimeConnectionStatus:this.lix.getTreatmentIsEnabled("voyager.messaging.web.show-realtime-connection-status"),selectedConversations:[],badging:this.badgeService,unreadBadgerEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-badger"),unreadFilterOnboardingEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-filter-onboarding"),showUnreadBadgerOnboarding:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-badger-onboarding"),showAwayMessageOnboarding:this.authenticatedUser.isPremiumUser,isMercado:this.lix.getTreatmentIsEnabled("voyager.web.infraux-mercado-theme"),enableBulkActionsOnboarding:this.lix.getTreatmentIsEnabled("voyager.web.messaging-bulk-actions-onboarding"),newConversationsPillEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-new-conversations-pill"),useNewCoachmark:this.lix.getTreatmentIsEnabled("voyager.web.discover-messaging-enable-coachmark")})
!this.currentConvosFilter&&e&&Ember.set(this,"currentConvosFilter",e)
new r.default(this.legoResolver,this.legoTracking,this.msgUserSettings,this.store,this.tracking,this.lix).run()
this.enableBulkActionsOnboarding&&this._fetchBulkActionsOnboardingWidget()
this.unreadFilterOnboardingEnabled&&this._fetchUnreadFilterOnboardingWidget()
const t=this.rum.startPerfMeasurement("messaging-list-bubble-initial-render")
Ember.run.schedule("afterRender",()=>{t&&!t.isClosed&&this.rum.endPerfMeasurement(t)})}infiniteScroll(){return this.loadMore()}_loadMessageRequestConversations(e){const{loadMessageRequestConversationList:t}=this
if("function"!=typeof t)return Ember.RSVP.resolve()
const n=e===_t?"hasMorePendingMessageRequestsToLoad":"hasMoreDeclinedMessageRequestsToLoad"
Ember.setProperties(this,{isLoading:!0,[n]:!0})
return t(e).then(e=>{if(this.isDestroying)return Ember.RSVP.resolve()
Ember.set(this,n,20===Ember.get(e,"length"))
return e}).catch(e=>{this.isDestroying||Ember.set(this,"loadMoreError",!0)
throw e}).finally(()=>{this.isDestroying||Ember.set(this,"isLoading",!1)})}_updateMinimizedState(e){(0,d.runTask)(this,()=>this.msgOverlayService.updateListBubbleMinimizeState(e))}_newConversation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
e&&e.stopPropagation()
this.newConversation&&this.newConversation(t)}_fetchBulkActionsOnboardingWidget(){return this.legoResolver.fireLegoCall(Rt).then(e=>{if(!this.isDestroying&&e){Ember.set(this,"bulkActionsOnboardingWidgetTrackingToken",Ember.get(e,"trackingToken"))
return e}})}_dismissBulkActionsOnboardingWidget(){this.legoTracking.sendLegoAction(this.bulkActionsOnboardingWidgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)
Ember.set(this,"bulkActionsOnboardingWidgetTrackingToken",null)}_sendBulkActionsOnboardingImpression(){this.bulkActionsOnboardingWidgetTrackingToken&&this.legoTracking.sendLegoImpression(this.bulkActionsOnboardingWidgetTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}_fetchUnreadFilterOnboardingWidget(){return this.legoResolver.fireLegoCall(Tt).then(e=>{if(!this.isDestroying&&e){Ember.set(this,"unreadFilterOnboardingWidgetTrackingToken",Ember.get(e,"trackingToken"))
return e}})}_sendUnreadFilterOnboardingImpression(){this.legoTracking.sendLegoImpression(this.unreadFilterOnboardingWidgetTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}willDestroy(){super.willDestroy(...arguments);(0,d.runDisposables)(this)}loadMore(){Ember.setProperties(this,{isLoading:!0,loadMoreError:!1})
const{showDeclinedMessageRequestConversationList:e,showPendingMessageRequestConversationList:t}=this
if(e&&!this.hasMoreDeclinedMessageRequestsToLoad||t&&!this.hasMorePendingMessageRequestsToLoad){Ember.set(this,"isLoading",!1)
return Ember.RSVP.resolve()}let n=yt.ALL
e?n=Et:t&&(n=_t)
return this.loadMoreConversations(n).then(n=>{const s=n.length
if(!this.isDestroying){Ember.set(this,"lastSetOfConvosLoaded",s<20)
const n=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_infinite_scroll_conversations")
this.a11yNotification.setTextInLiveRegion(n([{newRecordCount:s}]))
e?Ember.set(this,"hasMoreDeclinedMessageRequestsToLoad",20===s):t&&Ember.set(this,"hasMorePendingMessageRequestsToLoad",20===s)}const a=this.rum.startPerfMeasurement("messaging-list-bubble-render-load-more")
Ember.run.schedule("afterRender",()=>{a&&!a.isClosed&&this.rum.endPerfMeasurement(a)})
return s}).catch(e=>{this.isDestroying||Ember.set(this,"loadMoreError",!0)
throw e}).finally(()=>{this.isDestroying||Ember.set(this,"isLoading",!1)})}createNewConvoPVE(e){this._newConversation(e)}openNewGroupConvoBubble(e){this._newConversation(e,{showGroupEditScreen:!0,isJumbo:!0})}goToMessagingPillar(){this.router.transitionTo("messaging")}retryLoadMore(){this.resetInfiniteScroll()
this.loadMore()}stopEvtPropagation(e){e&&e.stopPropagation()}toggleMinimize(e){var t
null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e)
Ember.set(this,"isInMinimizeTransition",!0)
if(this.isMinimized){if(!this.unreadBadgerEnabled){this.badging.getBadgeCount("messaging")>0&&this.badging.fireBadgeInteractionEvent(this.element,"msg-overlay-list-bubble-header","messaging")
this.msgOverlayService.markAllAsSeen()}const e=this.rum.startPerfMeasurement("messaging-list-bubble-manual-open")
Ember.run.schedule("afterRender",()=>{e&&!e.isClosed&&this.rum.endPerfMeasurement(e)})}this.msgOverlayService.toggleListBubbleMinimized()
this.isMinimized||this.tracking.firePageViewEvent(this.bubblePageKey)}openMessageRequestConversationList(){Ember.setProperties(this,{showMessageRequestConversationList:!0,isHeaderDropdownMenuOpen:!1})
this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_pending_request_inbox")
this._loadMessageRequestConversations(_t).then(e=>{this.isDestroying||Ember.set(this,"pendingMessageRequestConversations",e)})}backToInboxFromMessageRequestList(){Ember.set(this,"showMessageRequestConversationList",!1)
this.tracking.fireInteractionEvent("overlay.back_to_inbox_from_requests")
this.msgDataManager.refreshConversationBundles()}openDeclinedMessageRequestConversationList(){Ember.setProperties(this,{showDeclinedMessageRequestConversationList:!0,isHeaderDropdownMenuOpen:!1})
this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_declined_request_inbox")
this._loadMessageRequestConversations(Et).then(e=>{this.isDestroying||Ember.set(this,"declinedMessageRequestConversations",e)})}openAwayMessageSettingsModal(e){null==e||e.stopPropagation()
Ember.set(this,"awayMessageSettingsModalIsOpen",!0)}openMessagingSettingsModal(e){e&&e.stopPropagation()
Ember.set(this,"isMessagingSettingsModalOpen",!0)}onListBubbleItemClick(e){e.toggleProperty("checked")
const t=this.conversations.filter(e=>Ember.get(e,"checked"))
Ember.set(this,"selectedConversations",t)
if(!this.isBulkActionsMode&&t.length>0){Ember.set(this,"isBulkActionsMode",!0)
this.enableBulkActionsOnboarding&&this._dismissBulkActionsOnboardingWidget()}else 0===t.length&&Ember.set(this,"isBulkActionsMode",!1)
const n=Ember.get(e,"checked")?"overlay.bulk_select_conversation":"overlay.bulk_unselect_conversation"
this.tracking.fireInteractionEvent(n)}enterBulkActionsMode(e){e&&e.stopPropagation()
this.isMinimized&&this.toggleMinimize()
Ember.setProperties(this,{isBulkActionsMode:!0,isHeaderDropdownMenuOpen:!1})
this.enableBulkActionsOnboarding&&this._dismissBulkActionsOnboardingWidget()}onExitBulkActionsMode(){Ember.setProperties(this,{selectedConversations:[],isBulkActionsMode:!1})}willExecuteBulkAction(){Ember.set(this,"isBulkActionsMode",!1)}didExecuteBulkAction(e){"delete"===e&&this.selectedConversations.forEach(e=>{Ember.get(this,"msgOverlayService.conversationBubbleLayoutManager").closeBubbleByConversation(e)})}onUnreadBadgerOnboardingPrimaryAction(){Ember.set(this,"showUnreadBadgerOnboarding",!1)
this.applyFilter("UNREAD")}applyFilter(e){this.unreadFilterOnboardingEnabled&&"UNREAD"===e&&Ember.set(this,"unreadFilterOnboardingClicked",!0)
e?this.localStorage.setItem(Ct,e):this.localStorage.removeItem(Ct)
Ember.set(this,"currentConvosFilter",e)
this.tracking.fireInteractionEvent(Ot.SELECT[e||"ALL"],"SHORT_PRESS")
this.openConvoFiltersDropdown(e).then(()=>{this.tracking.firePageViewEvent(Mt.OVERLAY_CONVERSATION_FILTERED_LIST[e||"ALL"])
if("UNREAD"===e){var t,n
this.tracking.fireTrackingPayload("MessagingUnreadConversationsBadgeEvent",{messagingBadgeCount:null!==(t=this.msgBadgeManager.unreadConversationsCount)&&void 0!==t?t:0,unreadConversationsCount:null!==(n=this.msgBadgeManager.unreadConversationsCount)&&void 0!==n?n:0,unreadConversationThreadUrns:this.loadedUnreadConversations.map(e=>Ember.get(e,"backendUrn"))})}})}clearFilters(){this.localStorage.removeItem(Ct)
this.tracking.fireInteractionEvent(Ot.DISMISS[this.currentConvosFilter],"SHORT_PRESS")
Ember.set(this,"currentConvosFilter","")
this.openConvoFiltersDropdown("")}onToggleConvoFilters(e){e&&this.unreadFilterOnboardingEnabled&&this.unreadFilterOnboardingWidgetTrackingToken&&this._sendUnreadFilterOnboardingImpression()}impressionKindnessReminder(){this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_kindness_banner")}clickKindnessReminder(){this.tracking.fireInteractionEvent("overlay.open_kindness_banner")
if(i.default){const e=this.kindnessReminderHelpCenterLink
if(!e)return
this.windowService.open(e,"_blank")}}onDropdownToggle(e){null==e||e.stopPropagation()
this.enableBulkActionsOnboarding&&!this.isHeaderDropdownMenuOpen&&this._sendBulkActionsOnboardingImpression()}onSearchTermChange(e){Ember.set(this,"searchTerm",e)}createListBubbleItemImpressionEvent(e){return this.isDestroying||this.isDestroyed?{}:{name:vt,body:{moduleKey:ft,conversations:[{objectUrn:Ember.get(e,"backendUrn"),trackingId:(0,l.generateTrackingId)()}],participantPresenceStatuses:(0,c.getParticipantPresenceStatuses)(e)}}}onNewConversationsPillClick(){Ember.set(this,"msgBadgeManager.badgeIncreased",!1)
this.refetchOverlayData()}onKindnessReminderWidgetDismiss(){Ember.set(this,"kindnessReminderShown",!0)
this.tracking.fireInteractionEvent("overlay.dismiss_kindness_banner")}messageRequestListHeaderOnGoBack(){Ember.set(this,"showDeclinedMessageRequestConversationList",!1)
this.tracking.fireInteractionEvent("overlay.back_to_message_requests_from_declined_messages")}},je=(0,s.default)(Fe.prototype,"authenticatedUser",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=(0,s.default)(Fe.prototype,"badgeService",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=(0,s.default)(Fe.prototype,"identityStore",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=(0,s.default)(Fe.prototype,"lix",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=(0,s.default)(Fe.prototype,"tracking",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=(0,s.default)(Fe.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=(0,s.default)(Fe.prototype,"windowService",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=(0,s.default)(Fe.prototype,"a11yNotification",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=(0,s.default)(Fe.prototype,"msgOverlayService",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=(0,s.default)(Fe.prototype,"msgBadgeManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=(0,s.default)(Fe.prototype,"realtimeEvents",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=(0,s.default)(Fe.prototype,"store",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=(0,s.default)(Fe.prototype,"localStorage",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=(0,s.default)(Fe.prototype,"legoResolver",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=(0,s.default)(Fe.prototype,"legoTracking",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=(0,s.default)(Fe.prototype,"msgUserSettings",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=(0,s.default)(Fe.prototype,"msgDataManager",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=(0,s.default)(Fe.prototype,"router",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=(0,s.default)(Fe.prototype,"rum",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=(0,s.default)(Fe.prototype,"isMinimized",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(Fe.prototype,"shouldRenderContent",[A],Object.getOwnPropertyDescriptor(Fe.prototype,"shouldRenderContent"),Fe.prototype),(0,s.default)(Fe.prototype,"showSearchInput",[I],Object.getOwnPropertyDescriptor(Fe.prototype,"showSearchInput"),Fe.prototype),rt=(0,s.default)(Fe.prototype,"showMessageRequestInboxInHeaderDropdown",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=(0,s.default)(Fe.prototype,"showManageConversationsButtonInHeaderDropdown",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(Fe.prototype,"showContextualRecommendations",[L],Object.getOwnPropertyDescriptor(Fe.prototype,"showContextualRecommendations"),Fe.prototype),(0,s.default)(Fe.prototype,"showPendingMessageRequestConversationList",[B],Object.getOwnPropertyDescriptor(Fe.prototype,"showPendingMessageRequestConversationList"),Fe.prototype),(0,s.default)(Fe.prototype,"showNoPendingMessageRequestView",[z],Object.getOwnPropertyDescriptor(Fe.prototype,"showNoPendingMessageRequestView"),Fe.prototype),(0,s.default)(Fe.prototype,"showNoDeclinedMessageRequestView",[F],Object.getOwnPropertyDescriptor(Fe.prototype,"showNoDeclinedMessageRequestView"),Fe.prototype),(0,s.default)(Fe.prototype,"shouldAlertUser",[j],Object.getOwnPropertyDescriptor(Fe.prototype,"shouldAlertUser"),Fe.prototype),lt=(0,s.default)(Fe.prototype,"hasBadge",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(Fe.prototype,"lightHeaderBackground",[q],Object.getOwnPropertyDescriptor(Fe.prototype,"lightHeaderBackground"),Fe.prototype),ct=(0,s.default)(Fe.prototype,"hasConversations",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=(0,s.default)(Fe.prototype,"hasNoConversations",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=(0,s.default)(Fe.prototype,"convosFilterIsEnabled",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=(0,s.default)(Fe.prototype,"convosFilterIsDisabled",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=(0,s.default)(Fe.prototype,"hasNoFilteredConversations",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=(0,s.default)(Fe.prototype,"hasStrongNetwork",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=(0,s.default)(Fe.prototype,"hasWeakNetwork",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(Fe.prototype,"showNoviceState",[X],Object.getOwnPropertyDescriptor(Fe.prototype,"showNoviceState"),Fe.prototype),(0,s.default)(Fe.prototype,"showAbiFlow",[$],Object.getOwnPropertyDescriptor(Fe.prototype,"showAbiFlow"),Fe.prototype),(0,s.default)(Fe.prototype,"showMessageRequestBanner",[Q],Object.getOwnPropertyDescriptor(Fe.prototype,"showMessageRequestBanner"),Fe.prototype),(0,s.default)(Fe.prototype,"showKindnessReminder",[Z],Object.getOwnPropertyDescriptor(Fe.prototype,"showKindnessReminder"),Fe.prototype),(0,s.default)(Fe.prototype,"sortedPendingMessageRequestConversations",[ee],Object.getOwnPropertyDescriptor(Fe.prototype,"sortedPendingMessageRequestConversations"),Fe.prototype),(0,s.default)(Fe.prototype,"sortedDeclinedMessageRequestConversations",[te],Object.getOwnPropertyDescriptor(Fe.prototype,"sortedDeclinedMessageRequestConversations"),Fe.prototype),(0,s.default)(Fe.prototype,"realtimeStatusClassName",[ne],Object.getOwnPropertyDescriptor(Fe.prototype,"realtimeStatusClassName"),Fe.prototype),(0,s.default)(Fe.prototype,"headerDropdownMenuPlacement",[se],Object.getOwnPropertyDescriptor(Fe.prototype,"headerDropdownMenuPlacement"),Fe.prototype),(0,s.default)(Fe.prototype,"suggestedFilter",[ae],Object.getOwnPropertyDescriptor(Fe.prototype,"suggestedFilter"),Fe.prototype),(0,s.default)(Fe.prototype,"shouldLoadMoreConversations",[oe],Object.getOwnPropertyDescriptor(Fe.prototype,"shouldLoadMoreConversations"),Fe.prototype),(0,s.default)(Fe.prototype,"showSuggestedFilter",[re],Object.getOwnPropertyDescriptor(Fe.prototype,"showSuggestedFilter"),Fe.prototype),(0,s.default)(Fe.prototype,"loadedUnreadConversations",[ie],Object.getOwnPropertyDescriptor(Fe.prototype,"loadedUnreadConversations"),Fe.prototype),(0,s.default)(Fe.prototype,"showNewConversationsPill",[le],Object.getOwnPropertyDescriptor(Fe.prototype,"showNewConversationsPill"),Fe.prototype),(0,s.default)(Fe.prototype,"showUnreadFilterOnboarding",[ce],Object.getOwnPropertyDescriptor(Fe.prototype,"showUnreadFilterOnboarding"),Fe.prototype),(0,s.default)(Fe.prototype,"loadMore",[me],Object.getOwnPropertyDescriptor(Fe.prototype,"loadMore"),Fe.prototype),(0,s.default)(Fe.prototype,"createNewConvoPVE",[de],Object.getOwnPropertyDescriptor(Fe.prototype,"createNewConvoPVE"),Fe.prototype),(0,s.default)(Fe.prototype,"openNewGroupConvoBubble",[ue],Object.getOwnPropertyDescriptor(Fe.prototype,"openNewGroupConvoBubble"),Fe.prototype),(0,s.default)(Fe.prototype,"goToMessagingPillar",[pe],Object.getOwnPropertyDescriptor(Fe.prototype,"goToMessagingPillar"),Fe.prototype),(0,s.default)(Fe.prototype,"retryLoadMore",[ge],Object.getOwnPropertyDescriptor(Fe.prototype,"retryLoadMore"),Fe.prototype),(0,s.default)(Fe.prototype,"stopEvtPropagation",[be],Object.getOwnPropertyDescriptor(Fe.prototype,"stopEvtPropagation"),Fe.prototype),(0,s.default)(Fe.prototype,"toggleMinimize",[he],Object.getOwnPropertyDescriptor(Fe.prototype,"toggleMinimize"),Fe.prototype),(0,s.default)(Fe.prototype,"openMessageRequestConversationList",[ve],Object.getOwnPropertyDescriptor(Fe.prototype,"openMessageRequestConversationList"),Fe.prototype),(0,s.default)(Fe.prototype,"backToInboxFromMessageRequestList",[ye],Object.getOwnPropertyDescriptor(Fe.prototype,"backToInboxFromMessageRequestList"),Fe.prototype),(0,s.default)(Fe.prototype,"openDeclinedMessageRequestConversationList",[fe],Object.getOwnPropertyDescriptor(Fe.prototype,"openDeclinedMessageRequestConversationList"),Fe.prototype),(0,s.default)(Fe.prototype,"openAwayMessageSettingsModal",[_e],Object.getOwnPropertyDescriptor(Fe.prototype,"openAwayMessageSettingsModal"),Fe.prototype),(0,s.default)(Fe.prototype,"openMessagingSettingsModal",[Ee],Object.getOwnPropertyDescriptor(Fe.prototype,"openMessagingSettingsModal"),Fe.prototype),(0,s.default)(Fe.prototype,"onListBubbleItemClick",[Ce],Object.getOwnPropertyDescriptor(Fe.prototype,"onListBubbleItemClick"),Fe.prototype),(0,s.default)(Fe.prototype,"enterBulkActionsMode",[we],Object.getOwnPropertyDescriptor(Fe.prototype,"enterBulkActionsMode"),Fe.prototype),(0,s.default)(Fe.prototype,"onExitBulkActionsMode",[Oe],Object.getOwnPropertyDescriptor(Fe.prototype,"onExitBulkActionsMode"),Fe.prototype),(0,s.default)(Fe.prototype,"willExecuteBulkAction",[Me],Object.getOwnPropertyDescriptor(Fe.prototype,"willExecuteBulkAction"),Fe.prototype),(0,s.default)(Fe.prototype,"didExecuteBulkAction",[Se],Object.getOwnPropertyDescriptor(Fe.prototype,"didExecuteBulkAction"),Fe.prototype),(0,s.default)(Fe.prototype,"onUnreadBadgerOnboardingPrimaryAction",[ke],Object.getOwnPropertyDescriptor(Fe.prototype,"onUnreadBadgerOnboardingPrimaryAction"),Fe.prototype),(0,s.default)(Fe.prototype,"applyFilter",[Re],Object.getOwnPropertyDescriptor(Fe.prototype,"applyFilter"),Fe.prototype),(0,s.default)(Fe.prototype,"clearFilters",[Pe],Object.getOwnPropertyDescriptor(Fe.prototype,"clearFilters"),Fe.prototype),(0,s.default)(Fe.prototype,"onToggleConvoFilters",[Te],Object.getOwnPropertyDescriptor(Fe.prototype,"onToggleConvoFilters"),Fe.prototype),(0,s.default)(Fe.prototype,"impressionKindnessReminder",[De],Object.getOwnPropertyDescriptor(Fe.prototype,"impressionKindnessReminder"),Fe.prototype),(0,s.default)(Fe.prototype,"clickKindnessReminder",[Ae],Object.getOwnPropertyDescriptor(Fe.prototype,"clickKindnessReminder"),Fe.prototype),(0,s.default)(Fe.prototype,"onDropdownToggle",[Ie],Object.getOwnPropertyDescriptor(Fe.prototype,"onDropdownToggle"),Fe.prototype),(0,s.default)(Fe.prototype,"onSearchTermChange",[xe],Object.getOwnPropertyDescriptor(Fe.prototype,"onSearchTermChange"),Fe.prototype),(0,s.default)(Fe.prototype,"createListBubbleItemImpressionEvent",[Ne],Object.getOwnPropertyDescriptor(Fe.prototype,"createListBubbleItemImpressionEvent"),Fe.prototype),(0,s.default)(Fe.prototype,"onNewConversationsPillClick",[Le],Object.getOwnPropertyDescriptor(Fe.prototype,"onNewConversationsPillClick"),Fe.prototype),(0,s.default)(Fe.prototype,"onKindnessReminderWidgetDismiss",[Be],Object.getOwnPropertyDescriptor(Fe.prototype,"onKindnessReminderWidgetDismiss"),Fe.prototype),(0,s.default)(Fe.prototype,"messageRequestListHeaderOnGoBack",[ze],Object.getOwnPropertyDescriptor(Fe.prototype,"messageRequestListHeaderOnGoBack"),Fe.prototype),Fe)
e.default=Dt
Ember._setComponentTemplate(ht,Dt)})
define.alias("ember-media-player/components/media-player","msg-overlay/components/media-player")
define.alias("ember-media-player/components/media-player/big-play-button","msg-overlay/components/media-player/big-play-button")
define.alias("ember-media-player/components/media-player/caption","msg-overlay/components/media-player/caption")
define.alias("ember-media-player/components/media-player/control/back-to-start","msg-overlay/components/media-player/control/back-to-start")
define.alias("ember-media-player/components/media-player/control/captions-menu","msg-overlay/components/media-player/control/captions-menu")
define.alias("ember-media-player/components/media-player/control/custom","msg-overlay/components/media-player/control/custom")
define.alias("ember-media-player/components/media-player/control/fullscreen","msg-overlay/components/media-player/control/fullscreen")
define.alias("ember-media-player/components/media-player/control/next","msg-overlay/components/media-player/control/next")
define.alias("ember-media-player/components/media-player/control/playback-rate","msg-overlay/components/media-player/control/playback-rate")
define.alias("ember-media-player/components/media-player/control/previous","msg-overlay/components/media-player/control/previous")
define.alias("ember-media-player/components/media-player/control/settings","msg-overlay/components/media-player/control/settings")
define.alias("ember-media-player/components/media-player/control/settings/auto-advance","msg-overlay/components/media-player/control/settings/auto-advance")
define.alias("ember-media-player/components/media-player/control/settings/autoplay","msg-overlay/components/media-player/control/settings/autoplay")
define.alias("ember-media-player/components/media-player/control/settings/quality","msg-overlay/components/media-player/control/settings/quality")
define.alias("ember-media-player/components/media-player/control/skipahead","msg-overlay/components/media-player/control/skipahead")
define.alias("ember-media-player/components/media-player/control/skipback","msg-overlay/components/media-player/control/skipback")
define.alias("ember-media-player/components/media-player/control/theater-mode","msg-overlay/components/media-player/control/theater-mode")
define.alias("ember-media-player/components/media-player/end-screen","msg-overlay/components/media-player/end-screen")
define.alias("ember-media-player/components/media-player/error-screen","msg-overlay/components/media-player/error-screen")
define("msg-overlay/components/messaging-overlay-container",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","extended/config/environment","global-utils/utils/is-browser","msg-shared/utils/document-is-hidden","msg-ui/utils/notification-sounds","msg-shared/utils/constants","msg-data/utils/messaging-settings","ember-cli-pemberly-tracking/utils/user-timing","msg-shared/helpers/is-sponsored-conversation","ember-lifeline","msg-shared/helpers/is-inmail-conversation"],function(e,t,n,s,a,o,r,i,l,c,m,d,u,p,g,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,v,y,f,_,E,C,w,O,M,S,k,R,P,T,D,A,I,x,N,L,B,z,F,j,U,q,V,H,G,Y,K,W,J,X,$,Q,Z,ee,te,ne,se,ae,oe,re,ie,le,ce,me,de,ue,pe,ge,be,he,ve,ye,fe,_e,Ee,Ce,we,Oe,Me,Se,ke,Re,Pe,Te,De,Ae
const Ie=Ember.HTMLBars.template({id:"+LRC5fdF",block:'{"symbols":["bubble"],"statements":[[6,[37,1],[[32,0,["focusedMessagingMode"]]],null,[["default"],[{"statements":[[2,"  "],[10,"span"],[14,0,"msg-overlay-container__dimmed-background"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[10,"aside"],[14,1,"msg-overlay"],[15,0,[31,["msg-overlay-container",[30,[36,1],[[32,0,["isReflowEnabled"]]," msg-overlay-container-reflow"],null]]]],[12],[2,"\\n  "],[8,"msg-overlay@list-bubble",[],[["@currentConvosFilter","@conversations","@dataLoaded","@isAbiComplete","@memberConnections","@pendingMessageRequestBundle","@numConnections","@realtimeMsgNotAutoOpened","@showFailedState","@suggestedRecipients","@messagingSettings","@loadMessageRequestConversationList","@loadMoreConversations","@newConversation","@openBubble","@openConvoFiltersDropdown","@refetchOverlayData"],[[32,0,["currentConvosFilter"]],[32,0,["sortedConversations"]],[32,0,["dataLoaded"]],[32,0,["isAbiComplete"]],[32,0,["memberConnections"]],[32,0,["pendingMessageRequestBundle"]],[32,0,["numConnections"]],[32,0,["realtimeMsgNotAutoOpened"]],[32,0,["showFailedState"]],[32,0,["suggestedRecipients"]],[32,0,["messagingSettings"]],[32,0,["loadMessageRequestConversationList"]],[32,0,["loadMoreConversations"]],[32,0,["newConversation"]],[32,0,["openConversation"]],[32,0,["openConvoFiltersDropdown"]],[32,0,["refetchOverlayData"]]]],null],[2,"\\n\\n"],[6,[37,1],[[32,0,["showAudioBubble"]]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-overlay@audio-bubble",[],[["@closeAudioBubble"],[[32,0,["closeAudioBubble"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["conversationBubbleLayoutManager","openBubbles"]]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-overlay@conversation-bubble",[],[["@bubble","@placeholderText","@msgAdapterOptions","@messagingSettings","@forwardedEvent","@newConversation","@closeBubble","@handleSuccessfulDiscardRequest"],[[32,1],[32,1,["placeholderText"]],[32,1,["msgAdapterOptions"]],[32,0,["messagingSettings"]],[32,1,["forwardedEvent"]],[32,0,["newConversation"]],[30,[36,0],[[32,0,["closeBubble"]],[32,1]],null],[32,0,["handleSuccessfulDiscardRequest"]]]],null],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"],[2,"  "],[10,"div"],[14,1,"msg-overlay__emoji-hoverable-outlet"],[12],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["fn","if","-track-array","each"]}',meta:{moduleName:"msg-overlay/components/messaging-overlay-container.hbs"}}),{CONTROL_NAMES:{OVERLAY:xe},MESSAGE_COLLECTION_TYPE_NAMES:Ne,MESSAGE_TYPE:Le,OVERLAY_LS_CONVERSATIONS_FILTER_KEY:Be,OVERLAY:{QUALITY_MEMBER_CONNECTIONS_THRESHOLD:ze},PAGEVIEW_KEYS:Fe,MESSAGE_REQUEST_TARGET_URLS:je}=m.default,Ue=/^messaging/,qe=/^profile/,Ve=/^(feed.update.index|jobs.view.index|companies.company.index|profile.view.index.index)/
let He=(h=(0,o.tagName)(""),v=Ember.inject.service("asset-loader"),y=Ember.inject.service("i18n"),f=Ember.inject.service("global-services@badge"),_=Ember.inject.service("authentication@authenticated-user"),E=Ember.inject.service("store"),C=Ember.inject.service("profile-services@identity-store"),w=Ember.inject.service("lix"),O=Ember.inject.service("router"),M=Ember.inject.service("tracking"),S=Ember.inject.service("lego@tracking"),k=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),R=Ember.inject.service("msg-badge-manager@msg-badge-manager"),P=Ember.inject.service("heathrow@heathrow"),T=Ember.inject.service("global-services@local-storage"),D=Ember.inject.service("html-document-title@document-title-poller"),A=Ember.inject.service("msg-shared@first-message"),I=Ember.inject.service("msg-data@data-manager"),x=Ember.inject.service("msg-shared@component-context"),N=Ember.inject.service("client-sensor-web@client-sensor"),L=Ember.inject.service("rum"),B=Ember.computed("currentConvosFilter","_filteredConversationCollection.data.[]","msgDataManager.allConversationsCollection.data.[]","msgDataManager.allConversationsCollection.data.@each.lastActivityAt").readOnly(),z=Ember.computed.notEmpty("sortedConversations"),F=Ember.computed.alias("messagingSettings.messagingOverlayPopups"),j=Ember.computed.alias("messagingSettings.messagingOverlaySounds"),U=Ember.computed.alias("msgOverlay.suggestedRecipients"),q=Ember.computed.alias("msgOverlay.showAudioBubble"),V=Ember.computed.match("router.currentRouteName",Ue).readOnly(),H=Ember.computed.match("router.currentRouteName",qe).readOnly(),G=Ember.computed.match("router.currentRouteName",Ve).readOnly(),Y=Ember._action,K=Ember._action,W=Ember._action,J=Ember._action,X=Ember._action,$=Ember._action,Q=Ember._action,Z=Ember._action,ee=Ember._action,te=Ember._action,ne=Ember._action,h(se=(ae=class extends Ember.Component{constructor(){super(...arguments);(0,n.default)(this,"rumComponentId","msg-overlay");(0,t.default)(this,"assetLoader",oe,this);(0,t.default)(this,"i18n",re,this);(0,t.default)(this,"badgeService",ie,this);(0,t.default)(this,"authenticatedUser",le,this);(0,t.default)(this,"store",ce,this);(0,t.default)(this,"identityStore",me,this);(0,t.default)(this,"lix",de,this);(0,t.default)(this,"router",ue,this);(0,t.default)(this,"tracking",pe,this);(0,t.default)(this,"legoTracking",ge,this);(0,t.default)(this,"msgOverlay",be,this);(0,t.default)(this,"msgBadgeManager",he,this);(0,t.default)(this,"heathrow",ve,this);(0,t.default)(this,"localStorage",ye,this);(0,t.default)(this,"documentTitle",fe,this);(0,t.default)(this,"firstMessage",_e,this);(0,t.default)(this,"msgDataManager",Ee,this);(0,t.default)(this,"msgComponentContextService",Ce,this);(0,t.default)(this,"clientSensor",we,this);(0,t.default)(this,"rum",Oe,this);(0,t.default)(this,"hasMoreConversations",Me,this);(0,n.default)(this,"isUserReporting",!1);(0,n.default)(this,"conversationDataFetched",!1);(0,t.default)(this,"popupsAreEnabled",Se,this);(0,t.default)(this,"soundsEnabled",ke,this);(0,t.default)(this,"suggestedRecipients",Re,this);(0,t.default)(this,"showAudioBubble",Pe,this);(0,t.default)(this,"isMessagingRoute",Te,this);(0,t.default)(this,"isProfileRoute",De,this);(0,t.default)(this,"isContextualRoute",Ae,this)}get sortedConversations(){var e,t
return this.currentConvosFilter?null!==(e=Ember.get(this,"_filteredConversationCollection.data"))&&void 0!==e?e:[]:(null!==(t=Ember.get(this,"msgDataManager.allConversationsCollection.data"))&&void 0!==t?t:[]).filter(e=>!Ember.get(e,"archived")&&!Ember.get(e,"blocked"))}init(){super.init(...arguments)
this.msgComponentContextService.setTo("overlay")
if(u.default.hasMarkerName("mark_msg-overlay_boot_start")){u.default.addMarker("mark_msg-overlay_boot_end")
u.default.measureTime("mark_msg-overlay_boot_phase","mark_msg-overlay_boot_start","mark_msg-overlay_boot_end")
u.default.addMarker("mark_msg-overlay_init_start")}const e=Ember.get(this,"router.currentRoute.queryParams")
Ember.setProperties(this,{conversationBubbleLayoutManager:Ember.get(this,"msgOverlay.conversationBubbleLayoutManager"),badging:this.badgeService,unreadBadgerEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-enable-unread-badger"),isReflowEnabled:this.lix.getTreatmentIsEnabled("voyager.web.infraux-is-reflow-enabled")})
const t=e&&"true"===e.msgOverlay
let n
const s=t?"mark_msg-overlay_transition_deeplink":"mark_msg-overlay_transition"
u.default.addMarker(`${s}_start`);(n=t?this._handleDeeplink(e):this._fetchOverlayData()).then(()=>{if(u.default.hasMarkerName(`${s}_start`)){u.default.addMarker(`${s}_end`)
u.default.measureTime(`${s}_phase`,`${s}_start`,`${s}_end`)}})
this._showFirstMessage()
this.unreadBadgerEnabled?this.msgBadgeManager.setUnreadConversationsCountFromBadge():this.msgOverlay.setUnseenConvoCountFromBadge()
this._fetchMessagingSettings().then(e=>{if(!this.isDestroying){Ember.set(this,"messagingSettings",e)
t||this._restoreCachedState(e)}})
if(u.default.hasMarkerName("mark_msg-overlay_init_start")){u.default.addMarker("mark_msg-overlay_init_end")
u.default.measureTime("mark_msg-overlay_init_phase","mark_msg-overlay_init_start","mark_msg-overlay_init_end")
u.default.addMarker("mark_msg-overlay_render_start")}}didInsertElement(){super.didInsertElement(...arguments)
this._attachListeners()
this.msgDataManager.subscribe(this)
this.on("realtimeMessageReceived",this._realtimeConversationCreated)
this._downloadDeferredAssets()
this.on("realtimeConversationDelete",e=>{this.msgOverlay.conversationBubbleLayoutManager.closeBubbleByConversation(e)})
this.on("conversationBundleUpdate",()=>{Ember.set(this,"pendingMessageRequestBundle",this.msgDataManager.getConversationBundleByTargetUrl(je.URL_PENDING))})
this.msgOverlay.setOverlayHasLoaded()}didRender(){if(!this._trackedOverlayRUMPhases){if(u.default.hasMarkerName("mark_msg-overlay_overall_start")){u.default.addMarker("mark_msg-overlay_overall_end")
u.default.measureTime("mark_msg-overlay_overall_phase","mark_msg-overlay_overall_start","mark_msg-overlay_overall_end")}if(u.default.hasMarkerName("mark_msg-overlay_render_start")){u.default.addMarker("mark_msg-overlay_render_end")
u.default.measureTime("mark_msg-overlay_render_phase","mark_msg-overlay_render_start","mark_msg-overlay_render_end")}this._trackedOverlayRUMPhases=!0}}willDestroyElement(){super.willDestroyElement(...arguments)
this.msgOverlay.off("newConversation",this,"_newConversation");(0,g.runDisposables)(this)}_downloadDeferredAssets(){this.assetLoader.loadBundle("msg-rich-media")
this.assetLoader.loadBundle("msg-conversation-ui")
this.assetLoader.loadBundle("msg-shared-modals")
this.assetLoader.loadBundle("msg-spinmail")
this.assetLoader.loadBundle("tenor-gif")}_fetchMessagingSettings(){return(0,d.findMessagingSettingsRequest)(this.identityStore,this.lix,"com.linkedin.voyager.identity.profile.MessagingSettings",Ember.get(this,"authenticatedUser.miniProfile.entityUrn")).catch(e=>{Ember.set(this,"messageSettings",{pressEnterToSend:!0})
throw e})}_restoreCachedState(e){const t=this.msgOverlay.getCachedOverlayData()
Ember.get(e,"messagingOverlayPopups")&&this._setListMinimizedState(t)
Object.keys(t).length&&this._showCachedConvos(t)}_handleDeeplink(e){const{chatId:t,msgConversationId:n,msgRecipientId:s,msgCompose:a,msgRecent:o,msgFilter:r,msgControlName:i}=e,l=this._fetchOverlayData(r)
if("true"===a){let e=Ember.RSVP.resolve()
s&&(e=this.identityStore.findRecord("com.linkedin.voyager.identity.shared.MiniProfile",s))
e.then(e=>{if(!this.isDestroying){this._newConversation({isMinimized:!1,isJumbo:!0,isNew:!0,messageRecipients:e?[e]:void 0})
this.msgOverlay.updateListBubbleMinimizeState(!1)
this._measureListBubbleAutomaticOpenPerformance()
Ember.set(this,"focusedMessagingMode",!0)}})}else if(n)this.msgDataManager.fetchConversation(n).then(e=>{this.isDestroying||this._showDeeplinkedConvo(e,i)})
else if(t)this._showConversationPreview(t)
else if(o){Ember.set(this,"currentConvosFilter",r)
l.then(e=>{this.isDestroying||e.conversation&&this._showDeeplinkedConvo(Ember.get(this,"sortedConversations.firstObject"))})}return l}_showConversationPreview(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
this._newConversation({previewKey:e,isConversationPreview:!0,isMinimized:!1,isJumbo:!0,focusInputOnInit:!0})
Ember.set(this,"focusedMessagingMode",t)}_showDeeplinkedConvo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:""
this._createConversationBubble({conversation:e,inmailReplyDeepLink:t,isMinimized:!1,isJumbo:!0,hasUnseenMessages:!Ember.get(e,"read"),focusInputOnInit:!0})
this.msgOverlay.updateListBubbleMinimizeState(!1)
this._measureListBubbleAutomaticOpenPerformance()
Ember.set(this,"focusedMessagingMode",!0)}_filterConversationsBy(e){Ember.setProperties(this,{dataLoaded:!1,dataFetchInProgress:!0,currentConvosFilter:e})
const t={q:"search"}
"ARCHIVED"===e?t.folders=[e]:e?t.filters=[e]:delete t.q
let n
if(e){n=this.msgDataManager.initConversationCollection({name:`${e}-${Date.now()}`,initialQuery:t})
Ember.set(this,"_filteredConversationCollection",n)}else n=this.msgDataManager.allConversationsCollection
const s=n.fetchAndLoad(t).then(t=>{if(!this.isDestroying&&this.unreadBadgerEnabled&&"UNREAD"===e){t.length<20&&t.length!==this.msgBadgeManager.unreadConversationsCount&&this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"unread-conversations-count-mismatch-badge-number"})
n.length>0&&0===this.msgBadgeManager.unreadConversationsCount&&this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"unread-conversations-when-badge-is-zero"})}})
Ember.set(this,Ne.ALL,n)
return s.finally(()=>{this.isDestroying||Ember.setProperties(this,{dataLoaded:!0,dataFetchInProgress:!1})})}_attachListeners(){if(i.default){(0,g.addEventListener)(this,window,"blur",this._onWindowBlur.bind(this));(0,g.addEventListener)(this,window,"focus",this._onWindowFocus.bind(this));(0,g.addEventListener)(this,document,"click",this._exitFocusedMessagingMode);(0,g.addEventListener)(this,window,"visibilitychange",this._handleVisibilityChange.bind(this))
this.msgOverlay.on("newConversation",this,"_newConversation")
this.msgOverlay.on("conversationPreview",this,"openConversationPreview")
this.msgOverlay.on("conversationLoadingState",this,"openNewLoadingBubble")
this.msgOverlay.on("closeExistingBubble",this._closeBubbleByConversation.bind(this))}}_exitFocusedMessagingMode(e){let{target:t}=e
t.classList&&t.classList.contains("msg-overlay-container__dimmed-background")&&Ember.set(this,"focusedMessagingMode",!1)}_setListMinimizedState(e){if(this.msgOverlay.forcedMinimizedAtRoute)return
const t=Ember.get(e,"_listBubble")
if(t&&!Ember.get(t,"isMinimized")){this.msgOverlay.updateListBubbleMinimizeState(!1)
this._measureListBubbleAutomaticOpenPerformance()}}_showCachedConvos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t=Ember.get(e,"_conversationWindows")
if(!t||this.msgOverlay.forcedMinimizedAtRoute)return
const n=t.reduce((e,t)=>{let{convoRecordPromises:n,cachedConvoJumboState:s,cachedConvoMinimzedState:a}=e
const{convoId:o,isJumbo:r,isMinimized:i}=t,l=this.msgDataManager.fetchConversation(o)
n.push(l)
s[o]=r
a[o]=i
return{convoRecordPromises:n,cachedConvoJumboState:s,cachedConvoMinimzedState:a}},{convoRecordPromises:[],cachedConvoJumboState:{},cachedConvoMinimzedState:{}})
Ember.RSVP.all(n.convoRecordPromises).then(e=>{e.forEach(e=>{var t
this.msgDataManager.fetchParticipantReceipts(Ember.get(e,"id")).then(t=>{this.msgDataManager.seenReceiptsManager.setSeenReceipts(Ember.get(e,"entityUrn"),t)})
const s=null!==(t=n.cachedConvoJumboState[e.id])&&void 0!==t?t:Ember.get(e,"groupChat")
this._createConversationBubble({conversation:e,isMinimized:!this.popupsAreEnabled||n.cachedConvoMinimzedState[e.id],isJumbo:s,hasUnseenMessages:!Ember.get(e,"read")})})})}_fetchOverlayData(e){if(this.dataFetchInProgress||this.dataLoaded)return Ember.RSVP.reject()
Ember.setProperties(this,{dataFetchInProgress:!0,dataLoaded:!1})
const t=this._loadConversations(e),n=this._loadConversationBundles()
return Ember.RSVP.hashSettled({conversation:t,conversationBundles:n}).then(e=>{if(this.isDestroying)return Ember.RSVP.reject()
this.conversationDataFetched=!0
if("rejected"===Ember.get(e.conversation,"state")){Ember.set(this,"showFailedState",!0)
this.tracking.firePageViewEvent(Fe.OVERLAY_FAILED_TO_CONNECT)
return Ember.RSVP.resolve()}if(!Ember.get(this,"sortedConversations.length")&&!Ember.get(this,"suggestedRecipients.length"))return this._fetchFallbackStateData()
this.msgOverlay.listBubbleIsMinimized||this._measureListBubbleAutomaticOpenPerformance()
return Ember.RSVP.resolve(e)}).finally(()=>{this.isDestroying||Ember.setProperties(this,{dataFetchInProgress:!1,dataLoaded:!0})})}_measureListBubbleAutomaticOpenPerformance(){if(this.conversationDataFetched&&!this.listBubbleAutomaticOpenPerfMeasurement&&!this.listBubbleAutomaticOpenPerfMeasurement){this.listBubbleAutomaticOpenPerfMeasurement=this.rum.startPerfMeasurement("messaging-list-bubble-automatic-open")
Ember.run.schedule("afterRender",()=>{this.listBubbleAutomaticOpenPerfMeasurement&&!this.listBubbleAutomaticOpenPerfMeasurement.isClosed&&this.rum.endPerfMeasurement(this.listBubbleAutomaticOpenPerfMeasurement)})}}_fetchFallbackStateData(){const{store:e}=this,t=this.heathrow.organicAbiShouldSkipImport(),n={connectionSummary:e.findRecord("com.linkedin.voyager.relationships.shared.connection.ConnectionsSummary","GET",{reload:!1,adapterOptions:{url:`/${r.default.namespace}/relationships/connectionsSummary/`}}),isAbiComplete:t}
return Ember.RSVP.hashSettled(n).then(t=>{var n
if(this.isDestroying)return Ember.RSVP.reject()
const s=t.isAbiComplete.value,a=null!==(n=Ember.get(t,"connectionSummary.value.numConnections"))&&void 0!==n?n:0
Ember.setProperties(this,{isAbiComplete:s,numConnections:a})
return a>=ze?e.queryURL(`/${r.default.namespace}/relationships/connections`,{params:{start:0,count:4},reload:!1}):Ember.RSVP.resolve()}).then(e=>{if(this.isDestroying)return Ember.RSVP.reject()
e&&Ember.set(this,"memberConnections",Ember.get(e,"elements"))
return e})}_loadConversations(e){const t=e||this.localStorage.getItem(Be)
if(t)return this._filterConversationsBy(t).then(()=>{this.isDestroying||this.tracking.firePageViewEvent(Fe.OVERLAY_CONVERSATION_FILTERED_LIST[t])})
const n=this.msgDataManager.allConversationsCollection,s=n.metadata?Ember.RSVP.resolve():n.fetchAndLoad({count:20})
Ember.set(this,Ne.ALL,n)
return s}_loadConversationBundles(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
const t=this.msgDataManager.getConversationBundleByTargetUrl(je.URL_PENDING)
if(!e&&t){Ember.setProperties(this,{pendingMessageRequestBundle:t})
return Ember.RSVP.resolve()}return this.msgDataManager.fetchConversationBundles().then(()=>{this.isDestroying||Ember.set(this,"pendingMessageRequestBundle",this.msgDataManager.getConversationBundleByTargetUrl(je.URL_PENDING))})}_loadMessageRequestConversations(e){const t={q:"systemLabel",type:e,excludedSystemLabelTypes:["SPAM","ARCHIVE"]},n=this.msgDataManager.initConversationCollection({name:e,initialQuery:t})
Ember.set(this,e,n)
return n.fetchAndLoad(t).then(e=>!this.isDestroying&&e)}_isMessagingFormFocused(){if(i.default){const e=document.activeElement&&document.activeElement.classList
return e&&e.contains("msg-messaging-form__message")}return!1}_onWindowBlur(){this._isMessagingFormFocused()&&document.activeElement.blur()}_onWindowFocus(){this.documentTitle.resetTitle()}_handleVisibilityChange(){(0,l.default)()?this._isMessagingFormFocused()&&document.activeElement.blur():this._reloadOpenConversationEvents()}_reloadOpenConversationEvents(){return(Ember.get(this,"conversationBubbleLayoutManager.openBubbles")||[]).forEach(e=>{if(e.conversation&&Ember.get(e.conversation,"id")){const t=Ember.get(e.conversation,"id")
this.msgDataManager.initEventCollection({name:`${t}`,conversationId:t}).fetchAndLoad({reload:!0})}})}_fireWillRenderTrackingAndSetExpectedRenderState(e){this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"realtime-message-should-be-rendered-in-overlay"})
const t=this.msgDataManager.receivedRealtimeMessages[Ember.get(e,"latestEvent.entityUrn")]
t&&(t.fireExpectedRenderClientSensor=!0)}_realtimeConversationCreated(e){const t=i.default&&document.hasFocus()&&!(0,l.default)()
if((0,b.isInmailConversation)(e)&&!t){this._playSound(c.notificationSounds.RECEIVE)
this._updateDocumentTitle(e)
return!1}if(Ember.get(e,"muted")||Ember.get(e,"latestEvent.subtype")!==Le.M2M&&!Ember.get(e,"latestEvent.isInMailReply"))return!1
const n=this.conversationBubbleLayoutManager.getBubbleByConversation(e),{isMessagingRoute:s}=this
let a=!1
if(n){this._fireWillRenderTrackingAndSetExpectedRenderState(e)
if(n.isActive&&!n.isMinimized&&t)this.msgOverlay.markConversationAsRead(n)
else{Ember.set(n,"hasUnseenMessages",!0)
s||(a=!0)}}else if(!s&&"PENDING"!==Ember.get(e,"messageRequestState")&&"DECLINED"!==Ember.get(e,"messageRequestState")){this._createConversationBubble({conversation:e,focusInputOnInit:!1,hasUnseenMessages:!0,isJumbo:Ember.get(e,"groupChat"),isMinimized:!this.popupsAreEnabled,isTriggeredByRealtime:!0}).then(t=>{this.isDestroying||t&&this._fireWillRenderTrackingAndSetExpectedRenderState(e)})
a=!0}if(a&&!this.unreadBadgerEnabled){this.badging.incrementBadge("messaging");(0,g.runTask)(this,()=>{this.msgOverlay.setUnseenConvoCountFromBadge()})}t||this._updateDocumentTitle(e)
this._playSound(c.notificationSounds.RECEIVE)
return!0}_playSound(e){this.soundsEnabled&&e&&c.soundPlaybackUtils.playSound(e)}_updateDocumentTitle(e){let t,n;(0,g.runTask)(this,()=>{if(!this.isDestroying){if(Ember.get(e,"groupChat")){t="i18n_participant_messaged_group"
n=Ember.get(e,"latestEvent.from.name")}else{t="i18n_participant_messaged_you"
n=Ember.get(e,"participantNames.firstObject")}const s=this.i18n.lookupTranslation("components/msg-overlay@messaging-overlay-container",t),a=jSecure.htmlUnencode(s([{senderName:n}]))
this.documentTitle.addTitle(a)}})}_createConversationBubble(e){return this.msgOverlay.createConversationBubble(e).then(t=>{if(this.isDestroying)return!1
!t&&e.isTriggeredByRealtime&&(this.realtimeMsgNotAutoOpened=!0)
return t})}_newConversation(){let{messageRecipients:e,message:t="",subject:n="",messageActions:s={},conversationId:a="",conversationPromise:o,isConversationLoadingState:r=!1,isConversationPreview:i=!1,previewKey:l="",isOpenedFromMsgButton:c=!1,isInMailCompose:m=!1,isJumbo:d=!1,contextualTrackingInfo:u,msgAdapterOptions:p,placeholderText:g,invitationUrn:b,update:h=null,smpContent:v=null,is1on1Compose:y=!1,forwardedEvent:f,forwardedAttachments:_=[],trackingObject:E,messageContext:C,showGroupEditScreen:w,groupConversationName:O,composeOptionType:M,inMailComposeViewContext:S}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=e||[]
Ember.isArray(k)||(k=[k])
if(!w){const e=this.conversationBubbleLayoutManager.getBubbleByRecipients(k)
if(e){if(!t)return
this.msgOverlay.closeConversationBubble(e)}}const R=!b&&m,P=d||R||f&&Ember.get(f,"isInMail")
this._createConversationBubble({message:t,subject:n,messageActions:s,placeholderText:g,msgAdapterOptions:p,contextualTrackingInfo:u,messageRecipients:k,isOpenedFromMsgButton:c,focusInputOnInit:!0,conversationId:a,conversationPromise:o,isConversationLoadingState:r,isConversationPreview:i,previewKey:l,isMinimized:!1,isJumbo:P,isInMailCompose:R,isNew:!0,hasUnseenMessages:!1,invitationUrn:b,update:h,smpContent:v,is1on1Compose:y,forwardedEvent:f,attachments:_,messageContext:C,trackingObject:E,showGroupEditScreen:w,groupConversationName:O,composeOptionType:M,inMailComposeViewContext:S})}_showFirstMessage(){const{i18n:e,firstMessage:t}=this,n=Ember.get(t.getMessageInfo()||{},"inviter")
n&&this._newConversation({messageRecipients:n,message:e.lookupTranslation("components/msg-overlay@messaging-overlay-container","i18n_first_message_prompt_doing_well")()})}_closeBubbleByConversation(e){this.conversationBubbleLayoutManager.closeBubbleByConversation(e)}openConvoFiltersDropdown(e){return this._filterConversationsBy(e)}openConversation(e){this.realtimeMsgNotAutoOpened&&Ember.set(this,"realtimeMsgNotAutoOpened",!1)
if(e){this.msgDataManager.fetchParticipantReceipts(Ember.get(e,"id")).then(t=>{this.msgDataManager.seenReceiptsManager.setSeenReceipts(Ember.get(e,"entityUrn"),t)})
const t={conversation:e,isInMail:Ember.get(e,"latestEvent.isInMail"),isMinimized:!1,focusInputOnInit:!0},n=this.conversationBubbleLayoutManager.getBubbleByConversation(e)
if(n)this.msgOverlay.unminimizeAndReadConversation(n)
else{Ember.set(t,"isJumbo",Ember.get(e,"groupChat")||Ember.get(e,"latestEvent.isInMail")||"SPONSORED_INMAIL"===Ember.get(e,"latestEvent.subtype")||(0,p.isSponsoredConversation)(e)&&1===Ember.get(e,"eventCollection.data").length)
this._createConversationBubble(t)}Ember.get(e,"latestEvent.isInMail")&&this.tracking.fireInteractionEvent(xe.OPEN_INMAIL)}else this._createConversationBubble({isJumbo:!1,isMinimized:!1})}loadMessageRequestConversationList(e){return this._loadMessageRequestConversations(e)}openConversationPreview(e){let{previewKey:t,focusMode:n=!1}=e
this._showConversationPreview(t,n)}openNewLoadingBubble(e){this._newConversation(e)}newConversation(){let{recipients:e,messageActions:t,contextualTrackingInfo:n,conversationPromise:s,isConversationLoadingState:a,isConversationPreview:o,previewKey:r,isInMailCompose:i,forwardedEvent:l,showGroupEditScreen:c,isJumbo:m,composeOptionType:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this._newConversation({conversationPromise:s,isConversationLoadingState:a,isConversationPreview:o,previewKey:r,isInMailCompose:i,contextualTrackingInfo:n,forwardedEvent:l,messageActions:t,messageRecipients:e,showGroupEditScreen:c,isJumbo:m,composeOptionType:d})}handleSuccessfulDiscardRequest(e){this.conversationBubbleLayoutManager.closeBubbleByConversation(e)
this.msgDataManager.removeConversation(e).unloadRecord()}closeBubble(e){Ember.set(this,"focusedMessagingMode",!1)
this.msgOverlay.closeConversationBubble(e)}closeAudioBubble(){this.msgOverlay.closeAudioBubble()}loadMoreConversations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.ALL
return Ember.get(this,e).fetchAndLoadMore()}refetchOverlayData(){Ember.setProperties(this,{dataFetchInProgress:!1,dataLoaded:!1,showFailedState:!1})
this._fetchOverlayData()}},oe=(0,s.default)(ae.prototype,"assetLoader",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,s.default)(ae.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,s.default)(ae.prototype,"badgeService",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,s.default)(ae.prototype,"authenticatedUser",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,s.default)(ae.prototype,"store",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=(0,s.default)(ae.prototype,"identityStore",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,s.default)(ae.prototype,"lix",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,s.default)(ae.prototype,"router",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,s.default)(ae.prototype,"tracking",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,s.default)(ae.prototype,"legoTracking",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=(0,s.default)(ae.prototype,"msgOverlay",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,s.default)(ae.prototype,"msgBadgeManager",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,s.default)(ae.prototype,"heathrow",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,s.default)(ae.prototype,"localStorage",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=(0,s.default)(ae.prototype,"documentTitle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,s.default)(ae.prototype,"firstMessage",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,s.default)(ae.prototype,"msgDataManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,s.default)(ae.prototype,"msgComponentContextService",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,s.default)(ae.prototype,"clientSensor",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,s.default)(ae.prototype,"rum",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(ae.prototype,"sortedConversations",[B],Object.getOwnPropertyDescriptor(ae.prototype,"sortedConversations"),ae.prototype),Me=(0,s.default)(ae.prototype,"hasMoreConversations",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=(0,s.default)(ae.prototype,"popupsAreEnabled",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,s.default)(ae.prototype,"soundsEnabled",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=(0,s.default)(ae.prototype,"suggestedRecipients",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,s.default)(ae.prototype,"showAudioBubble",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,s.default)(ae.prototype,"isMessagingRoute",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,s.default)(ae.prototype,"isProfileRoute",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,s.default)(ae.prototype,"isContextualRoute",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(ae.prototype,"openConvoFiltersDropdown",[Y],Object.getOwnPropertyDescriptor(ae.prototype,"openConvoFiltersDropdown"),ae.prototype),(0,s.default)(ae.prototype,"openConversation",[K],Object.getOwnPropertyDescriptor(ae.prototype,"openConversation"),ae.prototype),(0,s.default)(ae.prototype,"loadMessageRequestConversationList",[W],Object.getOwnPropertyDescriptor(ae.prototype,"loadMessageRequestConversationList"),ae.prototype),(0,s.default)(ae.prototype,"openConversationPreview",[J],Object.getOwnPropertyDescriptor(ae.prototype,"openConversationPreview"),ae.prototype),(0,s.default)(ae.prototype,"openNewLoadingBubble",[X],Object.getOwnPropertyDescriptor(ae.prototype,"openNewLoadingBubble"),ae.prototype),(0,s.default)(ae.prototype,"newConversation",[$],Object.getOwnPropertyDescriptor(ae.prototype,"newConversation"),ae.prototype),(0,s.default)(ae.prototype,"handleSuccessfulDiscardRequest",[Q],Object.getOwnPropertyDescriptor(ae.prototype,"handleSuccessfulDiscardRequest"),ae.prototype),(0,s.default)(ae.prototype,"closeBubble",[Z],Object.getOwnPropertyDescriptor(ae.prototype,"closeBubble"),ae.prototype),(0,s.default)(ae.prototype,"closeAudioBubble",[ee],Object.getOwnPropertyDescriptor(ae.prototype,"closeAudioBubble"),ae.prototype),(0,s.default)(ae.prototype,"loadMoreConversations",[te],Object.getOwnPropertyDescriptor(ae.prototype,"loadMoreConversations"),ae.prototype),(0,s.default)(ae.prototype,"refetchOverlayData",[ne],Object.getOwnPropertyDescriptor(ae.prototype,"refetchOverlayData"),ae.prototype),ae))||se)
e.default=He
Ember._setComponentTemplate(Ie,He)})
define("msg-overlay/components/novice-state",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"AEgTFxHJ",block:'{"symbols":["connection","@memberConnections","@newConversation","&attrs"],"statements":[[11,"div"],[24,0,"text-align-center p5"],[17,4],[12],[2,"\\n"],[6,[37,3],[[32,2]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"mb4"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,2]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[8,"ember-vector-images@lazy-image",[],[["@image","@class","@ghostType","@width"],[[32,1,["miniProfile","picture"]],"EntityPhoto-circle-2-stackedFacepile","person",40]],null],[2,"\\n"]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n    "],[10,"h4"],[14,0,"t-16 t-black t-bold mb3"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_reach_out","msg-overlay/components/novice-state"],null]],[2,"\\n    "],[13],[2,"\\n    "],[10,"p"],[14,0,"t-14 t-black--light t-normal mb5"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_has_connections","msg-overlay/components/novice-state"],null]],[2,"\\n    "],[13],[2,"\\n    "],[8,"artdeco-button@artdeco-button",[],[["@click"],[[32,3]]],[["default"],[{"statements":[[2,"\\n      "],[1,[30,[36,0],["i18n_send_message","msg-overlay/components/novice-state"],null]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"p"],[14,0,"t-14 t-black--light t-normal"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_no_connections","msg-overlay/components/novice-state"],null]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["t","-track-array","each","if"]}',meta:{moduleName:"msg-overlay/components/novice-state.hbs"}})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})
define("msg-overlay/components/recommendation-card",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"AGEADiTC",block:'{"symbols":["@actor","@suggestion","@impressionTrackingHandler","@messageRecommendation","@interactionTrackingHandler","@isFeedContext"],"statements":[[11,"li"],[24,0,"msg-overlay-list-bubble__convo-item msg-overlay-list-bubble__profile-item"],[4,[38,4],[[32,3]],[["routeName","currentRoute"],[[30,[36,3],[[30,[36,2],["outletState"],null],"render.name"],null],[30,[36,3],[[30,[36,2],["outletState"],null],"render"],null]]]],[12],[2,"\\n  "],[11,"button"],[24,0,"msg-conversation-listitem__link msg-overlay-list-bubble__convo-item-link"],[24,"tabindex","0"],[24,4,"button"],[4,[38,5],["click",[32,4]],null],[4,[38,5],["keydown",[32,4]],[["preventDefault"],[true]]],[4,[38,6],["overlay_message_recommendation"],[["onInteract"],[[32,5]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"msg-conversation-card msg-overlay-list-bubble__convo-card"],[12],[2,"\\n      "],[10,"div"],[14,0,"msg-conversation-card__presence-entity-container"],[12],[2,"\\n        "],[8,"presence@entity-with-presence",[[24,0,"msg-conversation-card__presence-entity"]],[["@miniProfile","@size"],[[32,2,["miniProfile"]],3]],null],[2,"\\n      "],[13],[2,"\\n      "],[10,"div"],[14,0,"msg-overlay-list-bubble__convo-card-content msg-overlay-list-bubble__contextual-convo-card-content"],[12],[2,"\\n        "],[10,"div"],[14,0,"msg-overlay-list-bubble__convo-card-content-wrapper"],[12],[2,"\\n          "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n            "],[10,"h4"],[14,0,"truncate t-14 t-black"],[12],[2,"\\n              "],[1,[30,[36,7],null,[["firstName","lastName","type"],[[32,2,["miniProfile","firstName"]],[32,2,["miniProfile","lastName"]],"full"]]]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n\\n          "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n            "],[10,"span"],[14,0,"msg-overlay-list-bubble__message-snippet m0 t-12 t-black--light t-normal block truncate"],[12],[2,"\\n              "],[1,[32,2,["miniProfile","occupation"]]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n\\n          "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n"],[6,[37,8],[[32,6]],null,[["default"],[{"statements":[[6,[37,1],[[32,2,["reasons"]]],null,[["default"],[{"statements":[[2,"            "],[10,"span"],[14,0,"t-12 t-black--light t-normal t-italic block truncate mt1"],[12],[2,"\\n              "],[1,[30,[36,1],[[32,2,["isCurrentEmployee"]],[30,[36,0],["works_at","msg-overlay/components/recommendation-card"],[["actor"],[[32,1]]]],[30,[36,1],[[32,2,["isPreviousEmployee"]],[30,[36,0],["has_worked_at","msg-overlay/components/recommendation-card"],[["actor"],[[32,1]]]],[30,[36,1],[[32,2,["isConnectingMember"]],[30,[36,0],["knows_people_at","msg-overlay/components/recommendation-card"],[["connectionCount","actor"],[[32,2,["suggestionReason","numSecondDegreeMembers"]],[32,1]]]]],null]],null]],null]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","if","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","on","ember-cli-pemberly-tracking@track-interaction","ember-cli-pemberly-i18n@format-name","unless"]}',meta:{moduleName:"msg-overlay/components/recommendation-card.hbs"}})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})
define("msg-overlay/components/search-connection-item",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"U9tKEOno",block:'{"symbols":["@caption","&attrs","@onMouseMove","@onClick","@profile"],"statements":[[11,"li"],[24,0,"msg-overlay-list-bubble-search__list-item display-flex align-items-center pv2 ph3"],[17,2],[4,[38,1],["mousemove",[32,3]],null],[4,[38,1],["click",[32,4]],null],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-overlay-search-result-picture circle display-flex flex-shrink-zero"],[12],[2,"\\n    "],[8,"ember-vector-images@lazy-image",[],[["@classNames","@image","@alt","@ghostType","@desiredWidth"],["msg-overlay-search-result-picture__background-img full-width full-height round",[32,5,["picture"]],[30,[36,0],["i18n_fullname","msg-overlay/components/search-connection-item"],[["name"],[[30,[36,2],[[32,5]],null]]]],"person",100]],null],[2,"\\n  "],[13],[2,"\\n\\n  "],[10,"div"],[14,0,"display-flex overflow-hidden pv1 pl2"],[12],[2,"\\n    "],[10,"h4"],[14,0,"msg-overlay-search-result-name t-12 t-black t-bold flex-shrink-zero truncate"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_fullname","msg-overlay/components/search-connection-item"],[["name"],[[30,[36,2],[[32,5]],null]]]]],[2,"\\n    "],[13],[2,"\\n"],[6,[37,3],[[32,1]],null,[["default"],[{"statements":[[2,"      "],[10,"span"],[14,0,"t-12 t-black--light t-normal flex-shrink-zero ph1 truncate"],[12],[2,"\\n        "],[1,[30,[36,0],["dot","msg-overlay/components/search-connection-item"],null]],[2,"\\n      "],[13],[2,"\\n      "],[10,"p"],[14,0,"t-12 t-black--light t-normal truncate"],[12],[2,"\\n        "],[1,[32,1]],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["t","on","global-helpers@name","if"]}',meta:{moduleName:"msg-overlay/components/search-connection-item.hbs"}})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})
define("msg-overlay/components/sortable-group",["exports","ember-sortable/components/sortable-group"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=t.default
e.default=n})
define("msg-overlay/components/sortable-handle",["exports","ember-sortable/components/sortable-handle"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=t.default
e.default=n})
define("msg-overlay/components/sortable-item",["exports","ember-sortable/components/sortable-item"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=t.default
e.default=n})
define("msg-overlay/components/spinmail/sponsored-conversation-bubble",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","msg-data/utils/spinmail/sponsored-conversation-properties","msg-ui/utils/conversation-properties","global-utils/utils/api-compat","msg-shared/utils/constants","msg-shared/utils/custom-tracking"],function(e,t,n,s,a,o,r,i,l,c,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,u,p,g,b,h,v,y,f,_,E,C,w,O,M,S,k,R,P
const T=Ember.HTMLBars.template({id:"5JqFJmfn",block:'{"symbols":["scroller","list","@conversation","@initialEventsRequest","@isCompanySender"],"statements":[[8,"msg-ui@message-list-scroller",[],[["@initialEventsRequest","@conversation","@latestEvent","@typingParticipants","@loadMore"],[[32,4],[32,3],[32,3,["latestEvent"]],[32,3,["typingParticipants"]],[30,[36,1],[[32,0],"loadMoreMessages"],null]]],[["default"],[{"statements":[[2,"\\n    "],[8,"msg-ui@message-list",[],[["@isOverlay","@isLoading","@conversation","@isCompanySender","@showQuickReplies","@resendMessage"],[true,[32,1,["props","isLoading"]],[32,3],[32,5],false,[30,[36,1],[[32,0],"resendMessage"],null]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,2,["props","groupedEvent","event","subtype"]],"SPONSORED_MESSAGE"],null]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-spinmail@sponsored-conversation/sponsored-message-actions",[],[["@conversation","@customContent","@saveSponsoredMessageReply"],[[32,3],[32,2,["props","groupedEvent","event","eventContent","customContent"]],[30,[36,1],[[32,0],"replyToSponsoredMessage"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"  "]],"parameters":[2]}]]],[2,"\\n\\n"],[6,[37,3],[[32,1,["props","hasNewMessages"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"msg-s-message-list__new-message msg-animation__indicator"],[12],[2,"\\n      "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n        "],[1,[30,[36,0],["a11y_new_messages","msg-overlay/components/spinmail/sponsored-conversation-bubble"],null]],[2,"\\n      "],[13],[2,"\\n      "],[8,"artdeco-button@artdeco-button",[],[["@type","@class","@size","@controlType","@click","@icon"],["primary","msg-s-message-list__new-message-button block",1,"button",[30,[36,1],[[32,0],[32,1,["actions","scrollToNewMessages"]]],null],"arrow-down-icon"]],[["default"],[{"statements":[[2,"\\n        "],[1,[30,[36,0],["i18n_new_messages_v2","msg-overlay/components/spinmail/sponsored-conversation-bubble"],null]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"\\n"],[8,"msg-spinmail@legal-text",[],[["@classNames","@legalText","@conversationId","@isSponsoredConversation"],["mh4",[32,0,["legalText"]],[32,3,["id"]],[30,[36,4],[[32,3]],null]]],null],[2,"\\n"],[6,[37,3],[[32,3,["blocked"]]],null,[["default"],[{"statements":[[2,"  "],[8,"msg-ui@conversation-unspam",[],[["@conversation"],[[32,3]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["t","action","global-helpers@eq","if","msg-shared@is-sponsored-conversation"]}',meta:{moduleName:"msg-overlay/components/spinmail/sponsored-conversation-bubble.hbs"}}),{ACTION_TYPES:D,CONTROL_NAMES:A}=c.default
let I=(d=(0,o.tagName)(""),u=Ember.inject.service("msg-data@data-manager"),p=Ember.inject.service("global-services@a11y-notification"),g=Ember.inject.service("i18n"),b=Ember.inject.service("tracking"),h=Ember.inject.service("authentication@authenticated-user"),v=Ember.inject.service("lix"),y=Ember.computed("conversation").readOnly(),f=Ember._action,_=Ember._action,E=Ember._action,d(C=(w=class extends Ember.Component{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",O,this);(0,t.default)(this,"a11yNotification",M,this);(0,t.default)(this,"i18n",S,this);(0,t.default)(this,"tracking",k,this);(0,t.default)(this,"authenticatedUser",R,this);(0,t.default)(this,"lix",P,this)}get legalText(){return(0,r.getSponsoredConversationLegalTextFromConversation)(this.conversation)}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}loadMoreMessages(){return this.conversation&&Ember.get(this,"conversation.id")?this.msgDataManager.getEventCollection(Ember.get(this,"conversation.id")).fetchAndLoadMore():Ember.RSVP.reject()}resendMessage(e){Ember.set(e,"createdAt",Date.now())
this.msgDataManager.retrySaveMessage(e)}replyToSponsoredMessage(e){e.messageReplyType=(0,i.getReplyMessageType)(this.conversation)
e.receivedMessage=this.newestMessage
e.senderID=(0,l.entityUrnToId)(Ember.get(this,"authenticatedUser.miniProfile.entityUrn"))
e.conversation=this.conversation
m.default.fireDetailActionEvent({actionType:D.SEND_MESSAGE,controlName:A.CONVERSATION.SEND,conversation:e.conversation,trackingService:this.tracking})
const t=Ember.get(e.conversation,"participants").map(e=>(0,l.entityUrnToId)(Ember.get(e,"miniProfile.entityUrn")))
e.senderID=Ember.get(this,"authenticatedUser.miniProfile.entityUrn")
const n=e
return this.msgDataManager.createAndSaveMessageEvent({participants:t,conversation:this.conversation,msgData:n}).then(()=>{this.a11yNotify("i18n_a11y_send_successful")}).catch(e=>{this.a11yNotify("i18n_a11y_send_failure")
throw e})}},O=(0,s.default)(w.prototype,"msgDataManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,s.default)(w.prototype,"a11yNotification",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,s.default)(w.prototype,"i18n",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,s.default)(w.prototype,"tracking",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,s.default)(w.prototype,"authenticatedUser",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,s.default)(w.prototype,"lix",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(w.prototype,"legalText",[y],Object.getOwnPropertyDescriptor(w.prototype,"legalText"),w.prototype),(0,s.default)(w.prototype,"loadMoreMessages",[f],Object.getOwnPropertyDescriptor(w.prototype,"loadMoreMessages"),w.prototype),(0,s.default)(w.prototype,"resendMessage",[_],Object.getOwnPropertyDescriptor(w.prototype,"resendMessage"),w.prototype),(0,s.default)(w.prototype,"replyToSponsoredMessage",[E],Object.getOwnPropertyDescriptor(w.prototype,"replyToSponsoredMessage"),w.prototype),w))||C)
e.default=I
Ember._setComponentTemplate(T,I)})
define.alias("ember-cli-search-typeahead/components/type-ahead","msg-overlay/components/type-ahead")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-auto-complete","msg-overlay/components/typeahead/typeahead-auto-complete")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-city","msg-overlay/components/typeahead/typeahead-city")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-company","msg-overlay/components/typeahead/typeahead-company")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-country","msg-overlay/components/typeahead/typeahead-country")
define("msg-overlay/components/typeahead/typeahead-current-location",["exports","ember-cli-search-typeahead/templates/components/typeahead/typeahead-current-location","ember-cli-search-typeahead/components/typeahead/typeahead-current-location"],function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s=n.default.extend({i18n:Ember.inject.service("i18n"),_getI18nText(e){return this.i18n.getMessageRenderer(t.default,e)([])}})
e.default=s})
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-degree","msg-overlay/components/typeahead/typeahead-degree")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-field-of-study","msg-overlay/components/typeahead/typeahead-field-of-study")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-geo","msg-overlay/components/typeahead/typeahead-geo")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-group","msg-overlay/components/typeahead/typeahead-group")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-hit","msg-overlay/components/typeahead/typeahead-hit")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-industry","msg-overlay/components/typeahead/typeahead-industry")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-input","msg-overlay/components/typeahead/typeahead-input")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-job-function","msg-overlay/components/typeahead/typeahead-job-function")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-language","msg-overlay/components/typeahead/typeahead-language")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-postal-code","msg-overlay/components/typeahead/typeahead-postal-code")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-profile","msg-overlay/components/typeahead/typeahead-profile")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-region","msg-overlay/components/typeahead/typeahead-region")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-result-image","msg-overlay/components/typeahead/typeahead-result-image")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-results","msg-overlay/components/typeahead/typeahead-results")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-school","msg-overlay/components/typeahead/typeahead-school")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-showcase","msg-overlay/components/typeahead/typeahead-showcase")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-site-feature","msg-overlay/components/typeahead/typeahead-site-feature")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-skill","msg-overlay/components/typeahead/typeahead-skill")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-state","msg-overlay/components/typeahead/typeahead-state")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-suggestion","msg-overlay/components/typeahead/typeahead-suggestion")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-title","msg-overlay/components/typeahead/typeahead-title")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-topic","msg-overlay/components/typeahead/typeahead-topic")
define("msg-overlay/config/environment",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="msg-overlay/config/environment",n=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(n))}catch(s){t={sparkPlaceholders:{includeHashes:["assets/media-player.amd.js"]}}}var n=t
e.default=n})
define.alias("ember-m3/adapters/interop-debug-adapter","msg-overlay/data-adapter")
define("msg-overlay/engine",["exports","@babel/runtime/helpers/esm/defineProperty","extended/resolver","ember-engines/engine","ember-load-initializers"],function(e,t,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o="msg-overlay"
class r extends s.default{constructor(){super(...arguments);(0,t.default)(this,"modulePrefix",o);(0,t.default)(this,"Resolver",n.default)}}(0,a.default)(r,o)
var i=r
e.default=i})
define.alias("ember-named-blocks-polyfill/helpers/-has-block-params","msg-overlay/helpers/-has-block-params")
define.alias("ember-named-blocks-polyfill/helpers/-has-block","msg-overlay/helpers/-has-block")
define.alias("ember-named-blocks-polyfill/helpers/-is-named-block-invocation","msg-overlay/helpers/-is-named-block-invocation")
define.alias("ember-named-blocks-polyfill/helpers/-named-block-invocation","msg-overlay/helpers/-named-block-invocation")
define.alias("ember-number-formatting/helpers/abbreviate-number","msg-overlay/helpers/abbreviate-number")
define.alias("ember-truth-helpers/helpers/and","msg-overlay/helpers/and")
define.alias("ember-cli-pemberly-i18n/helpers/bidi-dir","msg-overlay/helpers/bidi-dir")
define.alias("ember-truth-helpers/helpers/equal","msg-overlay/helpers/eq")
define.alias("ember-cli-pemberly-i18n/helpers/format-currency","msg-overlay/helpers/format-currency")
define.alias("ember-cli-pemberly-i18n/helpers/format-date","msg-overlay/helpers/format-date")
define.alias("ember-cli-pemberly-i18n/helpers/format-name","msg-overlay/helpers/format-name")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","msg-overlay/helpers/format-number")
define.alias("ember-cli-pemberly-i18n/helpers/format-time","msg-overlay/helpers/format-time")
define.alias("ember-semaphore/helpers/format-title","msg-overlay/helpers/format-title")
define.alias("ember-cli-pemberly-i18n/helpers/format-truncate","msg-overlay/helpers/format-truncate")
define.alias("ember-truth-helpers/helpers/gt","msg-overlay/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","msg-overlay/helpers/gte")
define.alias("ember-cli-pemberly-i18n/helpers/is-any-locale","msg-overlay/helpers/is-any-locale")
define.alias("ember-truth-helpers/helpers/is-array","msg-overlay/helpers/is-array")
define.alias("ember-cli-pemberly-i18n/helpers/is-cjk-language","msg-overlay/helpers/is-cjk-language")
define.alias("ember-truth-helpers/helpers/is-empty","msg-overlay/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","msg-overlay/helpers/is-equal")
define.alias("ember-cli-pemberly-i18n/helpers/is-rtl-content","msg-overlay/helpers/is-rtl-content")
define.alias("ember-cli-pemberly-i18n/helpers/is-rtl-language","msg-overlay/helpers/is-rtl-language")
define.alias("artdeco-icons-web/helpers/li-icon","msg-overlay/helpers/li-icon")
define.alias("ember-number-formatting/helpers/localized-format-currency","msg-overlay/helpers/localized-format-currency")
define.alias("ember-number-formatting/helpers/localized-format-number","msg-overlay/helpers/localized-format-number")
define.alias("ember-truth-helpers/helpers/lt","msg-overlay/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","msg-overlay/helpers/lte")
define.alias("ember-media-player/helpers/media-action-autoplay","msg-overlay/helpers/media-action-autoplay")
define.alias("ember-media-player/helpers/media-action-seekto","msg-overlay/helpers/media-action-seekto")
define.alias("ember-truth-helpers/helpers/not-equal","msg-overlay/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","msg-overlay/helpers/not")
define.alias("ember-truth-helpers/helpers/or","msg-overlay/helpers/or")
define.alias("ember-app-scheduler/helpers/route-idle","msg-overlay/helpers/route-idle")
define.alias("ember-set-helper/helpers/set","msg-overlay/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t-link-to","msg-overlay/helpers/t-link-to")
define.alias("ember-cli-pemberly-i18n/helpers/t-make-name","msg-overlay/helpers/t-make-name")
define.alias("ember-cli-pemberly-i18n/helpers/t","msg-overlay/helpers/t")
define.alias("ember-number-formatting/helpers/trim-fractional-numbers","msg-overlay/helpers/trim-fractional-numbers")
define.alias("ember-truth-helpers/helpers/xor","msg-overlay/helpers/xor")
define("msg-overlay/initializers/artdeco",["exports","artdeco-eyeglass"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=a
e.default=void 0
const n=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function s(e,t){const s=e[t]
e[t]=function(){n.forEach(e=>e&&"function"==typeof e.teardown&&e.teardown())
s&&"function"==typeof s&&s.call(e)}}function a(e){if("undefined"!=typeof document){n.forEach(e=>e.install())
"function"==typeof e.willDestroy?s(e,"willDestroy"):"function"==typeof e.destroy&&s(e,"destroy")}}var o={name:"artdeco",initialize:a}
e.default=o})
define("msg-overlay/initializers/ember-faker",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=t
e.default=void 0
function t(){}var n={name:"ember-faker",initialize:t}
e.default=n})
define.alias("ember-cli-pemberly-i18n/initializers/i18n","msg-overlay/initializers/i18n")
define("msg-overlay/initializers/icons",["exports","artdeco-icons-web/src/icons","msg-overlay/config/environment"],function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function s(e){throw e}var a={name:"icons",initialize:function(){const{environment:e,APP:a}=n.default
let o,r
a&&({artdecoCustomSpriteUrl:o,artdecoCustomSpriteName:r}=a)
const i="test"!==e
t.default.load(i,o,r).catch(s)}}
e.default=a})
define.alias("ember-m3/initializers/m3-store","msg-overlay/initializers/m3-store")
define("msg-overlay/initializers/override-safestring",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=a
e.default=void 0
const t="ember-glimmer",n="ember-htmlbars/utils/string",s="@ember/-internals/glimmer"
function a(){let e,a=Ember.__loader.require.has
if(a(s))e=Ember.__loader.require(s).SafeString
else if(a(t))e=Ember.__loader.require(t).SafeString
else{if(!a(n))throw new Error("Cannot locate SafeString class for overriding")
e=Ember.__loader.require(n).SafeString}e.prototype.toHTML=function(){return jSecure.sanitizeHTML(this.toString())}
e.prototype.toString=function(){return`${this.string}`}}var o={name:"override-safestring",initialize:a}
e.default=o})
define("msg-overlay/instance-initializers/-t-link-to",["exports","ember-stdlib/utils/is-browser"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=n
e.default=void 0
function n(e){t.default&&e.lookup("service:-t-link-to")}var s={name:"-t-link-to",initialize:n}
e.default=s})
define.alias("ember-number-formatting/instance-initializers/inject-formatters","msg-overlay/instance-initializers/inject-formatters")
define.alias("@ember/render-modifiers/modifiers/did-insert","msg-overlay/modifiers/did-insert")
define.alias("@ember/render-modifiers/modifiers/did-update","msg-overlay/modifiers/did-update")
define.alias("ember-sortable/modifiers/sortable-group","msg-overlay/modifiers/sortable-group")
define.alias("ember-sortable/modifiers/sortable-handle","msg-overlay/modifiers/sortable-handle")
define.alias("ember-sortable/modifiers/sortable-item","msg-overlay/modifiers/sortable-item")
define.alias("@ember/render-modifiers/modifiers/will-destroy","msg-overlay/modifiers/will-destroy")
define.alias("ember-cli-pemberly-i18n/services/-t-link-to","msg-overlay/services/-t-link-to")
define.alias("artdeco-hoverables/services/artdeco-hoverable","msg-overlay/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","msg-overlay/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast-time-ago","msg-overlay/services/artdeco-toast-time-ago")
define.alias("artdeco-toast/services/artdeco-toast","msg-overlay/services/artdeco-toast")
define.alias("authentication/services/authenticated-user","msg-overlay/services/authenticated-user")
define.alias("client-sensor-web/services/client-sensor","msg-overlay/services/client-sensor")
define.alias("ember-date-service/services/date","msg-overlay/services/date")
define.alias("ember-cli-pemberly-i18n/services/formatter","msg-overlay/services/formatter")
define.alias("authentication/services/guest-user","msg-overlay/services/guest-user")
define.alias("ember-cli-pemberly-i18n/services/i18n","msg-overlay/services/i18n")
define.alias("@linkedin/ember-pem/services/internal-event-utils","msg-overlay/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","msg-overlay/services/internal-pem-tracking")
define.alias("ember-cli-pemberly-i18n/services/locale","msg-overlay/services/locale")
define.alias("ember-m3/services/m3-schema-manager","msg-overlay/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","msg-overlay/services/media-player")
define.alias("ember-cli-search-typeahead/services/modal-manager","msg-overlay/services/modal-manager")
define.alias("ember-number-formatting/services/number-formatter","msg-overlay/services/number-formatter")
define.alias("ember-number-formatting/services/number-locale","msg-overlay/services/number-locale")
define.alias("@linkedin/ember-pem/services/pem-tracking","msg-overlay/services/pem-tracking")
define.alias("persistent-toast-manager/services/persistent-toast-manager","msg-overlay/services/persistent-toast-manager")
define.alias("ember-media-player/services/static-asset-loader","msg-overlay/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","msg-overlay/services/store")
define.alias("authentication/services/transition-store","msg-overlay/services/transition-store")
define.alias("ember-singularity/services/unified-event-handler","msg-overlay/services/unified-event-handler")
define("msg-overlay/templates/application",["exports"],function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t=Ember.HTMLBars.template({id:"/7CCjS/t",block:'{"symbols":[],"statements":[[8,"msg-overlay@messaging-overlay-container",[],[[],[]],null]],"hasEval":false,"upvars":[]}',meta:{moduleName:"msg-overlay/templates/application.hbs"}})
e.default=t})
define.alias("client-sensor-web/utils/counter-buffer","msg-overlay/utils/counter-buffer")
define.alias("client-sensor-web/utils/helpers","msg-overlay/utils/helpers")
define("msg-overlay/utils/recommendation-helpers",["exports","msg-shared/utils/constants"],function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.normalizeUsecase=function(e,t){return`${r[e]}_${t?"FULL":"SHORT"}`}
e.USECASE_PARTIAL_LOOKUP=void 0
const{CONTEXT_TYPES:{FEED_CONTEXT:n,JOB_CONTEXT:s,COMPANY_CONTEXT:a,PROFILE_CONTEXT:o}}=t.OVERLAY,r={[n]:"ARTICLE_SHARE_OVERLAY",[s]:"OVERLAY_JOB",[a]:"OVERLAY_COMPANY",[o]:"OVERLAY_PROFILE"}
e.USECASE_PARTIAL_LOOKUP=r})
define.alias("client-sensor-web/utils/run-loop-helpers","msg-overlay/utils/run-loop-helpers")
define.alias("@linkedin/artdeco-datepicker/utils/should-use-timezone","msg-overlay/utils/should-use-timezone")
define.alias("ember-vector-images/utils/vector-url","msg-overlay/utils/vector-url")

//# sourceMappingURL=engine.map